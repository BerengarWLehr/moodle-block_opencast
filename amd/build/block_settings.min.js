define ("block_opencast/block_settings",["exports","block_opencast/tabulator","jquery","core/modal_factory","core/modal_events"],function(a,b,c,d,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;b=f(b);c=f(c);d=f(d);e=f(e);function f(a){return a&&a.__esModule?a:{default:a}}var g=function(a,f,g,h,i){(0,c.default)("#"+g).parent().hide();(0,c.default)("#"+g).parent().next().hide();(0,c.default)("#"+i).parent().hide();(0,c.default)("#"+i).parent().next().hide();var j=new b.default("#rolestable",{data:JSON.parse(f),layout:"fitColumns",dataChanged:function dataChanged(a){a=a.filter(function(a){return a.rolename});(0,c.default)("#"+g).val(JSON.stringify(a))},columns:[{title:a.role,field:"rolename",editor:"input",widthGrow:4},{title:a.actions,field:"actions",editor:"input",widthGrow:1},{title:a.permanent,field:"permanent",hozAlign:"center",widthGrow:0,formatter:function formatter(a){var b=document.createElement("input");b.type="checkbox";b.checked=a.getValue();b.addEventListener("click",function(){a.getRow().update({permanent:(0,c.default)(this).prop("checked")?1:0})});return b}},{title:"",width:40,headerSort:!1,hozAlign:"center",formatter:function formatter(){return"<i class=\"icon fa fa-trash fa-fw\"></i>"},cellClick:function cellClick(b,c){d.default.create({type:d.default.types.SAVE_CANCEL,title:a.delete_role,body:a.delete_confirm_role}).then(function(b){b.setSaveButtonText(a.delete);b.getRoot().on(e.default.save,function(){c.getRow().delete()});b.show()})}}]});(0,c.default)("#addrow-rolestable").click(function(){j.addRow({permanent:0})});var k=new b.default("#metadatatable",{data:JSON.parse(h),layout:"fitColumns",movableRows:!0,rowMoved:function rowMoved(){var a=k.getRows().map(function(a){return a.getData()});a=a.filter(function(a){return a.name});window.console.log(a);(0,c.default)("#"+i).val(JSON.stringify(a))},dataChanged:function dataChanged(){var a=k.getRows().map(function(a){return a.getData()});a=a.filter(function(a){return a.name});(0,c.default)("#"+i).val(JSON.stringify(a))},columns:[{title:a.name,field:"name",editor:"input",widthGrow:1,headerSort:!1},{title:a.datatype,field:"datatype",widthGrow:1,headerSort:!1,editor:"select",editorParams:{values:{text:"String (text)",select:"Drop Down (select)",autocomplete:"Arrays (autocomplete)",textarea:"Long Text (textarea)",date_time_selector:"Date Time Selector (datetime)"}}},{title:a.required,field:"required",hozAlign:"center",widthGrow:0,headerSort:!1,formatter:function formatter(a){var b=document.createElement("input");b.type="checkbox";b.checked=a.getValue();b.addEventListener("click",function(){a.getRow().update({required:(0,c.default)(this).prop("checked")?1:0})});return b}},{title:a.readonly,field:"readonly",hozAlign:"center",widthGrow:0,headerSort:!1,formatter:function formatter(a){var b=document.createElement("input");b.type="checkbox";b.checked=a.getValue();b.addEventListener("click",function(){a.getRow().update({readonly:(0,c.default)(this).prop("checked")?1:0})});return b}},{title:a.param_json,field:"param_json",editor:"textarea",widthGrow:2,headerSort:!1},{title:"",width:40,headerSort:!1,hozAlign:"center",formatter:function formatter(){return"<i class=\"icon fa fa-trash fa-fw\"></i>"},cellClick:function cellClick(b,c){d.default.create({type:d.default.types.SAVE_CANCEL,title:a.delete_metadata,body:a.delete_confirm_metadata}).then(function(b){b.setSaveButtonText(a.delete);b.getRoot().on(e.default.save,function(){c.getRow().delete()});b.show()})}}]});window.console.log(k);(0,c.default)("#addrow-metadatatable").click(function(){k.addRow({datatype:"text",required:0,readonly:0,param_json:null})})};a.init=g});
//# sourceMappingURL=block_settings.min.js.map
