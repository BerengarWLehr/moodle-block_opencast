{"version":3,"sources":["../src/tabulator.js"],"names":["_typeof","Symbol","iterator","obj","constructor","prototype","global","factory","exports","module","define","amd","Tabulator","Array","findIndex","Object","defineProperty","value","predicate","TypeError","o","len","length","thisArg","arguments","k","kValue","call","find","String","includes","search","start","RegExp","indexOf","searchElement","fromIndex","n","Math","max","abs","sameValueZero","x","y","isNaN","assign","target","to","index","nextSource","nextKey","hasOwnProperty","writable","configurable","ColumnManager","table","blockHozScrollEvent","headersElement","createHeadersElement","element","createHeaderElement","rowManager","columns","columnsByIndex","columnsByField","scrollLeft","insertBefore","firstChild","el","document","createElement","classList","add","options","headerVisible","initialize","setRowManager","manager","getElement","getHeadersElement","scrollHorizontal","left","hozAdjust","scrollWidth","clientWidth","style","marginLeft","modExists","modules","frozenColumns","generateColumnsFromRowData","data","cols","definitions","autoColumnsDefinitions","row","sorter","key","col","field","title","isArray","match","push","forEach","def","setColumns","self","removeChild","reset","_addColumn","_reIndexColumns","responsiveLayout","virtualDomHoz","vdomHoz","reinitialize","redraw","definition","before","nextToColumn","column","Column","colEl","findColumnIndex","parentIndex","getTopColumn","nextEl","splice","parentNode","nextSibling","unshift","appendChild","columnRendered","registerColumnField","registerColumnPosition","reRegisterPosition","_verticalAlignHeaders","minHeight","height","clearVerticalAlign","getHeight","verticalAlign","columnHeaderVertAlign","adjustTableSize","findColumn","subject","ColumnComponent","_getSelf","HTMLElement","getColumnByField","getColumnsByFieldRoot","root","_this","matches","keys","fieldRoot","split","getColumnByIndex","getFirstVisibileColumn","visible","getColumns","getRealColumns","traverse","callback","i","getDefinitions","active","output","getDefinition","getDefinitionTree","getComponents","structured","getComponent","getWidth","width","moveColumn","from","after","moveColumnActual","columnCalcs","recalc","activeRows","parent","isGroup","_moveColumnInArray","columnMoved","columnManager","persistence","config","save","updateRows","_this2","toIndex","rows","dataTree","concat","getTreeChildren","cells","cell","scrollToColumn","position","ifVisible","_this3","offset","adjust","Promise","resolve","reject","scrollToColumnPosition","scrollToColumnIfVisible","offsetLeft","offsetWidth","min","console","warn","generateCells","generateCell","getFlexBaseWidth","totalWidth","fixedWidth","scrollHeight","clientHeight","minWidth","colWidth","columnMinWidth","parseInt","addColumn","_this4","layout","getMode","reinitializeWidth","deregisterColumn","getField","force","helpers","elVisible","resetScroll","update","footerManager","_column","type","getCells","getVisibility","isVisible","show","hide","toggle","delete","getSubColumns","getParentColumn","scrollTo","getTable","headerFilterFocus","filter","setHeaderFilterFocus","reloadHeaderFilter","getHeaderFilterValue","setHeaderFilterValue","move","toColumn","getNextColumn","nextCol","nextColumn","getPrevColumn","prevCol","prevColumn","updateDefinition","updates","setWidth","result","validate","contentElement","titleHolderElement","titleElement","groupElement","createGroupElement","tooltip","hozAlign","vertAlign","fieldStructure","getFieldValue","setFieldValue","titleFormatterRendered","setField","invalidOptionWarnings","checkDefinition","cellEvents","cellClick","cellDblClick","cellContext","cellTap","cellDblTap","cellTapHold","cellMouseEnter","cellMouseLeave","cellMouseOver","cellMouseOut","cellMouseMove","widthStyled","maxWidth","maxWidthStyled","minWidthStyled","widthFixed","component","_mapDepricatedFunctionality","newCol","attachColumn","checkColumnVisibility","rowHandle","movableRows","moveRow","setHandle","_buildHeader","bindModuleColumns","setAttribute","_this5","defaultOptionList","nestedFieldSeparator","_getNestedData","_getFlatData","_setNestedData","_setFlatData","hideInHtml","htmlOutput","align","downloadTitle","titleDownload","setTooltip","headerTooltip","tooltipsHeader","localize","bind","headerVertical","_bindEvents","_buildColumnHeaderContent","_buildGroupHeader","_buildColumnHeader","resizableColumns","resizeColumns","initializeColumn","headerFilter","headerFilterPlaceholder","setHeaderFilterColumnPlaceholder","movableColumns","topCalc","bottomCalc","addEventListener","dblTap","tapHold","tap","headerClick","e","headerDblClick","headerContext","headerTap","passive","headerDblTap","clearTimeout","setTimeout","headerTapHold","cellEdited","cellEditing","cellEditCancelled","_this6","sort","headerContextMenu","headerClickMenu","headerMenu","menu","initializeColumnHeader","format","editor","edit","validator","mutator","accessor","cssClass","classeNames","className","setMinWidth","columnMaxWidth","setMaxWidth","tooltips","cellHozAlign","cellVertAlign","textAlign","headerHozAlign","_buildColumnHeaderTitle","editableTitle","stopPropagation","focus","columnTitleChanged","text","_formatColumnHeaderTitle","_this7","formatter","contents","params","mockCell","onRendered","titleFormatter","getFormatter","getValue","titleFormatterParams","Node","innerHTML","_this8","dataObj","structure","_i","_i2","alignment","parentHeight","getGroupElement","offsetHeight","paddingTop","rowNumColumn","getFirstColumn","getLastColumn","updateBranches","colDefs","columnVisibilityChanged","silent","responsiveToggle","display","updateColumnVisibility","matchChildWidths","childWidth","child","setWidthActual","floor","checkCellHeights","heightInitialized","offsetParent","clearCellHeight","calcHeight","setCellHeight","_this9","currentCell","cancelEdit","cellCount","_i3","invalid","Cell","_nextVisibleColumn","_prevVisibleColumn","hideHeaderFilterElements","fitToData","showHeaderFilterElements","clearWidth","_this10","then","catch","err","deleteCell","RowManager","createHolderElement","tableElement","createTableElement","heightFixer","firstRender","renderMode","fixedHeight","activeRowsCount","displayRows","displayRowsCount","scrollTop","vDomRowHeight","vDomTop","vDomBottom","vDomScrollPosTop","vDomScrollPosBottom","vDomTopPad","vDomBottomPad","vDomMaxRenderChain","vDomWindowBuffer","vDomWindowMinTotalRows","vDomWindowMinMarginRows","vDomTopNewRows","vDomBottomNewRows","redrawBlock","redrawBlockRestoreConfig","redrawBlockRederInPosition","getTableElement","getRowPosition","setColumnManager","setRenderMode","groupBy","groupRows","scrollHeaders","top","dir","scrollVertical","ajaxProgressiveLoad","ajax","nextPage","findRow","Row","RowComponent","_match","getRowFromDataObject","getRowFromPosition","scrollToRow","_this11","rowIndex","getDisplayRows","rowEl","rowTop","scrollToRowPosition","scrollToRowIfVisible","elOffset","_virtualRenderFill","offsetTop","setData","renderInPosition","columnsChanged","_this12","pagination","_setDataActual","reRenderInPosition","autoColumns","dataLoading","_wipeElements","history","clear","selectRow","clearSelectionData","reactiveData","watchData","refreshActiveData","dataLoaded","error","wipe","deleteRow","blockRedraw","allIndex","activeIndex","setActiveRows","displayRowIterator","displayIndex","regenerateRowNumbers","rowDeleted","dataChanged","getData","updateGroupRows","addRow","pos","addRowActual","action","addRows","_this13","findAddRowPos","reverse","item","addRowPos","dispRows","paginationAddRow","page","getPageSize","assignRowToGroup","getGroup","_moveRowInArray","rowAdded","posFrom","posTo","moveRowActual","rowMoved","_this14","Group","prevDisplayRow","toGroup","fromGroup","removeRow","insertRow","end","_i4","styleRow","clearData","getRowIndex","findRowIndex","getDisplayRowIndex","nextDisplayRow","rowOnly","nextRow","prevRow","list","transform","getRows","getDataCount","_genRemoteRequest","_this15","ajaxSorting","sorters","getSort","paginationDataSentNames","ajaxFiltering","filters","getFilters","setParams","sendRequest","filterRefresh","setPage","loadData","sorterRefresh","loadOrignalData","progressiveLoad","stage","skipStage","cascadeOrder","selectable","selectablePersistence","deselectRows","slice","resetDisplayRows","frozenRows","isFrozen","getDisplayIndex","setDisplayIndex","getNextDisplayIndex","setDisplayRows","setMaxRows","dataChange","renderTable","layoutColumnsOnNewData","_this16","getCell","_generateContents","getVisibleRows","viewable","topEdge","bottomEdge","topFound","topRow","bottomRow","selectedRows","getRenderMode","topOffset","diff","virtualDom","renderStarted","_simpleRender","renderEmptyScroll","placeholder","renderComplete","_clearVirtualDom","checkClassicModeGroupHeaderWidth","onlyGroupHeaders","paddingBottom","visibility","remove","forceMove","holder","topPad","rowsHeight","topPadHeight","heightOccupied","ceil","rowHeight","normalizeHeight","vDomScrollHeight","countGroups","topDiff","bottomDiff","margin","_addTopRow","_removeBottomRow","_removeTopRow","_addBottomRow","topRowHeight","initialized","_quickNormalizeRowHeight","bottomRowHeight","initialHeight","otherHeight","getBoundingClientRect","external","maxHeight","virtualDomBuffer","resizeTable","autoResize","restoreRedraw","tableWidth","browser","event","createEvent","initEvent","dispatchEvent","Event","VDomHoz","holderEl","leftCol","rightCol","vDomScrollPosLeft","vDomScrollPosRight","vDomPadLeft","vDomPadRight","fitDataColAvg","window","compatabilityCheck","frozen","ok","rtl","_this17","scroll","deinitialize","change","collsWidth","colEnd","group","getGroups","fitDataLayoutOverride","_i5","_this18","old","colPos","leftPos","rightPos","paddingLeft","paddingRight","reinitChanged","renitializeRows","_this19","_this20","reinitializeRow","addColRight","removeColLeft","addColLeft","removeColRight","colPositionAdjust","_i6","oldWidth","widthDiff","cellRendered","prepend","initializeRow","_i7","_row","getIndex","getPosition","pageTo","setPageToRow","moveToRow","updateData","select","selectRows","deselect","toggleSelect","toggleRow","isSelected","isRowSelected","freeze","freezeRow","unfreeze","unfreezeRow","treeCollapse","collapseRow","treeExpand","expandRow","treeToggle","getTreeParent","addTreeChild","addTreeChildRow","reformat","getNextRow","getPrevRow","heightStyled","manualHeight","outerHeight","created","create","generateElement","detachElement","rowContextMenu","rowClickMenu","rowClick","rowDblClick","rowContext","rowMouseEnter","rowMouseLeave","rowMouseOver","rowMouseOut","rowMouseMove","rowTap","rowDblTap","rowTapHold","_this21","deleteCells","layoutRow","rowFormatter","resizableRows","resizeRows","reinitializeHeight","setHeight","clearHeight","transformRow","watchRow","updatedData","_this22","tempData","newRowData","JSON","parse","block","attrname","unblock","setValueProcessData","groupUpdateOnCellEdit","reassignRowToGroup","redrawNeeded","rowUpdated","getCellIndex","findCell","findNextEditableCell","nextCell","allowEdit","check","findPrevEditableCell","prevCell","toRow","_this23","deleteActual","detatchModules","rowDelete","recalcRowGroup","_deselectRow","detachRow","_i8","CellComponent","_cell","getOldValue","getInitialValue","initialValue","getRow","getColumn","setValue","mutate","restoreOldValue","setValueActual","restoreInitialValue","isEdited","edited","clearEdited","isValid","clearValidation","nav","checkHeight","oldValue","loaded","build","_configureCell","alignItems","bottom","middle","justifyContent","right","center","classNames","tooltipGenerationMode","_generateTooltip","_bindClickEvents","_bindTouchEvents","_bindMouseEvents","bindEditor","initializeCell","preventDefault","selection","range","body","createTextRange","moveToElementText","getSelection","createRange","selectNode","removeAllRanges","addRange","val","formatValue","containerOnly","layoutElement","changed","newValue","transformCell","contextMenu","clickMenu","editCell","editing","getCurrentCell","valid","clearComponentHistory","calcs","next","prev","up","down","FooterManager","links","_initialize","footerElement","querySelector","append","activate","deactivate","link","footerRedraw","browserSlow","browserMobile","initializeElement","initializeOptions","_create","comms","register","defaultOptions","columnVertAlign","initialSort","initialFilter","initialHeaderFilter","columnHeaderSortMulti","sortOrderReverse","headerSort","headerSortTristate","headerSortElement","textDirection","keybindings","tabEndNewRow","clipboard","clipboardCopyStyled","clipboardCopyConfig","clipboardCopyFormatter","clipboardCopyRowRange","clipboardPasteParser","clipboardPasteAction","clipboardCopied","clipboardPasted","clipboardPasteError","downloadDataFormatter","downloadReady","blob","downloadComplete","downloadConfig","downloadRowRange","dataTreeFilter","dataTreeSort","dataTreeElementColumn","dataTreeBranchElement","dataTreeChildIndent","dataTreeChildField","dataTreeCollapseElement","dataTreeExpandElement","dataTreeStartExpanded","dataTreeRowExpanded","dataTreeRowCollapsed","dataTreeChildColumnCalcs","dataTreeSelectPropagate","printAsHtml","printFormatter","printHeader","printFooter","printCopyStyle","printStyled","printVisibleRows","printRowRange","printConfig","selectableRangeMode","selectableRollingSelection","selectableCheck","headerFilterLiveFilterDelay","locale","langs","persistentLayout","persistentSort","persistentFilter","persistenceID","persistenceMode","persistenceReaderFunc","persistenceWriterFunc","responsiveLayoutCollapseStartOpen","responsiveLayoutCollapseUseFormatters","responsiveLayoutCollapseFormatter","paginationSize","paginationInitialPage","paginationButtonCount","paginationSizeSelector","paginationElement","paginationDataSent","paginationDataReceived","ajaxURL","ajaxURLGenerator","ajaxParams","ajaxConfig","ajaxContentType","ajaxRequestFunc","ajaxLoader","ajaxLoaderLoading","ajaxLoaderError","ajaxProgressiveLoadDelay","ajaxProgressiveLoadScrollMargin","groupStartOpen","groupValues","groupHeader","groupHeaderPrint","groupHeaderClipboard","groupHeaderHtmlOutput","groupHeaderDownload","htmlOutputConfig","movableRowsConnectedTables","movableRowsConnectedElements","movableRowsSender","movableRowsReceiver","movableRowsSendingStart","movableRowsSent","movableRowsSentFailed","movableRowsSendingStop","movableRowsReceivingStart","movableRowsReceived","movableRowsReceivedFailed","movableRowsReceivingStop","movableRowsElementDrop","rowFormatterPrint","rowFormatterClipboard","rowFormatterHtmlOutput","tableBuilding","tableBuilt","rowSelectionChanged","rowSelected","rowDeselected","rowResized","columnResized","htmlImporting","htmlImported","dataEdited","ajaxRequesting","ajaxResponse","ajaxError","dataFiltering","dataFiltered","dataSorting","dataSorted","groupToggleElement","groupClosedShowCalcs","dataGrouping","dataGrouped","groupVisibilityChanged","groupClick","groupDblClick","groupContext","groupContextMenu","groupClickMenu","groupTap","groupDblTap","groupTapHold","pageLoaded","localized","validationMode","validationFailed","historyUndo","historyRedo","rtlCheck","getComputedStyle","direction","clipboardCopyHeader","columnHeaders","_clearSelection","empty","_clearObjectPointers","bindModules","tagName","htmlTableImport","parseTable","_buildElement","_loadInitialData","_this24","mod","_detectBrowser","setHeaderFilterPlaceholder","installLang","setLocale","span","load","setSort","setFilter","print","destroy","deregister","unwatchData","clearBindings","ua","navigator","userAgent","vendor","opera","test","substr","setDataFromLocalFile","extensions","_this25","input","accept","file","files","reader","FileReader","readAsText","onload","onerror","click","blockActiveRequest","_setData","inPosition","setConfig","setUrl","getUrl","searchRows","searchData","getHtml","export","printFullscreen","getAjaxUrl","replaceData","_this26","responses","addData","_this27","updateOrAddData","_this28","newRows","_this29","count","successCount","foundRows","doneCheck","a","b","_this30","updateOrAddRow","_this31","updateRow","_this32","_this33","fromRow","copyToClipboard","selector","copy","getColumnDefinitions","getColumnLayout","parseColumns","setColumnLayout","mergeDefinition","showColumn","hideColumn","toggleColumn","_this34","deleteColumn","_this35","updateColumnDefinition","_this36","fromColumn","_this37","getLocale","getLang","sortList","getSorters","clearSort","refreshFilter","addFilter","all","getHeaderFilters","removeFilter","clearFilter","clearHeaderFilter","deselectRow","toggleSelectRow","getSelectedRows","getSelectedData","getInvalidCells","clearCellValidation","_this38","setMaxPage","_this39","setPageSize","size","previousPage","getPage","getPageMax","setGroupBy","groups","setGroupValues","setGroupStartOpen","values","setGroupHeader","getGroupedData","getEditedCells","clearCellEdited","_this40","getCalcResults","getResults","recalcAll","navigatePrev","navigateNext","navigateLeft","navigateRight","navigateUp","navigateDown","undo","redo","getHistoryUndoSize","getHistoryRedoSize","clearHistory","download","filename","downloadToTab","tableComms","receive","moduleBindings","extendModule","name","property","source","registerModule","plugin","required","box","pageYOffset","documentElement","clientTop","pageXOffset","clientLeft","deepClone","clone","Date","tables","lookupTable","query","results","querySelectorAll","matchElement","findTable","Layout","mode","modes","_this41","colsWidth","gap","lastCol","responsive","flexWidth","flexGrowUnits","flexColWidth","flexColumns","fixedShrinkColumns","flexShrinkUnits","overflowWidth","gapFill","calcWidth","scaleColumns","freeSpace","shrinkCols","oversizeCols","oversizeSpace","remainingSpace","nextColWidth","remainingFlexGrowUnits","changeUnits","undersizeCols","calcGrow","widthGrow","calcShrink","widthShrink","Localize","lang","bindings","langList","default","headerFilters","_setLangProp","desiredLocale","traverseLang","trans","path","prop","language","toLowerCase","prefix","_executeBindings","getText","pathArray","_getLangElement","level","rootPath","_loop","binding","Comms","getConnections","selectors","connections","connection","con","send","commsReceived","Accessor","allowedTypes","charAt","toUpperCase","lookupAccessor","accessors","rowComponent","colCompnent","Ajax","url","urlGenerator","loaderElement","createLoaderElement","msgElement","createMsgElement","loadingElement","errorElement","loaderPromise","loading","requestOrder","template","trim","content","defaultLoaderPromise","defaultURLGenerator","initializeProgressive","getParams","_loadDefaultConfig","method","defaultConfig","_loadDataProgressive","_loadDataStandard","_this42","generateParamsList","serializeParams","encoded","encodeURIComponent","join","_this43","requestNo","showLoader","hideLoader","showError","shouldLoad","contentType","contentTypeFormatters","headers","Accept","location","origin","credentials","fetch","response","json","status","statusText","stringify","form","FormData","CalcComponent","ColumnCalcs","topCalcs","botCalcs","genColumn","topElement","botElement","botRow","topInitialized","botInitialized","topCalcParams","botCalcParams","bottomCalcParams","calculations","initializeTopRow","botCalc","initializeBottomRow","removeCalcs","rowsToData","generateRow","recalcGroup","getRowGroup","_this44","getChildGroups","rowData","generateRowData","generateTopRow","generateBottomRow","_this45","open","children","getFilteredTreeChildren","disable","enable","paramKey","hasTopCalcs","hasBottomCalcs","getKey","getGroupResults","groupObj","subGroups","getSubGroups","subGroupResults","subgroup","calcParams","precision","reduce","sum","toFixed","parseFloat","toString","Clipboard","pasteParser","pasteAction","customSelection","rowRange","blocked","_this46","plain","html","generateExportList","genereateHTMLTable","generatePlainContent","clipboardData","originalEvent","paste","setPasteParser","setPasteAction","internal","sel","textRange","selectNodeContents","execCommand","pasteActions","parser","pasteParsers","checkPaseOrigin","getPasteData","mutateData","headerFindSuccess","columnMap","shift","replace","insert","DataTree","indent","collapseEl","expandEl","branchEl","elementField","startOpen","dummyEl","firstCol","tabIndex","childArray","controlEl","generateControlElement","cloneNode","marginRight","getPropertyValue","_this47","oldControl","replaceChild","_this48","getChildren","allChildren","_this49","generateChildren","subChildren","sub","_this50","childData","childRow","childIndex","findChildIndex","_this51","recurse","_this52","checkForRestyle","getChildField","Download","interceptCallback","downloadFunc","buildLink","mime","triggerDownload","downloaders","_group","getRowCount","newTab","Blob","URL","createObjectURL","msSaveOrOpenBlob","intercept","csv","setFileContents","delimiter","fileContents","depth","bom","pdf","header","autoTableParams","rowGroupStyles","fontStyle","fontSize","cellPadding","fillColor","rowCalcStyles","jsPDFParams","jsPDF","orientation","unit","parseRow","styles","colSpan","rowSpan","doc","autoTable","addPageContent","head","documentProcessing","xlsx","sheetName","workbook","XLSX","utils","book_new","SheetNames","Sheets","generateSheet","merges","worksheet","s","c","r","j","sheet_add_aoa","encode_range","sheetOnly","sheets","sheet","write","bookType","bookSST","buf","ArrayBuffer","view","Uint8Array","charCodeAt","Edit","mouseClick","recursionBlock","invalidEdit","editedCells","editable","editorParams","editors","clearEditor","cancel","cellEl","variableHeight","contains","preventScroll","button","focusCellNoEvent","forceEdit","focusScrollAdjust","leftEdge","rightEdge","leftMargin","rightMargin","rendered","cellEditor","success","blur","maskInput","mask","maskLetter","maskLetterChar","maskNumber","maskNumberChar","maskWildcard","maskWildcardChar","fillSymbols","symbol","char","keyCode","maskAutoFill","editIndex","cellValue","padding","boxSizing","elementAttributes","getAttribute","onChange","textarea","vertNav","verticalNavigation","whiteSpace","resize","heightNow","selectionStart","stopImmediatePropagation","number","step","blurFunc","removeEventListener","_this53","initialDisplayValue","defaultValue","listEl","multiselect","dataItems","currentItem","displayItems","currentItems","blurable","blockListShow","searchWord","searchWordTimeout","getUniqueColumnValues","parseItems","inputValues","curentValues","dataList","displayList","processComplexListItem","label","itemParams","setItem","sortValuesList","fillList","listItemFormatter","toggleItem","chooseItem","setCurrentItem","scrollIntoView","behavior","inline","fillInput","unsetItem","hideList","chooseItems","unsetItems","_i9","cancelItem","showList","removeScrollListener","scrollTovalue","character","fromCharCode","startsWith","cursor","readOnly","autocomplete","_this54","uniqueColumnValues","genUniqueColumnValues","filterList","term","intialLoad","items","searchFunc","addNotice","searchingPlaceholder","fillListIfNotEmpty","showListOnEmpty","notice","searchEl","clearList","itemList","emptyPlaceholder","current","freetext","allowEmpty","log","star","maxStars","getElementsByTagName","stars","starsHolder","createElementNS","starChange","buildStar","starHolder","nextStar","changeValue","overflow","textOverflow","progress","percent","handle","bar","mouseDrag","mouseDragWidth","updateValue","calcVal","round","backgroundColor","screenX","tickCross","tristate","indetermValue","indeterminateValue","indetermState","marginTop","indeterminate","checked","ExportRow","ExportColumn","Export","cloneTableStyle","colVisProp","headersToExportRows","generateColumnGroupHeaders","bodyToExportRows","rowLookup","genereateTable","genereateTableElement","_this55","_this56","columnGroups","colData","processColumnGroup","_this57","maxDepth","groupData","subGroup","subGroupData","columnVisCheck","headerDepth","exportRows","parseColumnGroup","_i10","_i11","_this58","rowGroups","exportCols","_this59","headerEl","bodyEl","lookupTableStyles","setup","treeElementField","mapElementStyles","genereateHeaderElement","genereateGroupElement","genereateCalcElement","genereateRowElement","evenRow","oddRow","calcRow","firstRow","firstGroup","getElementsByClassName","styleCells","firstCell","lastCell","_this60","generator","_this61","cellWrapper","formatCells","formatExportValue","renderedCallback","props","lookup","fromStyle","Filter","headerFilterColumns","prevHeaderFilterChangeCheck","filterType","tagType","attrType","filterChangeCheck","filterFunc","prevSuccess","emptyFunc","headerFilterFunc","headerFilterFuncParams","fieldVal","colVal","func","generateHeaderFilterElement","_this62","filterElement","editorElement","typingTimer","searchTrigger","headerElement","headerFilterEmptyCheck","headerFilterParams","hasAttribute","headerFilterLiveFilter","hasChanged","findFilter","findSubFilters","filtersToArray","_this63","searchType","filterRecurse","rowList","activeRowComponents","filterRow","subFilter","filterVal","rowVal","keywords","filterParams","separator","keyword","matchAll","endsWith","Format","lookupFormatter","formatterPrint","formatterClipboard","formatterHtmlOutput","crossElement","formatters","plaintext","sanitizeHTML","entityMap","emptyToSpace","money","formatterParams","floatVal","integer","decimal","rgx","decimalSym","thousandSym","thousand","symbolAfter","urlPrefix","labelField","urlField","image","src","urlSuffix","truthy","allowTruthy","tick","tickElement","cross","datetime","inputFormat","outputFormat","invalidPlaceholder","newDatetime","moment","timezone","tz","datetimediff","suffix","humanize","date","duration","traffic","colors","color","percentValue","legendAlign","legend","legendColor","barEl","legendEl","buttonTick","buttonCross","rownum","responsiveCollapse","toggleList","isOpen","rowSelection","_this64","checkbox","registerRowSelectCheckbox","registerHeaderSelectCheckbox","FrozenColumns","leftColumns","rightColumns","rightPadding","initializationMode","scrollEndTimer","edge","frozenCheck","_this65","calcMargins","layoutColumnPosition","layoutCalcRows","_calcSpace","allCells","_this66","leftParents","parentEl","getColGroupParentElement","_this67","_i12","FrozenRows","styleRows","GroupComponent","getParentGroup","toggleVisibility","groupManager","oldGroup","hasSubGroups","groupIDLookups","_addRowToGroup","_addRow","groupList","elementContents","arrowElement","createElements","addBindings","createValueGroups","arrow","initializeGroupHeader","_this68","allowedValues","_createGroup","toggleElement","initializeGroup","groupID","groupKey","headerGenerator","conformRowData","generateGroupHeaderContents","scrollHeader","removeGroup","getHeadersAndRows","noCalc","_visSet","compoment","getPath","addBindingsd","childNodes","GroupRows","langValue","lookupFunc","generateGroups","groupComponents","_this69","pullGroupListData","groupListData","rowCount","headerContent","oldGroups","createGroup","assignRowToExistingGroup","newGroupNeeded","oldRowGroup","oldGroupPath","newGroupPath","getExpectedPath","samePath","every","groupPath","groupId","History","undoers","redoers","cellEdit","rowAdd","newRow","_rebindRow","rowMove","oldRow","HtmlTableImport","fieldIndex","hasIndex","_extractOptions","_extractHeaders","_generateBlankHeaders","newElement","attributes","optionsArr","optionsList","attrib","_attribValue","_findCol","exists","textContent","Keybindings","watchKeys","pressedKeys","keyupBinding","keydownBinding","mergedBindings","_key","mapBindings","bindEvents","_this70","_loop2","actions","mapBinding","symbolsList","ctrl","meta","symbols","code","checkBinding","ctrlKey","shiftKey","metaKey","navPrev","navNext","navUp","navDown","scrollPageUp","scrollPageDown","scrollToStart","scrollToEnd","keyBlock","newPos","scrollMax","navLeft","navRight","Menu","menuElements","blurEvent","hideMenu","escEvent","escMenu","nestedMenuBlock","positionReversedX","_this71","headerMenuEl","LoadMenuEvent","loadMenu","_this72","_this73","touch","MouseEvent","menuEl","itemEl","disabled","hideOldSubMenus","positionMenu","_i13","pop","_this74","docHeight","innerHeight","parentOffset","touches","pageX","pageY","menus","MoveColumns","placeholderElement","createPlaceholderElement","hoverElement","checkTimeout","checkPeriod","moving","toCol","toColAfter","startX","autoScrollMargin","autoScrollStep","autoScrollTimeout","touchMove","moveHover","endMove","mousemove","which","startMove","bindTouchEvents","startXMove","prevColWidth","nextColWidthLast","prevColWidthLast","moveToCol","_bindMouseMove","_unbindMouseMove","movingCells","columnHolder","xPos","scrollPos","MoveRows","toRowAfter","hasHandle","startY","tableRowDropEvent","connectionSelectorsTables","connectionSelectorsElements","connectionElements","connectedTable","connectedRow","mouseup","tableRowDrop","previousSibling","startYMove","nextRowHeight","prevRowHeight","nextRowHeightLast","prevRowHeightLast","setStartPosition","connectToTables","pointerEvents","disconnectFromTables","moveHoverConnections","moveHoverTable","rowHolder","yPos","elementRowDrop","_this75","connectionTables","dropEvent","tabulatorElementDropEvent","connect","disconnect","dropComplete","sender","senders","receiver","receivers","Mutator","enabled","lookupMutator","mutators","mutatorEdit","Page","initialLoad","pageSizes","dataReceivedNames","dataSentNames","pagesElement","firstBut","prevBut","nextBut","lastBut","pageSizeSelect","generatePageSizeSelectList","_this76","_i14","hidden","pageSelectLabel","testElRow","testElCell","paginationDataReceivedNames","trigger","_this77","_this78","_setPageButtons","leftSize","rightSize","_i15","_generatePageButton","_this79","_this80","_i16","_this81","_getRemotePage","_this82","oldParams","pageParams","_parseRemoteData","last_page","footer","Persistence","id","defWatcherBlock","readFunc","writeFunc","localStorageTest","localStorage","removeItem","retreivedData","readers","writers","retreiveData","getOwnPropertyDescriptor","set","get","oldCols","newCols","_findColumn","validateSorters","getGroupConfig","getPageConfig","excludedKeys","defStore","colDef","local","getItem","cookie","cookiePos","expireDate","setDate","getDate","toUTCString","Print","manualBlock","replaceTable","cleanup","scrollX","scrollY","footerEl","tableEl","footerContent","ReactiveData","origFuncs","currentVersion","version","enumerable","args","arg","apply","startRow","oldRows","watchKey","watchTreeChildren","childField","rebuildTree","unwatchRow","ResizeColumns","startColumn","startWidth","prevHandle","handleDown","nearestColumn","_checkResizability","_mouseDown","prevHandleDown","colIndex","resizable","mouseMove","mouseUp","ResizeRows","startHeight","screenY","ResizeTable","observer","containerObserver","tableHeight","containerHeight","containerWidth","_this83","tableStyle","ResizeObserver","entry","nodeHeight","contentRect","nodeWidth","observe","unobserve","ResponsiveLayout","hiddenColumns","collapseFormatter","collapseStartOpen","collapseHandleColumn","formatCollapsedData","order","generateCollapsedContent","_iterator","_isArray","_i17","_ref","done","generateCollapsedRowContent","colCount","working","generateCollapsedRowData","mockCellComponent","titleData","valueData","node_content","titleHighlight","innerText","SelectRow","selecting","lastClickedRow","selectPrev","headerCheckboxElement","_rowSelectionChanged","endSelect","selected","lastClickedRowIdx","rowIdx","fromRowIdx","toRowIdx","toggledRows","toggledRow","_selectRow","_this84","rowMatch","rowInfo","checkboxEl","childRowSelection","_i18","selectedRow","_iterator2","_isArray2","_i19","_ref2","_iterator3","_isArray3","_i20","_ref3","_child","Sort","arrowEl","sorterParams","startingDir","headerSortStartingDir","newSortList","findSorter","sortListActual","rowComponents","clearColumnHeaders","sortObj","setColumnHeader","_sortItems","_this85","sorterCount","sortItem","_sortRow","el1Comp","el2Comp","el1","el2","aRow","bRow","alignEmptyValues","decimalSeparator","thousandSeparator","emptyAlign","string","localeCompare","time","boolean","array","calc","d","alphanum","as","bs","a1","b1","L","rx","rd","isFinite","Validate","invalidCells","_extractValidator","substring","_buildValidator","parameters","validators","invalidIndex","float","numeric","starts","ends","minLength","maxLength","in","regex","reg","unique","cellData"],"mappings":"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","sourcesContent":["var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\n/* Tabulator v4.9.3 (c) Oliver Folkerd */\r\n\r\n;(function (global, factory) {\r\n\tif ((typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object' && typeof module !== 'undefined') {\r\n\t\tmodule.exports = factory();\r\n\t} else if (typeof define === 'function' && define.amd) {\r\n\t\tdefine(factory);\r\n\t} else {\r\n\t\tglobal.Tabulator = factory();\r\n\t}\r\n})(this, function () {\r\n\r\n\t'use strict';\r\n\r\n\t// https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\r\n\r\n\r\n\tif (!Array.prototype.findIndex) {\r\n\r\n\t\tObject.defineProperty(Array.prototype, 'findIndex', {\r\n\r\n\t\t\tvalue: function value(predicate) {\r\n\r\n\t\t\t\t// 1. Let O be ? ToObject(this value).\r\n\r\n\r\n\t\t\t\tif (this == null) {\r\n\r\n\t\t\t\t\tthrow new TypeError('\"this\" is null or not defined');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar o = Object(this);\r\n\r\n\t\t\t\t// 2. Let len be ? ToLength(? Get(O, \"length\")).\r\n\r\n\r\n\t\t\t\tvar len = o.length >>> 0;\r\n\r\n\t\t\t\t// 3. If IsCallable(predicate) is false, throw a TypeError exception.\r\n\r\n\r\n\t\t\t\tif (typeof predicate !== 'function') {\r\n\r\n\t\t\t\t\tthrow new TypeError('predicate must be a function');\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\r\n\r\n\r\n\t\t\t\tvar thisArg = arguments[1];\r\n\r\n\t\t\t\t// 5. Let k be 0.\r\n\r\n\r\n\t\t\t\tvar k = 0;\r\n\r\n\t\t\t\t// 6. Repeat, while k < len\r\n\r\n\r\n\t\t\t\twhile (k < len) {\r\n\r\n\t\t\t\t\t// a. Let Pk be ! ToString(k).\r\n\r\n\r\n\t\t\t\t\t// b. Let kValue be ? Get(O, Pk).\r\n\r\n\r\n\t\t\t\t\t// c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\r\n\r\n\r\n\t\t\t\t\t// d. If testResult is true, return k.\r\n\r\n\r\n\t\t\t\t\tvar kValue = o[k];\r\n\r\n\t\t\t\t\tif (predicate.call(thisArg, kValue, k, o)) {\r\n\r\n\t\t\t\t\t\treturn k;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// e. Increase k by 1.\r\n\r\n\r\n\t\t\t\t\tk++;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 7. Return -1.\r\n\r\n\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t}\r\n\r\n\t// https://tc39.github.io/ecma262/#sec-array.prototype.find\r\n\r\n\r\n\tif (!Array.prototype.find) {\r\n\r\n\t\tObject.defineProperty(Array.prototype, 'find', {\r\n\r\n\t\t\tvalue: function value(predicate) {\r\n\r\n\t\t\t\t// 1. Let O be ? ToObject(this value).\r\n\r\n\r\n\t\t\t\tif (this == null) {\r\n\r\n\t\t\t\t\tthrow new TypeError('\"this\" is null or not defined');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar o = Object(this);\r\n\r\n\t\t\t\t// 2. Let len be ? ToLength(? Get(O, \"length\")).\r\n\r\n\r\n\t\t\t\tvar len = o.length >>> 0;\r\n\r\n\t\t\t\t// 3. If IsCallable(predicate) is false, throw a TypeError exception.\r\n\r\n\r\n\t\t\t\tif (typeof predicate !== 'function') {\r\n\r\n\t\t\t\t\tthrow new TypeError('predicate must be a function');\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\r\n\r\n\r\n\t\t\t\tvar thisArg = arguments[1];\r\n\r\n\t\t\t\t// 5. Let k be 0.\r\n\r\n\r\n\t\t\t\tvar k = 0;\r\n\r\n\t\t\t\t// 6. Repeat, while k < len\r\n\r\n\r\n\t\t\t\twhile (k < len) {\r\n\r\n\t\t\t\t\t// a. Let Pk be ! ToString(k).\r\n\r\n\r\n\t\t\t\t\t// b. Let kValue be ? Get(O, Pk).\r\n\r\n\r\n\t\t\t\t\t// c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\r\n\r\n\r\n\t\t\t\t\t// d. If testResult is true, return kValue.\r\n\r\n\r\n\t\t\t\t\tvar kValue = o[k];\r\n\r\n\t\t\t\t\tif (predicate.call(thisArg, kValue, k, o)) {\r\n\r\n\t\t\t\t\t\treturn kValue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// e. Increase k by 1.\r\n\r\n\r\n\t\t\t\t\tk++;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 7. Return undefined.\r\n\r\n\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t}\r\n\r\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes#Polyfill\r\n\r\n\r\n\tif (!String.prototype.includes) {\r\n\r\n\t\tString.prototype.includes = function (search, start) {\r\n\r\n\t\t\t'use strict';\r\n\r\n\t\t\tif (search instanceof RegExp) {\r\n\r\n\t\t\t\tthrow TypeError('first argument must not be a RegExp');\r\n\t\t\t}\r\n\r\n\t\t\tif (start === undefined) {\r\n\t\t\t\tstart = 0;\r\n\t\t\t}\r\n\r\n\t\t\treturn this.indexOf(search, start) !== -1;\r\n\t\t};\r\n\t}\r\n\r\n\t// https://tc39.github.io/ecma262/#sec-array.prototype.includes\r\n\r\n\r\n\tif (!Array.prototype.includes) {\r\n\r\n\t\tObject.defineProperty(Array.prototype, 'includes', {\r\n\r\n\t\t\tvalue: function value(searchElement, fromIndex) {\r\n\r\n\t\t\t\tif (this == null) {\r\n\r\n\t\t\t\t\tthrow new TypeError('\"this\" is null or not defined');\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 1. Let O be ? ToObject(this value).\r\n\r\n\r\n\t\t\t\tvar o = Object(this);\r\n\r\n\t\t\t\t// 2. Let len be ? ToLength(? Get(O, \"length\")).\r\n\r\n\r\n\t\t\t\tvar len = o.length >>> 0;\r\n\r\n\t\t\t\t// 3. If len is 0, return false.\r\n\r\n\r\n\t\t\t\tif (len === 0) {\r\n\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 4. Let n be ? ToInteger(fromIndex).\r\n\r\n\r\n\t\t\t\t//    (If fromIndex is undefined, this step produces the value 0.)\r\n\r\n\r\n\t\t\t\tvar n = fromIndex | 0;\r\n\r\n\t\t\t\t// 5. If n ≥ 0, then\r\n\r\n\r\n\t\t\t\t//  a. Let k be n.\r\n\r\n\r\n\t\t\t\t// 6. Else n < 0,\r\n\r\n\r\n\t\t\t\t//  a. Let k be len + n.\r\n\r\n\r\n\t\t\t\t//  b. If k < 0, let k be 0.\r\n\r\n\r\n\t\t\t\tvar k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\r\n\r\n\t\t\t\tfunction sameValueZero(x, y) {\r\n\r\n\t\t\t\t\treturn x === y || typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 7. Repeat, while k < len\r\n\r\n\r\n\t\t\t\twhile (k < len) {\r\n\r\n\t\t\t\t\t// a. Let elementK be the result of ? Get(O, ! ToString(k)).\r\n\r\n\r\n\t\t\t\t\t// b. If SameValueZero(searchElement, elementK) is true, return true.\r\n\r\n\r\n\t\t\t\t\tif (sameValueZero(o[k], searchElement)) {\r\n\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// c. Increase k by 1.\r\n\r\n\r\n\t\t\t\t\tk++;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 8. Return false\r\n\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t}\r\n\r\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign#Polyfill\r\n\r\n\r\n\tif (typeof Object.assign !== 'function') {\r\n\r\n\t\t// Must be writable: true, enumerable: false, configurable: true\r\n\r\n\r\n\t\tObject.defineProperty(Object, \"assign\", {\r\n\r\n\t\t\tvalue: function assign(target, varArgs) {\r\n\t\t\t\t// .length of function is 2\r\n\r\n\r\n\t\t\t\t'use strict';\r\n\r\n\t\t\t\tif (target === null || target === undefined) {\r\n\r\n\t\t\t\t\tthrow new TypeError('Cannot convert undefined or null to object');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar to = Object(target);\r\n\r\n\t\t\t\tfor (var index = 1; index < arguments.length; index++) {\r\n\r\n\t\t\t\t\tvar nextSource = arguments[index];\r\n\r\n\t\t\t\t\tif (nextSource !== null && nextSource !== undefined) {\r\n\r\n\t\t\t\t\t\tfor (var nextKey in nextSource) {\r\n\r\n\t\t\t\t\t\t\t// Avoid bugs when hasOwnProperty is shadowed\r\n\r\n\r\n\t\t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\r\n\r\n\t\t\t\t\t\t\t\tto[nextKey] = nextSource[nextKey];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn to;\r\n\t\t\t},\r\n\r\n\t\t\twritable: true,\r\n\r\n\t\t\tconfigurable: true\r\n\r\n\t\t});\r\n\t}\r\n\r\n\tvar ColumnManager = function ColumnManager(table) {\r\n\r\n\t\tthis.table = table; //hold parent table\r\n\r\n\r\n\t\tthis.blockHozScrollEvent = false;\r\n\r\n\t\tthis.headersElement = this.createHeadersElement();\r\n\r\n\t\tthis.element = this.createHeaderElement(); //containing element\r\n\r\n\r\n\t\tthis.rowManager = null; //hold row manager object\r\n\r\n\r\n\t\tthis.columns = []; // column definition object\r\n\r\n\r\n\t\tthis.columnsByIndex = []; //columns by index\r\n\r\n\r\n\t\tthis.columnsByField = {}; //columns by field\r\n\r\n\r\n\t\tthis.scrollLeft = 0;\r\n\r\n\t\tthis.element.insertBefore(this.headersElement, this.element.firstChild);\r\n\t};\r\n\r\n\t////////////// Setup Functions /////////////////\r\n\r\n\r\n\tColumnManager.prototype.createHeadersElement = function () {\r\n\r\n\t\tvar el = document.createElement(\"div\");\r\n\r\n\t\tel.classList.add(\"tabulator-headers\");\r\n\r\n\t\treturn el;\r\n\t};\r\n\r\n\tColumnManager.prototype.createHeaderElement = function () {\r\n\r\n\t\tvar el = document.createElement(\"div\");\r\n\r\n\t\tel.classList.add(\"tabulator-header\");\r\n\r\n\t\tif (!this.table.options.headerVisible) {\r\n\r\n\t\t\tel.classList.add(\"tabulator-header-hidden\");\r\n\t\t}\r\n\r\n\t\treturn el;\r\n\t};\r\n\r\n\tColumnManager.prototype.initialize = function () {\r\n\r\n\t\tvar self = this;\r\n\r\n\t\t//scroll body along with header\r\n\r\n\r\n\t\t// self.element.addEventListener(\"scroll\", function(e){\r\n\r\n\r\n\t\t// \tif(!self.blockHozScrollEvent){\r\n\r\n\r\n\t\t// \t\tself.table.rowManager.scrollHorizontal(self.element.scrollLeft);\r\n\r\n\r\n\t\t// \t}\r\n\r\n\r\n\t\t// });\r\n\r\n\t};\r\n\r\n\t//link to row manager\r\n\r\n\r\n\tColumnManager.prototype.setRowManager = function (manager) {\r\n\r\n\t\tthis.rowManager = manager;\r\n\t};\r\n\r\n\t//return containing element\r\n\r\n\r\n\tColumnManager.prototype.getElement = function () {\r\n\r\n\t\treturn this.element;\r\n\t};\r\n\r\n\t//return header containing element\r\n\r\n\r\n\tColumnManager.prototype.getHeadersElement = function () {\r\n\r\n\t\treturn this.headersElement;\r\n\t};\r\n\r\n\t// ColumnManager.prototype.tempScrollBlock = function(){\r\n\r\n\r\n\t// \tclearTimeout(this.blockHozScrollEvent);\r\n\r\n\r\n\t// \tthis.blockHozScrollEvent = setTimeout(() => {this.blockHozScrollEvent = false;}, 50);\r\n\r\n\r\n\t// }\r\n\r\n\r\n\t//scroll horizontally to match table body\r\n\r\n\r\n\tColumnManager.prototype.scrollHorizontal = function (left) {\r\n\r\n\t\tvar hozAdjust = 0,\r\n\t\t    scrollWidth = this.element.scrollWidth - this.table.element.clientWidth;\r\n\r\n\t\t// this.tempScrollBlock();\r\n\r\n\r\n\t\tthis.element.scrollLeft = left;\r\n\r\n\t\t//adjust for vertical scrollbar moving table when present\r\n\r\n\r\n\t\tif (left > scrollWidth) {\r\n\r\n\t\t\thozAdjust = left - scrollWidth;\r\n\r\n\t\t\tthis.element.style.marginLeft = -hozAdjust + \"px\";\r\n\t\t} else {\r\n\r\n\t\t\tthis.element.style.marginLeft = 0;\r\n\t\t}\r\n\r\n\t\t//keep frozen columns fixed in position\r\n\r\n\r\n\t\t//this._calcFrozenColumnsPos(hozAdjust + 3);\r\n\r\n\r\n\t\tthis.scrollLeft = left;\r\n\r\n\t\tif (this.table.modExists(\"frozenColumns\")) {\r\n\r\n\t\t\tthis.table.modules.frozenColumns.scrollHorizontal();\r\n\t\t}\r\n\t};\r\n\r\n\t///////////// Column Setup Functions /////////////\r\n\r\n\r\n\tColumnManager.prototype.generateColumnsFromRowData = function (data) {\r\n\r\n\t\tvar cols = [],\r\n\t\t    definitions = this.table.options.autoColumnsDefinitions,\r\n\t\t    row,\r\n\t\t    sorter;\r\n\r\n\t\tif (data && data.length) {\r\n\r\n\t\t\trow = data[0];\r\n\r\n\t\t\tfor (var key in row) {\r\n\r\n\t\t\t\tvar col = {\r\n\r\n\t\t\t\t\tfield: key,\r\n\r\n\t\t\t\t\ttitle: key\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar value = row[key];\r\n\r\n\t\t\t\tswitch (typeof value === 'undefined' ? 'undefined' : _typeof(value)) {\r\n\r\n\t\t\t\t\tcase \"undefined\":\r\n\r\n\t\t\t\t\t\tsorter = \"string\";\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"boolean\":\r\n\r\n\t\t\t\t\t\tsorter = \"boolean\";\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"object\":\r\n\r\n\t\t\t\t\t\tif (Array.isArray(value)) {\r\n\r\n\t\t\t\t\t\t\tsorter = \"array\";\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tsorter = \"string\";\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tif (!isNaN(value) && value !== \"\") {\r\n\r\n\t\t\t\t\t\t\tsorter = \"number\";\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tif (value.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)) {\r\n\r\n\t\t\t\t\t\t\t\tsorter = \"alphanum\";\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\tsorter = \"string\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcol.sorter = sorter;\r\n\r\n\t\t\t\tcols.push(col);\r\n\t\t\t}\r\n\r\n\t\t\tif (definitions) {\r\n\r\n\t\t\t\tswitch (typeof definitions === 'undefined' ? 'undefined' : _typeof(definitions)) {\r\n\r\n\t\t\t\t\tcase \"function\":\r\n\r\n\t\t\t\t\t\tthis.table.options.columns = definitions.call(this.table, cols);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"object\":\r\n\r\n\t\t\t\t\t\tif (Array.isArray(definitions)) {\r\n\r\n\t\t\t\t\t\t\tcols.forEach(function (col) {\r\n\r\n\t\t\t\t\t\t\t\tvar match = definitions.find(function (def) {\r\n\r\n\t\t\t\t\t\t\t\t\treturn def.field === col.field;\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\tif (match) {\r\n\r\n\t\t\t\t\t\t\t\t\tObject.assign(col, match);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tcols.forEach(function (col) {\r\n\r\n\t\t\t\t\t\t\t\tif (definitions[col.field]) {\r\n\r\n\t\t\t\t\t\t\t\t\tObject.assign(col, definitions[col.field]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.table.options.columns = cols;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.table.options.columns = cols;\r\n\t\t\t}\r\n\r\n\t\t\tthis.setColumns(this.table.options.columns);\r\n\t\t}\r\n\t};\r\n\r\n\tColumnManager.prototype.setColumns = function (cols, row) {\r\n\r\n\t\tvar self = this;\r\n\r\n\t\twhile (self.headersElement.firstChild) {\r\n\t\t\tself.headersElement.removeChild(self.headersElement.firstChild);\r\n\t\t}self.columns = [];\r\n\r\n\t\tself.columnsByIndex = [];\r\n\r\n\t\tself.columnsByField = {};\r\n\r\n\t\t//reset frozen columns\r\n\r\n\r\n\t\tif (self.table.modExists(\"frozenColumns\")) {\r\n\r\n\t\t\tself.table.modules.frozenColumns.reset();\r\n\t\t}\r\n\r\n\t\tcols.forEach(function (def, i) {\r\n\r\n\t\t\tself._addColumn(def);\r\n\t\t});\r\n\r\n\t\tself._reIndexColumns();\r\n\r\n\t\tif (self.table.options.responsiveLayout && self.table.modExists(\"responsiveLayout\", true)) {\r\n\r\n\t\t\tself.table.modules.responsiveLayout.initialize();\r\n\t\t}\r\n\r\n\t\tif (this.table.options.virtualDomHoz) {\r\n\r\n\t\t\tthis.table.vdomHoz.reinitialize(false, true);\r\n\t\t}\r\n\r\n\t\tself.redraw(true);\r\n\t};\r\n\r\n\tColumnManager.prototype._addColumn = function (definition, before, nextToColumn) {\r\n\r\n\t\tvar column = new Column(definition, this),\r\n\t\t    colEl = column.getElement(),\r\n\t\t    index = nextToColumn ? this.findColumnIndex(nextToColumn) : nextToColumn;\r\n\r\n\t\tif (nextToColumn && index > -1) {\r\n\r\n\t\t\tvar parentIndex = this.columns.indexOf(nextToColumn.getTopColumn());\r\n\r\n\t\t\tvar nextEl = nextToColumn.getElement();\r\n\r\n\t\t\tif (before) {\r\n\r\n\t\t\t\tthis.columns.splice(parentIndex, 0, column);\r\n\r\n\t\t\t\tnextEl.parentNode.insertBefore(colEl, nextEl);\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.columns.splice(parentIndex + 1, 0, column);\r\n\r\n\t\t\t\tnextEl.parentNode.insertBefore(colEl, nextEl.nextSibling);\r\n\t\t\t}\r\n\t\t} else {\r\n\r\n\t\t\tif (before) {\r\n\r\n\t\t\t\tthis.columns.unshift(column);\r\n\r\n\t\t\t\tthis.headersElement.insertBefore(column.getElement(), this.headersElement.firstChild);\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.columns.push(column);\r\n\r\n\t\t\t\tthis.headersElement.appendChild(column.getElement());\r\n\t\t\t}\r\n\r\n\t\t\tcolumn.columnRendered();\r\n\t\t}\r\n\r\n\t\treturn column;\r\n\t};\r\n\r\n\tColumnManager.prototype.registerColumnField = function (col) {\r\n\r\n\t\tif (col.definition.field) {\r\n\r\n\t\t\tthis.columnsByField[col.definition.field] = col;\r\n\t\t}\r\n\t};\r\n\r\n\tColumnManager.prototype.registerColumnPosition = function (col) {\r\n\r\n\t\tthis.columnsByIndex.push(col);\r\n\t};\r\n\r\n\tColumnManager.prototype._reIndexColumns = function () {\r\n\r\n\t\tthis.columnsByIndex = [];\r\n\r\n\t\tthis.columns.forEach(function (column) {\r\n\r\n\t\t\tcolumn.reRegisterPosition();\r\n\t\t});\r\n\t};\r\n\r\n\t//ensure column headers take up the correct amount of space in column groups\r\n\r\n\r\n\tColumnManager.prototype._verticalAlignHeaders = function () {\r\n\r\n\t\tvar self = this,\r\n\t\t    minHeight = 0;\r\n\r\n\t\tself.columns.forEach(function (column) {\r\n\r\n\t\t\tvar height;\r\n\r\n\t\t\tcolumn.clearVerticalAlign();\r\n\r\n\t\t\theight = column.getHeight();\r\n\r\n\t\t\tif (height > minHeight) {\r\n\r\n\t\t\t\tminHeight = height;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tself.columns.forEach(function (column) {\r\n\r\n\t\t\tcolumn.verticalAlign(self.table.options.columnHeaderVertAlign, minHeight);\r\n\t\t});\r\n\r\n\t\tself.rowManager.adjustTableSize();\r\n\t};\r\n\r\n\t//////////////// Column Details /////////////////\r\n\r\n\r\n\tColumnManager.prototype.findColumn = function (subject) {\r\n\r\n\t\tvar self = this;\r\n\r\n\t\tif ((typeof subject === 'undefined' ? 'undefined' : _typeof(subject)) == \"object\") {\r\n\r\n\t\t\tif (subject instanceof Column) {\r\n\r\n\t\t\t\t//subject is column element\r\n\r\n\r\n\t\t\t\treturn subject;\r\n\t\t\t} else if (subject instanceof ColumnComponent) {\r\n\r\n\t\t\t\t//subject is public column component\r\n\r\n\r\n\t\t\t\treturn subject._getSelf() || false;\r\n\t\t\t} else if (typeof HTMLElement !== \"undefined\" && subject instanceof HTMLElement) {\r\n\r\n\t\t\t\t//subject is a HTML element of the column header\r\n\r\n\r\n\t\t\t\tvar match = self.columns.find(function (column) {\r\n\r\n\t\t\t\t\treturn column.element === subject;\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn match || false;\r\n\t\t\t}\r\n\t\t} else {\r\n\r\n\t\t\t//subject should be treated as the field name of the column\r\n\r\n\r\n\t\t\treturn this.columnsByField[subject] || false;\r\n\t\t}\r\n\r\n\t\t//catch all for any other type of input\r\n\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n\tColumnManager.prototype.getColumnByField = function (field) {\r\n\r\n\t\treturn this.columnsByField[field];\r\n\t};\r\n\r\n\tColumnManager.prototype.getColumnsByFieldRoot = function (root) {\r\n\t\tvar _this = this;\r\n\r\n\t\tvar matches = [];\r\n\r\n\t\tObject.keys(this.columnsByField).forEach(function (field) {\r\n\r\n\t\t\tvar fieldRoot = field.split(\".\")[0];\r\n\r\n\t\t\tif (fieldRoot === root) {\r\n\r\n\t\t\t\tmatches.push(_this.columnsByField[field]);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn matches;\r\n\t};\r\n\r\n\tColumnManager.prototype.getColumnByIndex = function (index) {\r\n\r\n\t\treturn this.columnsByIndex[index];\r\n\t};\r\n\r\n\tColumnManager.prototype.getFirstVisibileColumn = function (index) {\r\n\r\n\t\tvar index = this.columnsByIndex.findIndex(function (col) {\r\n\r\n\t\t\treturn col.visible;\r\n\t\t});\r\n\r\n\t\treturn index > -1 ? this.columnsByIndex[index] : false;\r\n\t};\r\n\r\n\tColumnManager.prototype.getColumns = function () {\r\n\r\n\t\treturn this.columns;\r\n\t};\r\n\r\n\tColumnManager.prototype.findColumnIndex = function (column) {\r\n\r\n\t\treturn this.columnsByIndex.findIndex(function (col) {\r\n\r\n\t\t\treturn column === col;\r\n\t\t});\r\n\t};\r\n\r\n\t//return all columns that are not groups\r\n\r\n\r\n\tColumnManager.prototype.getRealColumns = function () {\r\n\r\n\t\treturn this.columnsByIndex;\r\n\t};\r\n\r\n\t//travers across columns and call action\r\n\r\n\r\n\tColumnManager.prototype.traverse = function (callback) {\r\n\r\n\t\tvar self = this;\r\n\r\n\t\tself.columnsByIndex.forEach(function (column, i) {\r\n\r\n\t\t\tcallback(column, i);\r\n\t\t});\r\n\t};\r\n\r\n\t//get defintions of actual columns\r\n\r\n\r\n\tColumnManager.prototype.getDefinitions = function (active) {\r\n\r\n\t\tvar self = this,\r\n\t\t    output = [];\r\n\r\n\t\tself.columnsByIndex.forEach(function (column) {\r\n\r\n\t\t\tif (!active || active && column.visible) {\r\n\r\n\t\t\t\toutput.push(column.getDefinition());\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\t//get full nested definition tree\r\n\r\n\r\n\tColumnManager.prototype.getDefinitionTree = function () {\r\n\r\n\t\tvar self = this,\r\n\t\t    output = [];\r\n\r\n\t\tself.columns.forEach(function (column) {\r\n\r\n\t\t\toutput.push(column.getDefinition(true));\r\n\t\t});\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\tColumnManager.prototype.getComponents = function (structured) {\r\n\r\n\t\tvar self = this,\r\n\t\t    output = [],\r\n\t\t    columns = structured ? self.columns : self.columnsByIndex;\r\n\r\n\t\tcolumns.forEach(function (column) {\r\n\r\n\t\t\toutput.push(column.getComponent());\r\n\t\t});\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\tColumnManager.prototype.getWidth = function () {\r\n\r\n\t\tvar width = 0;\r\n\r\n\t\tthis.columnsByIndex.forEach(function (column) {\r\n\r\n\t\t\tif (column.visible) {\r\n\r\n\t\t\t\twidth += column.getWidth();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn width;\r\n\t};\r\n\r\n\tColumnManager.prototype.moveColumn = function (from, to, after) {\r\n\r\n\t\tthis.moveColumnActual(from, to, after);\r\n\r\n\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\r\n\r\n\t\t\tthis.table.modules.responsiveLayout.initialize();\r\n\t\t}\r\n\r\n\t\tif (this.table.modExists(\"columnCalcs\")) {\r\n\r\n\t\t\tthis.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows);\r\n\t\t}\r\n\r\n\t\tto.element.parentNode.insertBefore(from.element, to.element);\r\n\r\n\t\tif (after) {\r\n\r\n\t\t\tto.element.parentNode.insertBefore(to.element, from.element);\r\n\t\t}\r\n\r\n\t\tthis._verticalAlignHeaders();\r\n\r\n\t\tthis.table.rowManager.reinitialize();\r\n\t};\r\n\r\n\tColumnManager.prototype.moveColumnActual = function (from, to, after) {\r\n\r\n\t\tif (from.parent.isGroup) {\r\n\r\n\t\t\tthis._moveColumnInArray(from.parent.columns, from, to, after);\r\n\t\t} else {\r\n\r\n\t\t\tthis._moveColumnInArray(this.columns, from, to, after);\r\n\t\t}\r\n\r\n\t\tthis._moveColumnInArray(this.columnsByIndex, from, to, after, true);\r\n\r\n\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\r\n\r\n\t\t\tthis.table.modules.responsiveLayout.initialize();\r\n\t\t}\r\n\r\n\t\tif (this.table.options.virtualDomHoz) {\r\n\r\n\t\t\tthis.table.vdomHoz.reinitialize(true);\r\n\t\t}\r\n\r\n\t\tif (this.table.options.columnMoved) {\r\n\r\n\t\t\tthis.table.options.columnMoved.call(this.table, from.getComponent(), this.table.columnManager.getComponents());\r\n\t\t}\r\n\r\n\t\tif (this.table.options.persistence && this.table.modExists(\"persistence\", true) && this.table.modules.persistence.config.columns) {\r\n\r\n\t\t\tthis.table.modules.persistence.save(\"columns\");\r\n\t\t}\r\n\t};\r\n\r\n\tColumnManager.prototype._moveColumnInArray = function (columns, from, to, after, updateRows) {\r\n\t\tvar _this2 = this;\r\n\r\n\t\tvar fromIndex = columns.indexOf(from),\r\n\t\t    toIndex,\r\n\t\t    rows = [];\r\n\r\n\t\tif (fromIndex > -1) {\r\n\r\n\t\t\tcolumns.splice(fromIndex, 1);\r\n\r\n\t\t\ttoIndex = columns.indexOf(to);\r\n\r\n\t\t\tif (toIndex > -1) {\r\n\r\n\t\t\t\tif (after) {\r\n\r\n\t\t\t\t\ttoIndex = toIndex + 1;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\ttoIndex = fromIndex;\r\n\t\t\t}\r\n\r\n\t\t\tcolumns.splice(toIndex, 0, from);\r\n\r\n\t\t\tif (updateRows) {\r\n\r\n\t\t\t\tif (this.table.options.dataTree && this.table.modExists(\"dataTree\", true)) {\r\n\r\n\t\t\t\t\tthis.table.rowManager.rows.forEach(function (row) {\r\n\r\n\t\t\t\t\t\trows = rows.concat(_this2.table.modules.dataTree.getTreeChildren(row, false, true));\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\trows = rows.concat(this.table.rowManager.rows);\r\n\r\n\t\t\t\trows.forEach(function (row) {\r\n\r\n\t\t\t\t\tif (row.cells.length) {\r\n\r\n\t\t\t\t\t\tvar cell = row.cells.splice(fromIndex, 1)[0];\r\n\r\n\t\t\t\t\t\trow.cells.splice(toIndex, 0, cell);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tColumnManager.prototype.scrollToColumn = function (column, position, ifVisible) {\r\n\t\tvar _this3 = this;\r\n\r\n\t\tvar left = 0,\r\n\t\t    offset = 0,\r\n\t\t    adjust = 0,\r\n\t\t    colEl = column.getElement();\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\tif (typeof position === \"undefined\") {\r\n\r\n\t\t\t\tposition = _this3.table.options.scrollToColumnPosition;\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof ifVisible === \"undefined\") {\r\n\r\n\t\t\t\tifVisible = _this3.table.options.scrollToColumnIfVisible;\r\n\t\t\t}\r\n\r\n\t\t\tif (column.visible) {\r\n\r\n\t\t\t\t//align to correct position\r\n\r\n\r\n\t\t\t\tswitch (position) {\r\n\r\n\t\t\t\t\tcase \"middle\":\r\n\r\n\t\t\t\t\tcase \"center\":\r\n\r\n\t\t\t\t\t\tadjust = -_this3.element.clientWidth / 2;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"right\":\r\n\r\n\t\t\t\t\t\tadjust = colEl.clientWidth - _this3.headersElement.clientWidth;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//check column visibility\r\n\r\n\r\n\t\t\t\tif (!ifVisible) {\r\n\r\n\t\t\t\t\toffset = colEl.offsetLeft;\r\n\r\n\t\t\t\t\tif (offset > 0 && offset + colEl.offsetWidth < _this3.element.clientWidth) {\r\n\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//calculate scroll position\r\n\r\n\r\n\t\t\t\tleft = colEl.offsetLeft + adjust;\r\n\r\n\t\t\t\tleft = Math.max(Math.min(left, _this3.table.rowManager.element.scrollWidth - _this3.table.rowManager.element.clientWidth), 0);\r\n\r\n\t\t\t\t_this3.table.rowManager.scrollHorizontal(left);\r\n\r\n\t\t\t\t_this3.scrollHorizontal(left);\r\n\r\n\t\t\t\tresolve();\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn(\"Scroll Error - Column not visible\");\r\n\r\n\t\t\t\treject(\"Scroll Error - Column not visible\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t//////////////// Cell Management /////////////////\r\n\r\n\r\n\tColumnManager.prototype.generateCells = function (row) {\r\n\r\n\t\tvar self = this;\r\n\r\n\t\tvar cells = [];\r\n\r\n\t\tself.columnsByIndex.forEach(function (column) {\r\n\r\n\t\t\tcells.push(column.generateCell(row));\r\n\t\t});\r\n\r\n\t\treturn cells;\r\n\t};\r\n\r\n\t//////////////// Column Management /////////////////\r\n\r\n\r\n\tColumnManager.prototype.getFlexBaseWidth = function () {\r\n\r\n\t\tvar self = this,\r\n\t\t    totalWidth = self.table.element.clientWidth,\r\n\t\t    //table element width\r\n\r\n\r\n\t\tfixedWidth = 0;\r\n\r\n\t\t//adjust for vertical scrollbar if present\r\n\r\n\r\n\t\tif (self.rowManager.element.scrollHeight > self.rowManager.element.clientHeight) {\r\n\r\n\t\t\ttotalWidth -= self.rowManager.element.offsetWidth - self.rowManager.element.clientWidth;\r\n\t\t}\r\n\r\n\t\tthis.columnsByIndex.forEach(function (column) {\r\n\r\n\t\t\tvar width, minWidth, colWidth;\r\n\r\n\t\t\tif (column.visible) {\r\n\r\n\t\t\t\twidth = column.definition.width || 0;\r\n\r\n\t\t\t\tminWidth = typeof column.minWidth == \"undefined\" ? self.table.options.columnMinWidth : parseInt(column.minWidth);\r\n\r\n\t\t\t\tif (typeof width == \"string\") {\r\n\r\n\t\t\t\t\tif (width.indexOf(\"%\") > -1) {\r\n\r\n\t\t\t\t\t\tcolWidth = totalWidth / 100 * parseInt(width);\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tcolWidth = parseInt(width);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tcolWidth = width;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfixedWidth += colWidth > minWidth ? colWidth : minWidth;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn fixedWidth;\r\n\t};\r\n\r\n\tColumnManager.prototype.addColumn = function (definition, before, nextToColumn) {\r\n\t\tvar _this4 = this;\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\tvar column = _this4._addColumn(definition, before, nextToColumn);\r\n\r\n\t\t\t_this4._reIndexColumns();\r\n\r\n\t\t\tif (_this4.table.options.responsiveLayout && _this4.table.modExists(\"responsiveLayout\", true)) {\r\n\r\n\t\t\t\t_this4.table.modules.responsiveLayout.initialize();\r\n\t\t\t}\r\n\r\n\t\t\tif (_this4.table.modExists(\"columnCalcs\")) {\r\n\r\n\t\t\t\t_this4.table.modules.columnCalcs.recalc(_this4.table.rowManager.activeRows);\r\n\t\t\t}\r\n\r\n\t\t\t_this4.redraw(true);\r\n\r\n\t\t\tif (_this4.table.modules.layout.getMode() != \"fitColumns\") {\r\n\r\n\t\t\t\tcolumn.reinitializeWidth();\r\n\t\t\t}\r\n\r\n\t\t\t_this4._verticalAlignHeaders();\r\n\r\n\t\t\t_this4.table.rowManager.reinitialize();\r\n\r\n\t\t\tif (_this4.table.options.virtualDomHoz) {\r\n\r\n\t\t\t\t_this4.table.vdomHoz.reinitialize();\r\n\t\t\t}\r\n\r\n\t\t\tresolve(column);\r\n\t\t});\r\n\t};\r\n\r\n\t//remove column from system\r\n\r\n\r\n\tColumnManager.prototype.deregisterColumn = function (column) {\r\n\r\n\t\tvar field = column.getField(),\r\n\t\t    index;\r\n\r\n\t\t//remove from field list\r\n\r\n\r\n\t\tif (field) {\r\n\r\n\t\t\tdelete this.columnsByField[field];\r\n\t\t}\r\n\r\n\t\t//remove from index list\r\n\r\n\r\n\t\tindex = this.columnsByIndex.indexOf(column);\r\n\r\n\t\tif (index > -1) {\r\n\r\n\t\t\tthis.columnsByIndex.splice(index, 1);\r\n\t\t}\r\n\r\n\t\t//remove from column list\r\n\r\n\r\n\t\tindex = this.columns.indexOf(column);\r\n\r\n\t\tif (index > -1) {\r\n\r\n\t\t\tthis.columns.splice(index, 1);\r\n\t\t}\r\n\r\n\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\r\n\r\n\t\t\tthis.table.modules.responsiveLayout.initialize();\r\n\t\t}\r\n\r\n\t\tthis._verticalAlignHeaders();\r\n\r\n\t\tthis.redraw();\r\n\t};\r\n\r\n\t//redraw columns\r\n\r\n\r\n\tColumnManager.prototype.redraw = function (force) {\r\n\r\n\t\tif (force) {\r\n\r\n\t\t\tif (Tabulator.prototype.helpers.elVisible(this.element)) {\r\n\r\n\t\t\t\tthis._verticalAlignHeaders();\r\n\t\t\t}\r\n\r\n\t\t\tthis.table.rowManager.resetScroll();\r\n\r\n\t\t\tthis.table.rowManager.reinitialize();\r\n\t\t}\r\n\r\n\t\tif ([\"fitColumns\", \"fitDataStretch\"].indexOf(this.table.modules.layout.getMode()) > -1) {\r\n\r\n\t\t\tthis.table.modules.layout.layout();\r\n\t\t} else {\r\n\r\n\t\t\tif (force) {\r\n\r\n\t\t\t\tthis.table.modules.layout.layout();\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\r\n\r\n\t\t\t\t\tthis.table.modules.responsiveLayout.update();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.table.modExists(\"frozenColumns\")) {\r\n\r\n\t\t\tthis.table.modules.frozenColumns.layout();\r\n\t\t}\r\n\r\n\t\tif (this.table.modExists(\"columnCalcs\")) {\r\n\r\n\t\t\tthis.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows);\r\n\t\t}\r\n\r\n\t\tif (force) {\r\n\r\n\t\t\tif (this.table.options.persistence && this.table.modExists(\"persistence\", true) && this.table.modules.persistence.config.columns) {\r\n\r\n\t\t\t\tthis.table.modules.persistence.save(\"columns\");\r\n\t\t\t}\r\n\r\n\t\t\tif (this.table.modExists(\"columnCalcs\")) {\r\n\r\n\t\t\t\tthis.table.modules.columnCalcs.redraw();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.table.footerManager.redraw();\r\n\t};\r\n\r\n\t//public column object\r\n\r\n\tvar ColumnComponent = function ColumnComponent(column) {\r\n\r\n\t\tthis._column = column;\r\n\r\n\t\tthis.type = \"ColumnComponent\";\r\n\t};\r\n\r\n\tColumnComponent.prototype.getElement = function () {\r\n\r\n\t\treturn this._column.getElement();\r\n\t};\r\n\r\n\tColumnComponent.prototype.getDefinition = function () {\r\n\r\n\t\treturn this._column.getDefinition();\r\n\t};\r\n\r\n\tColumnComponent.prototype.getField = function () {\r\n\r\n\t\treturn this._column.getField();\r\n\t};\r\n\r\n\tColumnComponent.prototype.getCells = function () {\r\n\r\n\t\tvar cells = [];\r\n\r\n\t\tthis._column.cells.forEach(function (cell) {\r\n\r\n\t\t\tcells.push(cell.getComponent());\r\n\t\t});\r\n\r\n\t\treturn cells;\r\n\t};\r\n\r\n\tColumnComponent.prototype.getVisibility = function () {\r\n\r\n\t\tconsole.warn(\"getVisibility function is deprecated, you should now use the isVisible function\");\r\n\r\n\t\treturn this._column.visible;\r\n\t};\r\n\r\n\tColumnComponent.prototype.isVisible = function () {\r\n\r\n\t\treturn this._column.visible;\r\n\t};\r\n\r\n\tColumnComponent.prototype.show = function () {\r\n\r\n\t\tif (this._column.isGroup) {\r\n\r\n\t\t\tthis._column.columns.forEach(function (column) {\r\n\r\n\t\t\t\tcolumn.show();\r\n\t\t\t});\r\n\t\t} else {\r\n\r\n\t\t\tthis._column.show();\r\n\t\t}\r\n\t};\r\n\r\n\tColumnComponent.prototype.hide = function () {\r\n\r\n\t\tif (this._column.isGroup) {\r\n\r\n\t\t\tthis._column.columns.forEach(function (column) {\r\n\r\n\t\t\t\tcolumn.hide();\r\n\t\t\t});\r\n\t\t} else {\r\n\r\n\t\t\tthis._column.hide();\r\n\t\t}\r\n\t};\r\n\r\n\tColumnComponent.prototype.toggle = function () {\r\n\r\n\t\tif (this._column.visible) {\r\n\r\n\t\t\tthis.hide();\r\n\t\t} else {\r\n\r\n\t\t\tthis.show();\r\n\t\t}\r\n\t};\r\n\r\n\tColumnComponent.prototype.delete = function () {\r\n\r\n\t\treturn this._column.delete();\r\n\t};\r\n\r\n\tColumnComponent.prototype.getSubColumns = function () {\r\n\r\n\t\tvar output = [];\r\n\r\n\t\tif (this._column.columns.length) {\r\n\r\n\t\t\tthis._column.columns.forEach(function (column) {\r\n\r\n\t\t\t\toutput.push(column.getComponent());\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\tColumnComponent.prototype.getParentColumn = function () {\r\n\r\n\t\treturn this._column.parent instanceof Column ? this._column.parent.getComponent() : false;\r\n\t};\r\n\r\n\tColumnComponent.prototype._getSelf = function () {\r\n\r\n\t\treturn this._column;\r\n\t};\r\n\r\n\tColumnComponent.prototype.scrollTo = function () {\r\n\r\n\t\treturn this._column.table.columnManager.scrollToColumn(this._column);\r\n\t};\r\n\r\n\tColumnComponent.prototype.getTable = function () {\r\n\r\n\t\treturn this._column.table;\r\n\t};\r\n\r\n\tColumnComponent.prototype.headerFilterFocus = function () {\r\n\r\n\t\tif (this._column.table.modExists(\"filter\", true)) {\r\n\r\n\t\t\tthis._column.table.modules.filter.setHeaderFilterFocus(this._column);\r\n\t\t}\r\n\t};\r\n\r\n\tColumnComponent.prototype.reloadHeaderFilter = function () {\r\n\r\n\t\tif (this._column.table.modExists(\"filter\", true)) {\r\n\r\n\t\t\tthis._column.table.modules.filter.reloadHeaderFilter(this._column);\r\n\t\t}\r\n\t};\r\n\r\n\tColumnComponent.prototype.getHeaderFilterValue = function () {\r\n\r\n\t\tif (this._column.table.modExists(\"filter\", true)) {\r\n\r\n\t\t\treturn this._column.table.modules.filter.getHeaderFilterValue(this._column);\r\n\t\t}\r\n\t};\r\n\r\n\tColumnComponent.prototype.setHeaderFilterValue = function (value) {\r\n\r\n\t\tif (this._column.table.modExists(\"filter\", true)) {\r\n\r\n\t\t\tthis._column.table.modules.filter.setHeaderFilterValue(this._column, value);\r\n\t\t}\r\n\t};\r\n\r\n\tColumnComponent.prototype.move = function (to, after) {\r\n\r\n\t\tvar toColumn = this._column.table.columnManager.findColumn(to);\r\n\r\n\t\tif (toColumn) {\r\n\r\n\t\t\tthis._column.table.columnManager.moveColumn(this._column, toColumn, after);\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn(\"Move Error - No matching column found:\", toColumn);\r\n\t\t}\r\n\t};\r\n\r\n\tColumnComponent.prototype.getNextColumn = function () {\r\n\r\n\t\tvar nextCol = this._column.nextColumn();\r\n\r\n\t\treturn nextCol ? nextCol.getComponent() : false;\r\n\t};\r\n\r\n\tColumnComponent.prototype.getPrevColumn = function () {\r\n\r\n\t\tvar prevCol = this._column.prevColumn();\r\n\r\n\t\treturn prevCol ? prevCol.getComponent() : false;\r\n\t};\r\n\r\n\tColumnComponent.prototype.updateDefinition = function (updates) {\r\n\r\n\t\treturn this._column.updateDefinition(updates);\r\n\t};\r\n\r\n\tColumnComponent.prototype.getWidth = function () {\r\n\r\n\t\treturn this._column.getWidth();\r\n\t};\r\n\r\n\tColumnComponent.prototype.setWidth = function (width) {\r\n\r\n\t\tvar result;\r\n\r\n\t\tif (width === true) {\r\n\r\n\t\t\tresult = this._column.reinitializeWidth(true);\r\n\t\t} else {\r\n\r\n\t\t\tresult = this._column.setWidth(width);\r\n\t\t}\r\n\r\n\t\tif (this._column.table.options.virtualDomHoz) {\r\n\r\n\t\t\tthis._column.table.vdomHoz.reinitialize(true);\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t};\r\n\r\n\tColumnComponent.prototype.validate = function () {\r\n\r\n\t\treturn this._column.validate();\r\n\t};\r\n\r\n\tvar Column = function Column(def, parent) {\r\n\r\n\t\tvar self = this;\r\n\r\n\t\tthis.table = parent.table;\r\n\r\n\t\tthis.definition = def; //column definition\r\n\r\n\t\tthis.parent = parent; //hold parent object\r\n\r\n\t\tthis.type = \"column\"; //type of element\r\n\r\n\t\tthis.columns = []; //child columns\r\n\r\n\t\tthis.cells = []; //cells bound to this column\r\n\r\n\t\tthis.element = this.createElement(); //column header element\r\n\r\n\t\tthis.contentElement = false;\r\n\r\n\t\tthis.titleHolderElement = false;\r\n\r\n\t\tthis.titleElement = false;\r\n\r\n\t\tthis.groupElement = this.createGroupElement(); //column group holder element\r\n\r\n\t\tthis.isGroup = false;\r\n\r\n\t\tthis.tooltip = false; //hold column tooltip\r\n\r\n\t\tthis.hozAlign = \"\"; //horizontal text alignment\r\n\r\n\t\tthis.vertAlign = \"\"; //vert text alignment\r\n\r\n\r\n\t\t//multi dimensional filed handling\r\n\r\n\t\tthis.field = \"\";\r\n\r\n\t\tthis.fieldStructure = \"\";\r\n\r\n\t\tthis.getFieldValue = \"\";\r\n\r\n\t\tthis.setFieldValue = \"\";\r\n\r\n\t\tthis.titleFormatterRendered = false;\r\n\r\n\t\tthis.setField(this.definition.field);\r\n\r\n\t\tif (this.table.options.invalidOptionWarnings) {\r\n\r\n\t\t\tthis.checkDefinition();\r\n\t\t}\r\n\r\n\t\tthis.modules = {}; //hold module variables;\r\n\r\n\r\n\t\tthis.cellEvents = {\r\n\r\n\t\t\tcellClick: false,\r\n\r\n\t\t\tcellDblClick: false,\r\n\r\n\t\t\tcellContext: false,\r\n\r\n\t\t\tcellTap: false,\r\n\r\n\t\t\tcellDblTap: false,\r\n\r\n\t\t\tcellTapHold: false,\r\n\r\n\t\t\tcellMouseEnter: false,\r\n\r\n\t\t\tcellMouseLeave: false,\r\n\r\n\t\t\tcellMouseOver: false,\r\n\r\n\t\t\tcellMouseOut: false,\r\n\r\n\t\t\tcellMouseMove: false\r\n\r\n\t\t};\r\n\r\n\t\tthis.width = null; //column width\r\n\r\n\t\tthis.widthStyled = \"\"; //column width prestyled to improve render efficiency\r\n\r\n\t\tthis.maxWidth = null; //column maximum width\r\n\r\n\t\tthis.maxWidthStyled = \"\"; //column maximum prestyled to improve render efficiency\r\n\r\n\t\tthis.minWidth = null; //column minimum width\r\n\r\n\t\tthis.minWidthStyled = \"\"; //column minimum prestyled to improve render efficiency\r\n\r\n\t\tthis.widthFixed = false; //user has specified a width for this column\r\n\r\n\r\n\t\tthis.visible = true; //default visible state\r\n\r\n\r\n\t\tthis.component = null;\r\n\r\n\t\tthis._mapDepricatedFunctionality();\r\n\r\n\t\t//initialize column\r\n\r\n\t\tif (def.columns) {\r\n\r\n\t\t\tthis.isGroup = true;\r\n\r\n\t\t\tdef.columns.forEach(function (def, i) {\r\n\r\n\t\t\t\tvar newCol = new Column(def, self);\r\n\r\n\t\t\t\tself.attachColumn(newCol);\r\n\t\t\t});\r\n\r\n\t\t\tself.checkColumnVisibility();\r\n\t\t} else {\r\n\r\n\t\t\tparent.registerColumnField(this);\r\n\t\t}\r\n\r\n\t\tif (def.rowHandle && this.table.options.movableRows !== false && this.table.modExists(\"moveRow\")) {\r\n\r\n\t\t\tthis.table.modules.moveRow.setHandle(true);\r\n\t\t}\r\n\r\n\t\tthis._buildHeader();\r\n\r\n\t\tthis.bindModuleColumns();\r\n\t};\r\n\r\n\tColumn.prototype.createElement = function () {\r\n\r\n\t\tvar el = document.createElement(\"div\");\r\n\r\n\t\tel.classList.add(\"tabulator-col\");\r\n\r\n\t\tel.setAttribute(\"role\", \"columnheader\");\r\n\r\n\t\tel.setAttribute(\"aria-sort\", \"none\");\r\n\r\n\t\treturn el;\r\n\t};\r\n\r\n\tColumn.prototype.createGroupElement = function () {\r\n\r\n\t\tvar el = document.createElement(\"div\");\r\n\r\n\t\tel.classList.add(\"tabulator-col-group-cols\");\r\n\r\n\t\treturn el;\r\n\t};\r\n\r\n\tColumn.prototype.checkDefinition = function () {\r\n\t\tvar _this5 = this;\r\n\r\n\t\tObject.keys(this.definition).forEach(function (key) {\r\n\r\n\t\t\tif (_this5.defaultOptionList.indexOf(key) === -1) {\r\n\r\n\t\t\t\tconsole.warn(\"Invalid column definition option in '\" + (_this5.field || _this5.definition.title) + \"' column:\", key);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tColumn.prototype.setField = function (field) {\r\n\r\n\t\tthis.field = field;\r\n\r\n\t\tthis.fieldStructure = field ? this.table.options.nestedFieldSeparator ? field.split(this.table.options.nestedFieldSeparator) : [field] : [];\r\n\r\n\t\tthis.getFieldValue = this.fieldStructure.length > 1 ? this._getNestedData : this._getFlatData;\r\n\r\n\t\tthis.setFieldValue = this.fieldStructure.length > 1 ? this._setNestedData : this._setFlatData;\r\n\t};\r\n\r\n\t//register column position with column manager\r\n\r\n\tColumn.prototype.registerColumnPosition = function (column) {\r\n\r\n\t\tthis.parent.registerColumnPosition(column);\r\n\t};\r\n\r\n\t//register column position with column manager\r\n\r\n\tColumn.prototype.registerColumnField = function (column) {\r\n\r\n\t\tthis.parent.registerColumnField(column);\r\n\t};\r\n\r\n\t//trigger position registration\r\n\r\n\tColumn.prototype.reRegisterPosition = function () {\r\n\r\n\t\tif (this.isGroup) {\r\n\r\n\t\t\tthis.columns.forEach(function (column) {\r\n\r\n\t\t\t\tcolumn.reRegisterPosition();\r\n\t\t\t});\r\n\t\t} else {\r\n\r\n\t\t\tthis.registerColumnPosition(this);\r\n\t\t}\r\n\t};\r\n\r\n\tColumn.prototype._mapDepricatedFunctionality = function () {\r\n\r\n\t\tif (typeof this.definition.hideInHtml !== \"undefined\") {\r\n\r\n\t\t\tthis.definition.htmlOutput = !this.definition.hideInHtml;\r\n\r\n\t\t\tconsole.warn(\"hideInHtml column definition property is deprecated, you should now use htmlOutput\");\r\n\t\t}\r\n\r\n\t\tif (typeof this.definition.align !== \"undefined\") {\r\n\r\n\t\t\tthis.definition.hozAlign = this.definition.align;\r\n\r\n\t\t\tconsole.warn(\"align column definition property is deprecated, you should now use hozAlign\");\r\n\t\t}\r\n\r\n\t\tif (typeof this.definition.downloadTitle !== \"undefined\") {\r\n\r\n\t\t\tthis.definition.titleDownload = this.definition.downloadTitle;\r\n\r\n\t\t\tconsole.warn(\"downloadTitle definition property is deprecated, you should now use titleDownload\");\r\n\t\t}\r\n\t};\r\n\r\n\tColumn.prototype.setTooltip = function () {\r\n\r\n\t\tvar self = this,\r\n\t\t    def = self.definition;\r\n\r\n\t\t//set header tooltips\r\n\r\n\t\tvar tooltip = def.headerTooltip || def.tooltip === false ? def.headerTooltip : self.table.options.tooltipsHeader;\r\n\r\n\t\tif (tooltip) {\r\n\r\n\t\t\tif (tooltip === true) {\r\n\r\n\t\t\t\tif (def.field) {\r\n\r\n\t\t\t\t\tself.table.modules.localize.bind(\"columns|\" + def.field, function (value) {\r\n\r\n\t\t\t\t\t\tself.element.setAttribute(\"title\", value || def.title);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tself.element.setAttribute(\"title\", def.title);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (typeof tooltip == \"function\") {\r\n\r\n\t\t\t\t\ttooltip = tooltip(self.getComponent());\r\n\r\n\t\t\t\t\tif (tooltip === false) {\r\n\r\n\t\t\t\t\t\ttooltip = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tself.element.setAttribute(\"title\", tooltip);\r\n\t\t\t}\r\n\t\t} else {\r\n\r\n\t\t\tself.element.setAttribute(\"title\", \"\");\r\n\t\t}\r\n\t};\r\n\r\n\t//build header element\r\n\r\n\tColumn.prototype._buildHeader = function () {\r\n\r\n\t\tvar self = this,\r\n\t\t    def = self.definition;\r\n\r\n\t\twhile (self.element.firstChild) {\r\n\t\t\tself.element.removeChild(self.element.firstChild);\r\n\t\t}if (def.headerVertical) {\r\n\r\n\t\t\tself.element.classList.add(\"tabulator-col-vertical\");\r\n\r\n\t\t\tif (def.headerVertical === \"flip\") {\r\n\r\n\t\t\t\tself.element.classList.add(\"tabulator-col-vertical-flip\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tself.contentElement = self._bindEvents();\r\n\r\n\t\tself.contentElement = self._buildColumnHeaderContent();\r\n\r\n\t\tself.element.appendChild(self.contentElement);\r\n\r\n\t\tif (self.isGroup) {\r\n\r\n\t\t\tself._buildGroupHeader();\r\n\t\t} else {\r\n\r\n\t\t\tself._buildColumnHeader();\r\n\t\t}\r\n\r\n\t\tself.setTooltip();\r\n\r\n\t\t//set resizable handles\r\n\r\n\t\tif (self.table.options.resizableColumns && self.table.modExists(\"resizeColumns\")) {\r\n\r\n\t\t\tself.table.modules.resizeColumns.initializeColumn(\"header\", self, self.element);\r\n\t\t}\r\n\r\n\t\t//set resizable handles\r\n\r\n\t\tif (def.headerFilter && self.table.modExists(\"filter\") && self.table.modExists(\"edit\")) {\r\n\r\n\t\t\tif (typeof def.headerFilterPlaceholder !== \"undefined\" && def.field) {\r\n\r\n\t\t\t\tself.table.modules.localize.setHeaderFilterColumnPlaceholder(def.field, def.headerFilterPlaceholder);\r\n\t\t\t}\r\n\r\n\t\t\tself.table.modules.filter.initializeColumn(self);\r\n\t\t}\r\n\r\n\t\t//set resizable handles\r\n\r\n\t\tif (self.table.modExists(\"frozenColumns\")) {\r\n\r\n\t\t\tself.table.modules.frozenColumns.initializeColumn(self);\r\n\t\t}\r\n\r\n\t\t//set movable column\r\n\r\n\t\tif (self.table.options.movableColumns && !self.isGroup && self.table.modExists(\"moveColumn\")) {\r\n\r\n\t\t\tself.table.modules.moveColumn.initializeColumn(self);\r\n\t\t}\r\n\r\n\t\t//set calcs column\r\n\r\n\t\tif ((def.topCalc || def.bottomCalc) && self.table.modExists(\"columnCalcs\")) {\r\n\r\n\t\t\tself.table.modules.columnCalcs.initializeColumn(self);\r\n\t\t}\r\n\r\n\t\t//handle persistence\r\n\r\n\t\tif (self.table.modExists(\"persistence\") && self.table.modules.persistence.config.columns) {\r\n\r\n\t\t\tself.table.modules.persistence.initializeColumn(self);\r\n\t\t}\r\n\r\n\t\t//update header tooltip on mouse enter\r\n\r\n\t\tself.element.addEventListener(\"mouseenter\", function (e) {\r\n\r\n\t\t\tself.setTooltip();\r\n\t\t});\r\n\t};\r\n\r\n\tColumn.prototype._bindEvents = function () {\r\n\r\n\t\tvar self = this,\r\n\t\t    def = self.definition,\r\n\t\t    dblTap,\r\n\t\t    tapHold,\r\n\t\t    tap;\r\n\r\n\t\t//setup header click event bindings\r\n\r\n\t\tif (typeof def.headerClick == \"function\") {\r\n\r\n\t\t\tself.element.addEventListener(\"click\", function (e) {\r\n\t\t\t\tdef.headerClick(e, self.getComponent());\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (typeof def.headerDblClick == \"function\") {\r\n\r\n\t\t\tself.element.addEventListener(\"dblclick\", function (e) {\r\n\t\t\t\tdef.headerDblClick(e, self.getComponent());\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (typeof def.headerContext == \"function\") {\r\n\r\n\t\t\tself.element.addEventListener(\"contextmenu\", function (e) {\r\n\t\t\t\tdef.headerContext(e, self.getComponent());\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t//setup header tap event bindings\r\n\r\n\t\tif (typeof def.headerTap == \"function\") {\r\n\r\n\t\t\ttap = false;\r\n\r\n\t\t\tself.element.addEventListener(\"touchstart\", function (e) {\r\n\r\n\t\t\t\ttap = true;\r\n\t\t\t}, { passive: true });\r\n\r\n\t\t\tself.element.addEventListener(\"touchend\", function (e) {\r\n\r\n\t\t\t\tif (tap) {\r\n\r\n\t\t\t\t\tdef.headerTap(e, self.getComponent());\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttap = false;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (typeof def.headerDblTap == \"function\") {\r\n\r\n\t\t\tdblTap = null;\r\n\r\n\t\t\tself.element.addEventListener(\"touchend\", function (e) {\r\n\r\n\t\t\t\tif (dblTap) {\r\n\r\n\t\t\t\t\tclearTimeout(dblTap);\r\n\r\n\t\t\t\t\tdblTap = null;\r\n\r\n\t\t\t\t\tdef.headerDblTap(e, self.getComponent());\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tdblTap = setTimeout(function () {\r\n\r\n\t\t\t\t\t\tclearTimeout(dblTap);\r\n\r\n\t\t\t\t\t\tdblTap = null;\r\n\t\t\t\t\t}, 300);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (typeof def.headerTapHold == \"function\") {\r\n\r\n\t\t\ttapHold = null;\r\n\r\n\t\t\tself.element.addEventListener(\"touchstart\", function (e) {\r\n\r\n\t\t\t\tclearTimeout(tapHold);\r\n\r\n\t\t\t\ttapHold = setTimeout(function () {\r\n\r\n\t\t\t\t\tclearTimeout(tapHold);\r\n\r\n\t\t\t\t\ttapHold = null;\r\n\r\n\t\t\t\t\ttap = false;\r\n\r\n\t\t\t\t\tdef.headerTapHold(e, self.getComponent());\r\n\t\t\t\t}, 1000);\r\n\t\t\t}, { passive: true });\r\n\r\n\t\t\tself.element.addEventListener(\"touchend\", function (e) {\r\n\r\n\t\t\t\tclearTimeout(tapHold);\r\n\r\n\t\t\t\ttapHold = null;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t//store column cell click event bindings\r\n\r\n\t\tif (typeof def.cellClick == \"function\") {\r\n\r\n\t\t\tself.cellEvents.cellClick = def.cellClick;\r\n\t\t}\r\n\r\n\t\tif (typeof def.cellDblClick == \"function\") {\r\n\r\n\t\t\tself.cellEvents.cellDblClick = def.cellDblClick;\r\n\t\t}\r\n\r\n\t\tif (typeof def.cellContext == \"function\") {\r\n\r\n\t\t\tself.cellEvents.cellContext = def.cellContext;\r\n\t\t}\r\n\r\n\t\t//store column mouse event bindings\r\n\r\n\t\tif (typeof def.cellMouseEnter == \"function\") {\r\n\r\n\t\t\tself.cellEvents.cellMouseEnter = def.cellMouseEnter;\r\n\t\t}\r\n\r\n\t\tif (typeof def.cellMouseLeave == \"function\") {\r\n\r\n\t\t\tself.cellEvents.cellMouseLeave = def.cellMouseLeave;\r\n\t\t}\r\n\r\n\t\tif (typeof def.cellMouseOver == \"function\") {\r\n\r\n\t\t\tself.cellEvents.cellMouseOver = def.cellMouseOver;\r\n\t\t}\r\n\r\n\t\tif (typeof def.cellMouseOut == \"function\") {\r\n\r\n\t\t\tself.cellEvents.cellMouseOut = def.cellMouseOut;\r\n\t\t}\r\n\r\n\t\tif (typeof def.cellMouseMove == \"function\") {\r\n\r\n\t\t\tself.cellEvents.cellMouseMove = def.cellMouseMove;\r\n\t\t}\r\n\r\n\t\t//setup column cell tap event bindings\r\n\r\n\t\tif (typeof def.cellTap == \"function\") {\r\n\r\n\t\t\tself.cellEvents.cellTap = def.cellTap;\r\n\t\t}\r\n\r\n\t\tif (typeof def.cellDblTap == \"function\") {\r\n\r\n\t\t\tself.cellEvents.cellDblTap = def.cellDblTap;\r\n\t\t}\r\n\r\n\t\tif (typeof def.cellTapHold == \"function\") {\r\n\r\n\t\t\tself.cellEvents.cellTapHold = def.cellTapHold;\r\n\t\t}\r\n\r\n\t\t//setup column cell edit callbacks\r\n\r\n\t\tif (typeof def.cellEdited == \"function\") {\r\n\r\n\t\t\tself.cellEvents.cellEdited = def.cellEdited;\r\n\t\t}\r\n\r\n\t\tif (typeof def.cellEditing == \"function\") {\r\n\r\n\t\t\tself.cellEvents.cellEditing = def.cellEditing;\r\n\t\t}\r\n\r\n\t\tif (typeof def.cellEditCancelled == \"function\") {\r\n\r\n\t\t\tself.cellEvents.cellEditCancelled = def.cellEditCancelled;\r\n\t\t}\r\n\t};\r\n\r\n\t//build header element for header\r\n\r\n\tColumn.prototype._buildColumnHeader = function () {\r\n\t\tvar _this6 = this;\r\n\r\n\t\tvar def = this.definition,\r\n\t\t    table = this.table,\r\n\t\t    sortable;\r\n\r\n\t\t//set column sorter\r\n\r\n\t\tif (table.modExists(\"sort\")) {\r\n\r\n\t\t\ttable.modules.sort.initializeColumn(this, this.titleHolderElement);\r\n\t\t}\r\n\r\n\t\t//set column header context menu\r\n\r\n\t\tif ((def.headerContextMenu || def.headerClickMenu || def.headerMenu) && table.modExists(\"menu\")) {\r\n\r\n\t\t\ttable.modules.menu.initializeColumnHeader(this);\r\n\t\t}\r\n\r\n\t\t//set column formatter\r\n\r\n\t\tif (table.modExists(\"format\")) {\r\n\r\n\t\t\ttable.modules.format.initializeColumn(this);\r\n\t\t}\r\n\r\n\t\t//set column editor\r\n\r\n\t\tif (typeof def.editor != \"undefined\" && table.modExists(\"edit\")) {\r\n\r\n\t\t\ttable.modules.edit.initializeColumn(this);\r\n\t\t}\r\n\r\n\t\t//set colum validator\r\n\r\n\t\tif (typeof def.validator != \"undefined\" && table.modExists(\"validate\")) {\r\n\r\n\t\t\ttable.modules.validate.initializeColumn(this);\r\n\t\t}\r\n\r\n\t\t//set column mutator\r\n\r\n\t\tif (table.modExists(\"mutator\")) {\r\n\r\n\t\t\ttable.modules.mutator.initializeColumn(this);\r\n\t\t}\r\n\r\n\t\t//set column accessor\r\n\r\n\t\tif (table.modExists(\"accessor\")) {\r\n\r\n\t\t\ttable.modules.accessor.initializeColumn(this);\r\n\t\t}\r\n\r\n\t\t//set respoviveLayout\r\n\r\n\t\tif (_typeof(table.options.responsiveLayout) && table.modExists(\"responsiveLayout\")) {\r\n\r\n\t\t\ttable.modules.responsiveLayout.initializeColumn(this);\r\n\t\t}\r\n\r\n\t\t//set column visibility\r\n\r\n\t\tif (typeof def.visible != \"undefined\") {\r\n\r\n\t\t\tif (def.visible) {\r\n\r\n\t\t\t\tthis.show(true);\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.hide(true);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//asign additional css classes to column header\r\n\r\n\t\tif (def.cssClass) {\r\n\r\n\t\t\tvar classeNames = def.cssClass.split(\" \");\r\n\r\n\t\t\tclasseNames.forEach(function (className) {\r\n\r\n\t\t\t\t_this6.element.classList.add(className);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (def.field) {\r\n\r\n\t\t\tthis.element.setAttribute(\"tabulator-field\", def.field);\r\n\t\t}\r\n\r\n\t\t//set min width if present\r\n\r\n\t\tthis.setMinWidth(typeof def.minWidth == \"undefined\" ? this.table.options.columnMinWidth : parseInt(def.minWidth));\r\n\r\n\t\tif (def.maxWidth || this.table.options.columnMaxWidth) {\r\n\r\n\t\t\tif (def.maxWidth !== false) {\r\n\r\n\t\t\t\tthis.setMaxWidth(typeof def.maxWidth == \"undefined\" ? this.table.options.columnMaxWidth : parseInt(def.maxWidth));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.reinitializeWidth();\r\n\r\n\t\t//set tooltip if present\r\n\r\n\t\tthis.tooltip = this.definition.tooltip || this.definition.tooltip === false ? this.definition.tooltip : this.table.options.tooltips;\r\n\r\n\t\t//set orizontal text alignment\r\n\r\n\t\tthis.hozAlign = typeof this.definition.hozAlign == \"undefined\" ? this.table.options.cellHozAlign : this.definition.hozAlign;\r\n\r\n\t\tthis.vertAlign = typeof this.definition.vertAlign == \"undefined\" ? this.table.options.cellVertAlign : this.definition.vertAlign;\r\n\r\n\t\tthis.titleElement.style.textAlign = this.definition.headerHozAlign || this.table.options.headerHozAlign;\r\n\t};\r\n\r\n\tColumn.prototype._buildColumnHeaderContent = function () {\r\n\r\n\t\tvar def = this.definition,\r\n\t\t    table = this.table;\r\n\r\n\t\tvar contentElement = document.createElement(\"div\");\r\n\r\n\t\tcontentElement.classList.add(\"tabulator-col-content\");\r\n\r\n\t\tthis.titleHolderElement = document.createElement(\"div\");\r\n\r\n\t\tthis.titleHolderElement.classList.add(\"tabulator-col-title-holder\");\r\n\r\n\t\tcontentElement.appendChild(this.titleHolderElement);\r\n\r\n\t\tthis.titleElement = this._buildColumnHeaderTitle();\r\n\r\n\t\tthis.titleHolderElement.appendChild(this.titleElement);\r\n\r\n\t\treturn contentElement;\r\n\t};\r\n\r\n\t//build title element of column\r\n\r\n\tColumn.prototype._buildColumnHeaderTitle = function () {\r\n\r\n\t\tvar self = this,\r\n\t\t    def = self.definition,\r\n\t\t    table = self.table,\r\n\t\t    title;\r\n\r\n\t\tvar titleHolderElement = document.createElement(\"div\");\r\n\r\n\t\ttitleHolderElement.classList.add(\"tabulator-col-title\");\r\n\r\n\t\tif (def.editableTitle) {\r\n\r\n\t\t\tvar titleElement = document.createElement(\"input\");\r\n\r\n\t\t\ttitleElement.classList.add(\"tabulator-title-editor\");\r\n\r\n\t\t\ttitleElement.addEventListener(\"click\", function (e) {\r\n\r\n\t\t\t\te.stopPropagation();\r\n\r\n\t\t\t\ttitleElement.focus();\r\n\t\t\t});\r\n\r\n\t\t\ttitleElement.addEventListener(\"change\", function () {\r\n\r\n\t\t\t\tdef.title = titleElement.value;\r\n\r\n\t\t\t\ttable.options.columnTitleChanged.call(self.table, self.getComponent());\r\n\t\t\t});\r\n\r\n\t\t\ttitleHolderElement.appendChild(titleElement);\r\n\r\n\t\t\tif (def.field) {\r\n\r\n\t\t\t\ttable.modules.localize.bind(\"columns|\" + def.field, function (text) {\r\n\r\n\t\t\t\t\ttitleElement.value = text || def.title || \"&nbsp;\";\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\r\n\t\t\t\ttitleElement.value = def.title || \"&nbsp;\";\r\n\t\t\t}\r\n\t\t} else {\r\n\r\n\t\t\tif (def.field) {\r\n\r\n\t\t\t\ttable.modules.localize.bind(\"columns|\" + def.field, function (text) {\r\n\r\n\t\t\t\t\tself._formatColumnHeaderTitle(titleHolderElement, text || def.title || \"&nbsp;\");\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\r\n\t\t\t\tself._formatColumnHeaderTitle(titleHolderElement, def.title || \"&nbsp;\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn titleHolderElement;\r\n\t};\r\n\r\n\tColumn.prototype._formatColumnHeaderTitle = function (el, title) {\r\n\t\tvar _this7 = this;\r\n\r\n\t\tvar formatter, contents, params, mockCell, onRendered;\r\n\r\n\t\tif (this.definition.titleFormatter && this.table.modExists(\"format\")) {\r\n\r\n\t\t\tformatter = this.table.modules.format.getFormatter(this.definition.titleFormatter);\r\n\r\n\t\t\tonRendered = function onRendered(callback) {\r\n\r\n\t\t\t\t_this7.titleFormatterRendered = callback;\r\n\t\t\t};\r\n\r\n\t\t\tmockCell = {\r\n\r\n\t\t\t\tgetValue: function getValue() {\r\n\r\n\t\t\t\t\treturn title;\r\n\t\t\t\t},\r\n\r\n\t\t\t\tgetElement: function getElement() {\r\n\r\n\t\t\t\t\treturn el;\r\n\t\t\t\t}\r\n\r\n\t\t\t};\r\n\r\n\t\t\tparams = this.definition.titleFormatterParams || {};\r\n\r\n\t\t\tparams = typeof params === \"function\" ? params() : params;\r\n\r\n\t\t\tcontents = formatter.call(this.table.modules.format, mockCell, params, onRendered);\r\n\r\n\t\t\tswitch (typeof contents === 'undefined' ? 'undefined' : _typeof(contents)) {\r\n\r\n\t\t\t\tcase \"object\":\r\n\r\n\t\t\t\t\tif (contents instanceof Node) {\r\n\r\n\t\t\t\t\t\tel.appendChild(contents);\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tel.innerHTML = \"\";\r\n\r\n\t\t\t\t\t\tconsole.warn(\"Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:\", contents);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"undefined\":\r\n\r\n\t\t\t\tcase \"null\":\r\n\r\n\t\t\t\t\tel.innerHTML = \"\";\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\r\n\t\t\t\t\tel.innerHTML = contents;\r\n\r\n\t\t\t}\r\n\t\t} else {\r\n\r\n\t\t\tel.innerHTML = title;\r\n\t\t}\r\n\t};\r\n\r\n\t//build header element for column group\r\n\r\n\tColumn.prototype._buildGroupHeader = function () {\r\n\t\tvar _this8 = this;\r\n\r\n\t\tthis.element.classList.add(\"tabulator-col-group\");\r\n\r\n\t\tthis.element.setAttribute(\"role\", \"columngroup\");\r\n\r\n\t\tthis.element.setAttribute(\"aria-title\", this.definition.title);\r\n\r\n\t\t//asign additional css classes to column header\r\n\r\n\t\tif (this.definition.cssClass) {\r\n\r\n\t\t\tvar classeNames = this.definition.cssClass.split(\" \");\r\n\r\n\t\t\tclasseNames.forEach(function (className) {\r\n\r\n\t\t\t\t_this8.element.classList.add(className);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t//set column header context menu\r\n\r\n\t\tif ((this.definition.headerContextMenu || this.definition.headerMenu) && this.table.modExists(\"menu\")) {\r\n\r\n\t\t\tthis.table.modules.menu.initializeColumnHeader(this);\r\n\t\t}\r\n\r\n\t\tthis.titleElement.style.textAlign = this.definition.headerHozAlign || this.table.options.headerHozAlign;\r\n\r\n\t\tthis.element.appendChild(this.groupElement);\r\n\t};\r\n\r\n\t//flat field lookup\r\n\r\n\tColumn.prototype._getFlatData = function (data) {\r\n\r\n\t\treturn data[this.field];\r\n\t};\r\n\r\n\t//nested field lookup\r\n\r\n\tColumn.prototype._getNestedData = function (data) {\r\n\r\n\t\tvar dataObj = data,\r\n\t\t    structure = this.fieldStructure,\r\n\t\t    length = structure.length,\r\n\t\t    output;\r\n\r\n\t\tfor (var _i = 0; _i < length; _i++) {\r\n\r\n\t\t\tdataObj = dataObj[structure[_i]];\r\n\r\n\t\t\toutput = dataObj;\r\n\r\n\t\t\tif (!dataObj) {\r\n\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\t//flat field set\r\n\r\n\tColumn.prototype._setFlatData = function (data, value) {\r\n\r\n\t\tif (this.field) {\r\n\r\n\t\t\tdata[this.field] = value;\r\n\t\t}\r\n\t};\r\n\r\n\t//nested field set\r\n\r\n\tColumn.prototype._setNestedData = function (data, value) {\r\n\r\n\t\tvar dataObj = data,\r\n\t\t    structure = this.fieldStructure,\r\n\t\t    length = structure.length;\r\n\r\n\t\tfor (var _i2 = 0; _i2 < length; _i2++) {\r\n\r\n\t\t\tif (_i2 == length - 1) {\r\n\r\n\t\t\t\tdataObj[structure[_i2]] = value;\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (!dataObj[structure[_i2]]) {\r\n\r\n\t\t\t\t\tif (typeof value !== \"undefined\") {\r\n\r\n\t\t\t\t\t\tdataObj[structure[_i2]] = {};\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdataObj = dataObj[structure[_i2]];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//attach column to this group\r\n\r\n\tColumn.prototype.attachColumn = function (column) {\r\n\r\n\t\tvar self = this;\r\n\r\n\t\tif (self.groupElement) {\r\n\r\n\t\t\tself.columns.push(column);\r\n\r\n\t\t\tself.groupElement.appendChild(column.getElement());\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn(\"Column Warning - Column being attached to another column instead of column group\");\r\n\t\t}\r\n\t};\r\n\r\n\t//vertically align header in column\r\n\r\n\tColumn.prototype.verticalAlign = function (alignment, height) {\r\n\r\n\t\t//calculate height of column header and group holder element\r\n\r\n\t\tvar parentHeight = this.parent.isGroup ? this.parent.getGroupElement().clientHeight : height || this.parent.getHeadersElement().clientHeight;\r\n\r\n\t\t// var parentHeight = this.parent.isGroup ? this.parent.getGroupElement().clientHeight : this.parent.getHeadersElement().clientHeight;\r\n\r\n\r\n\t\tthis.element.style.height = parentHeight + \"px\";\r\n\r\n\t\tif (this.isGroup) {\r\n\r\n\t\t\tthis.groupElement.style.minHeight = parentHeight - this.contentElement.offsetHeight + \"px\";\r\n\t\t}\r\n\r\n\t\t//vertically align cell contents\r\n\r\n\t\tif (!this.isGroup && alignment !== \"top\") {\r\n\r\n\t\t\tif (alignment === \"bottom\") {\r\n\r\n\t\t\t\tthis.element.style.paddingTop = this.element.clientHeight - this.contentElement.offsetHeight + \"px\";\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.element.style.paddingTop = (this.element.clientHeight - this.contentElement.offsetHeight) / 2 + \"px\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.columns.forEach(function (column) {\r\n\r\n\t\t\tcolumn.verticalAlign(alignment);\r\n\t\t});\r\n\t};\r\n\r\n\t//clear vertical alignmenet\r\n\r\n\tColumn.prototype.clearVerticalAlign = function () {\r\n\r\n\t\tthis.element.style.paddingTop = \"\";\r\n\r\n\t\tthis.element.style.height = \"\";\r\n\r\n\t\tthis.element.style.minHeight = \"\";\r\n\r\n\t\tthis.groupElement.style.minHeight = \"\";\r\n\r\n\t\tthis.columns.forEach(function (column) {\r\n\r\n\t\t\tcolumn.clearVerticalAlign();\r\n\t\t});\r\n\t};\r\n\r\n\tColumn.prototype.bindModuleColumns = function () {\r\n\r\n\t\t//check if rownum formatter is being used on a column\r\n\r\n\t\tif (this.definition.formatter == \"rownum\") {\r\n\r\n\t\t\tthis.table.rowManager.rowNumColumn = this;\r\n\t\t}\r\n\t};\r\n\r\n\t//// Retreive Column Information ////\r\n\r\n\r\n\t//return column header element\r\n\r\n\tColumn.prototype.getElement = function () {\r\n\r\n\t\treturn this.element;\r\n\t};\r\n\r\n\t//return colunm group element\r\n\r\n\tColumn.prototype.getGroupElement = function () {\r\n\r\n\t\treturn this.groupElement;\r\n\t};\r\n\r\n\t//return field name\r\n\r\n\tColumn.prototype.getField = function () {\r\n\r\n\t\treturn this.field;\r\n\t};\r\n\r\n\t//return the first column in a group\r\n\r\n\tColumn.prototype.getFirstColumn = function () {\r\n\r\n\t\tif (!this.isGroup) {\r\n\r\n\t\t\treturn this;\r\n\t\t} else {\r\n\r\n\t\t\tif (this.columns.length) {\r\n\r\n\t\t\t\treturn this.columns[0].getFirstColumn();\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//return the last column in a group\r\n\r\n\tColumn.prototype.getLastColumn = function () {\r\n\r\n\t\tif (!this.isGroup) {\r\n\r\n\t\t\treturn this;\r\n\t\t} else {\r\n\r\n\t\t\tif (this.columns.length) {\r\n\r\n\t\t\t\treturn this.columns[this.columns.length - 1].getLastColumn();\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//return all columns in a group\r\n\r\n\tColumn.prototype.getColumns = function () {\r\n\r\n\t\treturn this.columns;\r\n\t};\r\n\r\n\t//return all columns in a group\r\n\r\n\tColumn.prototype.getCells = function () {\r\n\r\n\t\treturn this.cells;\r\n\t};\r\n\r\n\t//retreive the top column in a group of columns\r\n\r\n\tColumn.prototype.getTopColumn = function () {\r\n\r\n\t\tif (this.parent.isGroup) {\r\n\r\n\t\t\treturn this.parent.getTopColumn();\r\n\t\t} else {\r\n\r\n\t\t\treturn this;\r\n\t\t}\r\n\t};\r\n\r\n\t//return column definition object\r\n\r\n\tColumn.prototype.getDefinition = function (updateBranches) {\r\n\r\n\t\tvar colDefs = [];\r\n\r\n\t\tif (this.isGroup && updateBranches) {\r\n\r\n\t\t\tthis.columns.forEach(function (column) {\r\n\r\n\t\t\t\tcolDefs.push(column.getDefinition(true));\r\n\t\t\t});\r\n\r\n\t\t\tthis.definition.columns = colDefs;\r\n\t\t}\r\n\r\n\t\treturn this.definition;\r\n\t};\r\n\r\n\t//////////////////// Actions ////////////////////\r\n\r\n\r\n\tColumn.prototype.checkColumnVisibility = function () {\r\n\r\n\t\tvar visible = false;\r\n\r\n\t\tthis.columns.forEach(function (column) {\r\n\r\n\t\t\tif (column.visible) {\r\n\r\n\t\t\t\tvisible = true;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (visible) {\r\n\r\n\t\t\tthis.show();\r\n\r\n\t\t\tthis.parent.table.options.columnVisibilityChanged.call(this.table, this.getComponent(), false);\r\n\t\t} else {\r\n\r\n\t\t\tthis.hide();\r\n\t\t}\r\n\t};\r\n\r\n\t//show column\r\n\r\n\tColumn.prototype.show = function (silent, responsiveToggle) {\r\n\r\n\t\tif (!this.visible) {\r\n\r\n\t\t\tthis.visible = true;\r\n\r\n\t\t\tthis.element.style.display = \"\";\r\n\r\n\t\t\tif (this.parent.isGroup) {\r\n\r\n\t\t\t\tthis.parent.checkColumnVisibility();\r\n\t\t\t}\r\n\r\n\t\t\tthis.cells.forEach(function (cell) {\r\n\r\n\t\t\t\tcell.show();\r\n\t\t\t});\r\n\r\n\t\t\tif (!this.isGroup && this.width === null) {\r\n\r\n\t\t\t\tthis.reinitializeWidth();\r\n\t\t\t}\r\n\r\n\t\t\tthis.table.columnManager._verticalAlignHeaders();\r\n\r\n\t\t\tif (this.table.options.persistence && this.table.modExists(\"persistence\", true) && this.table.modules.persistence.config.columns) {\r\n\r\n\t\t\t\tthis.table.modules.persistence.save(\"columns\");\r\n\t\t\t}\r\n\r\n\t\t\tif (!responsiveToggle && this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\r\n\r\n\t\t\t\tthis.table.modules.responsiveLayout.updateColumnVisibility(this, this.visible);\r\n\t\t\t}\r\n\r\n\t\t\tif (!silent) {\r\n\r\n\t\t\t\tthis.table.options.columnVisibilityChanged.call(this.table, this.getComponent(), true);\r\n\t\t\t}\r\n\r\n\t\t\tif (this.parent.isGroup) {\r\n\r\n\t\t\t\tthis.parent.matchChildWidths();\r\n\t\t\t}\r\n\r\n\t\t\tif (!this.silent && this.table.options.virtualDomHoz) {\r\n\r\n\t\t\t\tthis.table.vdomHoz.reinitialize();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//hide column\r\n\r\n\tColumn.prototype.hide = function (silent, responsiveToggle) {\r\n\r\n\t\tif (this.visible) {\r\n\r\n\t\t\tthis.visible = false;\r\n\r\n\t\t\tthis.element.style.display = \"none\";\r\n\r\n\t\t\tthis.table.columnManager._verticalAlignHeaders();\r\n\r\n\t\t\tif (this.parent.isGroup) {\r\n\r\n\t\t\t\tthis.parent.checkColumnVisibility();\r\n\t\t\t}\r\n\r\n\t\t\tthis.cells.forEach(function (cell) {\r\n\r\n\t\t\t\tcell.hide();\r\n\t\t\t});\r\n\r\n\t\t\tif (this.table.options.persistence && this.table.modExists(\"persistence\", true) && this.table.modules.persistence.config.columns) {\r\n\r\n\t\t\t\tthis.table.modules.persistence.save(\"columns\");\r\n\t\t\t}\r\n\r\n\t\t\tif (!responsiveToggle && this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\r\n\r\n\t\t\t\tthis.table.modules.responsiveLayout.updateColumnVisibility(this, this.visible);\r\n\t\t\t}\r\n\r\n\t\t\tif (!silent) {\r\n\r\n\t\t\t\tthis.table.options.columnVisibilityChanged.call(this.table, this.getComponent(), false);\r\n\t\t\t}\r\n\r\n\t\t\tif (this.parent.isGroup) {\r\n\r\n\t\t\t\tthis.parent.matchChildWidths();\r\n\t\t\t}\r\n\r\n\t\t\tif (!this.silent && this.table.options.virtualDomHoz) {\r\n\r\n\t\t\t\tthis.table.vdomHoz.reinitialize();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tColumn.prototype.matchChildWidths = function () {\r\n\r\n\t\tvar childWidth = 0;\r\n\r\n\t\tif (this.contentElement && this.columns.length) {\r\n\r\n\t\t\tthis.columns.forEach(function (column) {\r\n\r\n\t\t\t\tif (column.visible) {\r\n\r\n\t\t\t\t\tchildWidth += column.getWidth();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.contentElement.style.maxWidth = childWidth - 1 + \"px\";\r\n\r\n\t\t\tif (this.parent.isGroup) {\r\n\r\n\t\t\t\tthis.parent.matchChildWidths();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tColumn.prototype.removeChild = function (child) {\r\n\r\n\t\tvar index = this.columns.indexOf(child);\r\n\r\n\t\tif (index > -1) {\r\n\r\n\t\t\tthis.columns.splice(index, 1);\r\n\t\t}\r\n\r\n\t\tif (!this.columns.length) {\r\n\r\n\t\t\tthis.delete();\r\n\t\t}\r\n\t};\r\n\r\n\tColumn.prototype.setWidth = function (width) {\r\n\r\n\t\tthis.widthFixed = true;\r\n\r\n\t\tthis.setWidthActual(width);\r\n\t};\r\n\r\n\tColumn.prototype.setWidthActual = function (width) {\r\n\r\n\t\tif (isNaN(width)) {\r\n\r\n\t\t\twidth = Math.floor(this.table.element.clientWidth / 100 * parseInt(width));\r\n\t\t}\r\n\r\n\t\twidth = Math.max(this.minWidth, width);\r\n\r\n\t\tif (this.maxWidth) {\r\n\r\n\t\t\twidth = Math.min(this.maxWidth, width);\r\n\t\t}\r\n\r\n\t\tthis.width = width;\r\n\r\n\t\tthis.widthStyled = width ? width + \"px\" : \"\";\r\n\r\n\t\tthis.element.style.width = this.widthStyled;\r\n\r\n\t\tif (!this.isGroup) {\r\n\r\n\t\t\tthis.cells.forEach(function (cell) {\r\n\r\n\t\t\t\tcell.setWidth();\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (this.parent.isGroup) {\r\n\r\n\t\t\tthis.parent.matchChildWidths();\r\n\t\t}\r\n\r\n\t\t//set resizable handles\r\n\r\n\t\tif (this.table.modExists(\"frozenColumns\")) {\r\n\r\n\t\t\tthis.table.modules.frozenColumns.layout();\r\n\t\t}\r\n\t};\r\n\r\n\tColumn.prototype.checkCellHeights = function () {\r\n\r\n\t\tvar rows = [];\r\n\r\n\t\tthis.cells.forEach(function (cell) {\r\n\r\n\t\t\tif (cell.row.heightInitialized) {\r\n\r\n\t\t\t\tif (cell.row.getElement().offsetParent !== null) {\r\n\r\n\t\t\t\t\trows.push(cell.row);\r\n\r\n\t\t\t\t\tcell.row.clearCellHeight();\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tcell.row.heightInitialized = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\trows.forEach(function (row) {\r\n\r\n\t\t\trow.calcHeight();\r\n\t\t});\r\n\r\n\t\trows.forEach(function (row) {\r\n\r\n\t\t\trow.setCellHeight();\r\n\t\t});\r\n\t};\r\n\r\n\tColumn.prototype.getWidth = function () {\r\n\r\n\t\tvar width = 0;\r\n\r\n\t\tif (this.isGroup) {\r\n\r\n\t\t\tthis.columns.forEach(function (column) {\r\n\r\n\t\t\t\tif (column.visible) {\r\n\r\n\t\t\t\t\twidth += column.getWidth();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\r\n\t\t\twidth = this.width;\r\n\t\t}\r\n\r\n\t\treturn width;\r\n\t};\r\n\r\n\tColumn.prototype.getHeight = function () {\r\n\r\n\t\treturn this.element.offsetHeight;\r\n\t};\r\n\r\n\tColumn.prototype.setMinWidth = function (minWidth) {\r\n\r\n\t\tthis.minWidth = minWidth;\r\n\r\n\t\tthis.minWidthStyled = minWidth ? minWidth + \"px\" : \"\";\r\n\r\n\t\tthis.element.style.minWidth = this.minWidthStyled;\r\n\r\n\t\tthis.cells.forEach(function (cell) {\r\n\r\n\t\t\tcell.setMinWidth();\r\n\t\t});\r\n\t};\r\n\r\n\tColumn.prototype.setMaxWidth = function (maxWidth) {\r\n\r\n\t\tthis.maxWidth = maxWidth;\r\n\r\n\t\tthis.maxWidthStyled = maxWidth ? maxWidth + \"px\" : \"\";\r\n\r\n\t\tthis.element.style.maxWidth = this.maxWidthStyled;\r\n\r\n\t\tthis.cells.forEach(function (cell) {\r\n\r\n\t\t\tcell.setMaxWidth();\r\n\t\t});\r\n\t};\r\n\r\n\tColumn.prototype.delete = function () {\r\n\t\tvar _this9 = this;\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\tvar index;\r\n\r\n\t\t\tif (_this9.isGroup) {\r\n\r\n\t\t\t\t_this9.columns.forEach(function (column) {\r\n\r\n\t\t\t\t\tcolumn.delete();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t//cancel edit if column is currently being edited\r\n\r\n\t\t\tif (_this9.table.modExists(\"edit\")) {\r\n\r\n\t\t\t\tif (_this9.table.modules.edit.currentCell.column === _this9) {\r\n\r\n\t\t\t\t\t_this9.table.modules.edit.cancelEdit();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar cellCount = _this9.cells.length;\r\n\r\n\t\t\tfor (var _i3 = 0; _i3 < cellCount; _i3++) {\r\n\r\n\t\t\t\t_this9.cells[0].delete();\r\n\t\t\t}\r\n\r\n\t\t\tif (_this9.element.parentNode) {\r\n\r\n\t\t\t\t_this9.element.parentNode.removeChild(_this9.element);\r\n\t\t\t}\r\n\r\n\t\t\t_this9.element = false;\r\n\r\n\t\t\t_this9.contentElement = false;\r\n\r\n\t\t\t_this9.titleElement = false;\r\n\r\n\t\t\t_this9.groupElement = false;\r\n\r\n\t\t\tif (_this9.parent.isGroup) {\r\n\r\n\t\t\t\t_this9.parent.removeChild(_this9);\r\n\t\t\t}\r\n\r\n\t\t\t_this9.table.columnManager.deregisterColumn(_this9);\r\n\r\n\t\t\tif (_this9.table.options.virtualDomHoz) {\r\n\r\n\t\t\t\t_this9.table.vdomHoz.reinitialize(true);\r\n\t\t\t}\r\n\r\n\t\t\tresolve();\r\n\t\t});\r\n\t};\r\n\r\n\tColumn.prototype.columnRendered = function () {\r\n\r\n\t\tif (this.titleFormatterRendered) {\r\n\r\n\t\t\tthis.titleFormatterRendered();\r\n\t\t}\r\n\t};\r\n\r\n\tColumn.prototype.validate = function () {\r\n\r\n\t\tvar invalid = [];\r\n\r\n\t\tthis.cells.forEach(function (cell) {\r\n\r\n\t\t\tif (!cell.validate()) {\r\n\r\n\t\t\t\tinvalid.push(cell.getComponent());\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn invalid.length ? invalid : true;\r\n\t};\r\n\r\n\t//////////////// Cell Management /////////////////\r\n\r\n\r\n\t//generate cell for this column\r\n\r\n\tColumn.prototype.generateCell = function (row) {\r\n\r\n\t\tvar self = this;\r\n\r\n\t\tvar cell = new Cell(self, row);\r\n\r\n\t\tthis.cells.push(cell);\r\n\r\n\t\treturn cell;\r\n\t};\r\n\r\n\tColumn.prototype.nextColumn = function () {\r\n\r\n\t\tvar index = this.table.columnManager.findColumnIndex(this);\r\n\r\n\t\treturn index > -1 ? this._nextVisibleColumn(index + 1) : false;\r\n\t};\r\n\r\n\tColumn.prototype._nextVisibleColumn = function (index) {\r\n\r\n\t\tvar column = this.table.columnManager.getColumnByIndex(index);\r\n\r\n\t\treturn !column || column.visible ? column : this._nextVisibleColumn(index + 1);\r\n\t};\r\n\r\n\tColumn.prototype.prevColumn = function () {\r\n\r\n\t\tvar index = this.table.columnManager.findColumnIndex(this);\r\n\r\n\t\treturn index > -1 ? this._prevVisibleColumn(index - 1) : false;\r\n\t};\r\n\r\n\tColumn.prototype._prevVisibleColumn = function (index) {\r\n\r\n\t\tvar column = this.table.columnManager.getColumnByIndex(index);\r\n\r\n\t\treturn !column || column.visible ? column : this._prevVisibleColumn(index - 1);\r\n\t};\r\n\r\n\tColumn.prototype.reinitializeWidth = function (force) {\r\n\r\n\t\tthis.widthFixed = false;\r\n\r\n\t\t//set width if present\r\n\r\n\t\tif (typeof this.definition.width !== \"undefined\" && !force) {\r\n\r\n\t\t\tthis.setWidth(this.definition.width);\r\n\t\t}\r\n\r\n\t\t//hide header filters to prevent them altering column width\r\n\r\n\t\tif (this.table.modExists(\"filter\")) {\r\n\r\n\t\t\tthis.table.modules.filter.hideHeaderFilterElements();\r\n\t\t}\r\n\r\n\t\tthis.fitToData();\r\n\r\n\t\t//show header filters again after layout is complete\r\n\r\n\t\tif (this.table.modExists(\"filter\")) {\r\n\r\n\t\t\tthis.table.modules.filter.showHeaderFilterElements();\r\n\t\t}\r\n\t};\r\n\r\n\t//set column width to maximum cell width\r\n\r\n\tColumn.prototype.fitToData = function () {\r\n\r\n\t\tvar self = this;\r\n\r\n\t\tif (!this.widthFixed) {\r\n\r\n\t\t\tthis.element.style.width = \"\";\r\n\r\n\t\t\tself.cells.forEach(function (cell) {\r\n\r\n\t\t\t\tcell.clearWidth();\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tvar maxWidth = this.element.offsetWidth;\r\n\r\n\t\tif (!self.width || !this.widthFixed) {\r\n\r\n\t\t\tself.cells.forEach(function (cell) {\r\n\r\n\t\t\t\tvar width = cell.getWidth();\r\n\r\n\t\t\t\tif (width > maxWidth) {\r\n\r\n\t\t\t\t\tmaxWidth = width;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (maxWidth) {\r\n\r\n\t\t\t\tself.setWidthActual(maxWidth + 1);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tColumn.prototype.updateDefinition = function (updates) {\r\n\t\tvar _this10 = this;\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\tvar definition;\r\n\r\n\t\t\tif (!_this10.isGroup) {\r\n\r\n\t\t\t\tif (!_this10.parent.isGroup) {\r\n\r\n\t\t\t\t\tdefinition = Object.assign({}, _this10.getDefinition());\r\n\r\n\t\t\t\t\tdefinition = Object.assign(definition, updates);\r\n\r\n\t\t\t\t\t_this10.table.columnManager.addColumn(definition, false, _this10).then(function (column) {\r\n\r\n\t\t\t\t\t\tif (definition.field == _this10.field) {\r\n\r\n\t\t\t\t\t\t\t_this10.field = false; //cleair field name to prevent deletion of duplicate column from arrays\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t_this10.delete().then(function () {\r\n\r\n\t\t\t\t\t\t\tresolve(column.getComponent());\r\n\t\t\t\t\t\t}).catch(function (err) {\r\n\r\n\t\t\t\t\t\t\treject(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}).catch(function (err) {\r\n\r\n\t\t\t\t\t\treject(err);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.warn(\"Column Update Error - The updateDefinition function is only available on ungrouped columns\");\r\n\r\n\t\t\t\t\treject(\"Column Update Error - The updateDefinition function is only available on columns, not column groups\");\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn(\"Column Update Error - The updateDefinition function is only available on ungrouped columns\");\r\n\r\n\t\t\t\treject(\"Column Update Error - The updateDefinition function is only available on columns, not column groups\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tColumn.prototype.deleteCell = function (cell) {\r\n\r\n\t\tvar index = this.cells.indexOf(cell);\r\n\r\n\t\tif (index > -1) {\r\n\r\n\t\t\tthis.cells.splice(index, 1);\r\n\t\t}\r\n\t};\r\n\r\n\tColumn.prototype.defaultOptionList = [\"title\", \"field\", \"columns\", \"visible\", \"align\", \"hozAlign\", \"vertAlign\", \"width\", \"minWidth\", \"maxWidth\", \"widthGrow\", \"widthShrink\", \"resizable\", \"frozen\", \"responsive\", \"tooltip\", \"cssClass\", \"rowHandle\", \"hideInHtml\", \"print\", \"htmlOutput\", \"sorter\", \"sorterParams\", \"formatter\", \"formatterParams\", \"variableHeight\", \"editable\", \"editor\", \"editorParams\", \"validator\", \"mutator\", \"mutatorParams\", \"mutatorData\", \"mutatorDataParams\", \"mutatorEdit\", \"mutatorEditParams\", \"mutatorClipboard\", \"mutatorClipboardParams\", \"accessor\", \"accessorParams\", \"accessorData\", \"accessorDataParams\", \"accessorDownload\", \"accessorDownloadParams\", \"accessorClipboard\", \"accessorClipboardParams\", \"accessorPrint\", \"accessorPrintParams\", \"accessorHtmlOutput\", \"accessorHtmlOutputParams\", \"clipboard\", \"download\", \"downloadTitle\", \"topCalc\", \"topCalcParams\", \"topCalcFormatter\", \"topCalcFormatterParams\", \"bottomCalc\", \"bottomCalcParams\", \"bottomCalcFormatter\", \"bottomCalcFormatterParams\", \"cellClick\", \"cellDblClick\", \"cellContext\", \"cellTap\", \"cellDblTap\", \"cellTapHold\", \"cellMouseEnter\", \"cellMouseLeave\", \"cellMouseOver\", \"cellMouseOut\", \"cellMouseMove\", \"cellEditing\", \"cellEdited\", \"cellEditCancelled\", \"headerSort\", \"headerSortStartingDir\", \"headerSortTristate\", \"headerClick\", \"headerDblClick\", \"headerContext\", \"headerTap\", \"headerDblTap\", \"headerTapHold\", \"headerTooltip\", \"headerVertical\", \"headerHozAlign\", \"editableTitle\", \"titleFormatter\", \"titleFormatterParams\", \"headerFilter\", \"headerFilterPlaceholder\", \"headerFilterParams\", \"headerFilterEmptyCheck\", \"headerFilterFunc\", \"headerFilterFuncParams\", \"headerFilterLiveFilter\", \"print\", \"headerContextMenu\", \"headerMenu\", \"contextMenu\",\r\n\r\n\t// \"headerClickMenu\",\r\n\r\n\t\"clickMenu\", \"formatterPrint\", \"formatterPrintParams\", \"formatterClipboard\", \"formatterClipboardParams\", \"formatterHtmlOutput\", \"formatterHtmlOutputParams\", \"titlePrint\", \"titleClipboard\", \"titleHtmlOutput\", \"titleDownload\"];\r\n\r\n\t//////////////// Event Bindings /////////////////\r\n\r\n\r\n\t//////////////// Object Generation /////////////////\r\n\r\n\tColumn.prototype.getComponent = function () {\r\n\r\n\t\tif (!this.component) {\r\n\r\n\t\t\tthis.component = new ColumnComponent(this);\r\n\t\t}\r\n\r\n\t\treturn this.component;\r\n\t};\r\n\r\n\tvar RowManager = function RowManager(table) {\r\n\r\n\t\tthis.table = table;\r\n\r\n\t\tthis.element = this.createHolderElement(); //containing element\r\n\r\n\t\tthis.tableElement = this.createTableElement(); //table element\r\n\r\n\t\tthis.heightFixer = this.createTableElement(); //table element\r\n\r\n\t\tthis.columnManager = null; //hold column manager object\r\n\r\n\t\tthis.height = 0; //hold height of table element\r\n\r\n\r\n\t\tthis.firstRender = false; //handle first render\r\n\r\n\t\tthis.renderMode = \"virtual\"; //current rendering mode\r\n\r\n\t\tthis.fixedHeight = false; //current rendering mode\r\n\r\n\r\n\t\tthis.rows = []; //hold row data objects\r\n\r\n\t\tthis.activeRows = []; //rows currently available to on display in the table\r\n\r\n\t\tthis.activeRowsCount = 0; //count of active rows\r\n\r\n\r\n\t\tthis.displayRows = []; //rows currently on display in the table\r\n\r\n\t\tthis.displayRowsCount = 0; //count of display rows\r\n\r\n\r\n\t\tthis.scrollTop = 0;\r\n\r\n\t\tthis.scrollLeft = 0;\r\n\r\n\t\tthis.vDomRowHeight = 20; //approximation of row heights for padding\r\n\r\n\r\n\t\tthis.vDomTop = 0; //hold position for first rendered row in the virtual DOM\r\n\r\n\t\tthis.vDomBottom = 0; //hold possition for last rendered row in the virtual DOM\r\n\r\n\r\n\t\tthis.vDomScrollPosTop = 0; //last scroll position of the vDom top;\r\n\r\n\t\tthis.vDomScrollPosBottom = 0; //last scroll position of the vDom bottom;\r\n\r\n\r\n\t\tthis.vDomTopPad = 0; //hold value of padding for top of virtual DOM\r\n\r\n\t\tthis.vDomBottomPad = 0; //hold value of padding for bottom of virtual DOM\r\n\r\n\r\n\t\tthis.vDomMaxRenderChain = 90; //the maximum number of dom elements that can be rendered in 1 go\r\n\r\n\r\n\t\tthis.vDomWindowBuffer = 0; //window row buffer before removing elements, to smooth scrolling\r\n\r\n\r\n\t\tthis.vDomWindowMinTotalRows = 20; //minimum number of rows to be generated in virtual dom (prevent buffering issues on tables with tall rows)\r\n\r\n\t\tthis.vDomWindowMinMarginRows = 5; //minimum number of rows to be generated in virtual dom margin\r\n\r\n\r\n\t\tthis.vDomTopNewRows = []; //rows to normalize after appending to optimize render speed\r\n\r\n\t\tthis.vDomBottomNewRows = []; //rows to normalize after appending to optimize render speed\r\n\r\n\r\n\t\tthis.rowNumColumn = false; //hold column component for row number column\r\n\r\n\r\n\t\tthis.redrawBlock = false; //prevent redraws to allow multiple data manipulations becore continuing\r\n\r\n\t\tthis.redrawBlockRestoreConfig = false; //store latest redraw function calls for when redraw is needed\r\n\r\n\t\tthis.redrawBlockRederInPosition = false; //store latest redraw function calls for when redraw is needed\r\n\t};\r\n\r\n\t//////////////// Setup Functions /////////////////\r\n\r\n\r\n\tRowManager.prototype.createHolderElement = function () {\r\n\r\n\t\tvar el = document.createElement(\"div\");\r\n\r\n\t\tel.classList.add(\"tabulator-tableHolder\");\r\n\r\n\t\tel.setAttribute(\"tabindex\", 0);\r\n\r\n\t\treturn el;\r\n\t};\r\n\r\n\tRowManager.prototype.createTableElement = function () {\r\n\r\n\t\tvar el = document.createElement(\"div\");\r\n\r\n\t\tel.classList.add(\"tabulator-table\");\r\n\r\n\t\treturn el;\r\n\t};\r\n\r\n\t//return containing element\r\n\r\n\tRowManager.prototype.getElement = function () {\r\n\r\n\t\treturn this.element;\r\n\t};\r\n\r\n\t//return table element\r\n\r\n\tRowManager.prototype.getTableElement = function () {\r\n\r\n\t\treturn this.tableElement;\r\n\t};\r\n\r\n\t//return position of row in table\r\n\r\n\tRowManager.prototype.getRowPosition = function (row, active) {\r\n\r\n\t\tif (active) {\r\n\r\n\t\t\treturn this.activeRows.indexOf(row);\r\n\t\t} else {\r\n\r\n\t\t\treturn this.rows.indexOf(row);\r\n\t\t}\r\n\t};\r\n\r\n\t//link to column manager\r\n\r\n\tRowManager.prototype.setColumnManager = function (manager) {\r\n\r\n\t\tthis.columnManager = manager;\r\n\t};\r\n\r\n\tRowManager.prototype.initialize = function () {\r\n\r\n\t\tvar self = this;\r\n\r\n\t\tself.setRenderMode();\r\n\r\n\t\t//initialize manager\r\n\r\n\t\tself.element.appendChild(self.tableElement);\r\n\r\n\t\tself.firstRender = true;\r\n\r\n\t\t//scroll header along with table body\r\n\r\n\t\tself.element.addEventListener(\"scroll\", function () {\r\n\r\n\t\t\tvar left = self.element.scrollLeft;\r\n\r\n\t\t\t//handle horizontal scrolling\r\n\r\n\t\t\tif (self.scrollLeft != left) {\r\n\r\n\t\t\t\tself.columnManager.scrollHorizontal(left);\r\n\r\n\t\t\t\tif (self.table.options.groupBy) {\r\n\r\n\t\t\t\t\tself.table.modules.groupRows.scrollHeaders(left);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (self.table.modExists(\"columnCalcs\")) {\r\n\r\n\t\t\t\t\tself.table.modules.columnCalcs.scrollHorizontal(left);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tself.table.options.scrollHorizontal(left);\r\n\t\t\t}\r\n\r\n\t\t\tself.scrollLeft = left;\r\n\t\t});\r\n\r\n\t\t//handle virtual dom scrolling\r\n\r\n\t\tif (this.renderMode === \"virtual\") {\r\n\r\n\t\t\tself.element.addEventListener(\"scroll\", function () {\r\n\r\n\t\t\t\tvar top = self.element.scrollTop;\r\n\r\n\t\t\t\tvar dir = self.scrollTop > top;\r\n\r\n\t\t\t\t//handle verical scrolling\r\n\r\n\t\t\t\tif (self.scrollTop != top) {\r\n\r\n\t\t\t\t\tself.scrollTop = top;\r\n\r\n\t\t\t\t\tself.scrollVertical(dir);\r\n\r\n\t\t\t\t\tif (self.table.options.ajaxProgressiveLoad == \"scroll\") {\r\n\r\n\t\t\t\t\t\tself.table.modules.ajax.nextPage(self.element.scrollHeight - self.element.clientHeight - top);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tself.table.options.scrollVertical(top);\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tself.scrollTop = top;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t////////////////// Row Manipulation //////////////////\r\n\r\n\r\n\tRowManager.prototype.findRow = function (subject) {\r\n\r\n\t\tvar self = this;\r\n\r\n\t\tif ((typeof subject === 'undefined' ? 'undefined' : _typeof(subject)) == \"object\") {\r\n\r\n\t\t\tif (subject instanceof Row) {\r\n\r\n\t\t\t\t//subject is row element\r\n\r\n\t\t\t\treturn subject;\r\n\t\t\t} else if (subject instanceof RowComponent) {\r\n\r\n\t\t\t\t//subject is public row component\r\n\r\n\t\t\t\treturn subject._getSelf() || false;\r\n\t\t\t} else if (typeof HTMLElement !== \"undefined\" && subject instanceof HTMLElement) {\r\n\r\n\t\t\t\t//subject is a HTML element of the row\r\n\r\n\t\t\t\tvar match = self.rows.find(function (row) {\r\n\r\n\t\t\t\t\treturn row.getElement() === subject;\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn match || false;\r\n\t\t\t}\r\n\t\t} else if (typeof subject == \"undefined\" || subject === null) {\r\n\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\r\n\t\t\t//subject should be treated as the index of the row\r\n\r\n\t\t\tvar _match = self.rows.find(function (row) {\r\n\r\n\t\t\t\treturn row.data[self.table.options.index] == subject;\r\n\t\t\t});\r\n\r\n\t\t\treturn _match || false;\r\n\t\t}\r\n\r\n\t\t//catch all for any other type of input\r\n\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n\tRowManager.prototype.getRowFromDataObject = function (data) {\r\n\r\n\t\tvar match = this.rows.find(function (row) {\r\n\r\n\t\t\treturn row.data === data;\r\n\t\t});\r\n\r\n\t\treturn match || false;\r\n\t};\r\n\r\n\tRowManager.prototype.getRowFromPosition = function (position, active) {\r\n\r\n\t\tif (active) {\r\n\r\n\t\t\treturn this.activeRows[position];\r\n\t\t} else {\r\n\r\n\t\t\treturn this.rows[position];\r\n\t\t}\r\n\t};\r\n\r\n\tRowManager.prototype.scrollToRow = function (row, position, ifVisible) {\r\n\t\tvar _this11 = this;\r\n\r\n\t\tvar rowIndex = this.getDisplayRows().indexOf(row),\r\n\t\t    rowEl = row.getElement(),\r\n\t\t    rowTop,\r\n\t\t    offset = 0;\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\tif (rowIndex > -1) {\r\n\r\n\t\t\t\tif (typeof position === \"undefined\") {\r\n\r\n\t\t\t\t\tposition = _this11.table.options.scrollToRowPosition;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (typeof ifVisible === \"undefined\") {\r\n\r\n\t\t\t\t\tifVisible = _this11.table.options.scrollToRowIfVisible;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (position === \"nearest\") {\r\n\r\n\t\t\t\t\tswitch (_this11.renderMode) {\r\n\r\n\t\t\t\t\t\tcase \"classic\":\r\n\r\n\t\t\t\t\t\t\trowTop = Tabulator.prototype.helpers.elOffset(rowEl).top;\r\n\r\n\t\t\t\t\t\t\tposition = Math.abs(_this11.element.scrollTop - rowTop) > Math.abs(_this11.element.scrollTop + _this11.element.clientHeight - rowTop) ? \"bottom\" : \"top\";\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase \"virtual\":\r\n\r\n\t\t\t\t\t\t\tposition = Math.abs(_this11.vDomTop - rowIndex) > Math.abs(_this11.vDomBottom - rowIndex) ? \"bottom\" : \"top\";\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//check row visibility\r\n\r\n\t\t\t\tif (!ifVisible) {\r\n\r\n\t\t\t\t\tif (Tabulator.prototype.helpers.elVisible(rowEl)) {\r\n\r\n\t\t\t\t\t\toffset = Tabulator.prototype.helpers.elOffset(rowEl).top - Tabulator.prototype.helpers.elOffset(_this11.element).top;\r\n\r\n\t\t\t\t\t\tif (offset > 0 && offset < _this11.element.clientHeight - rowEl.offsetHeight) {\r\n\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//scroll to row\r\n\r\n\t\t\t\tswitch (_this11.renderMode) {\r\n\r\n\t\t\t\t\tcase \"classic\":\r\n\r\n\t\t\t\t\t\t_this11.element.scrollTop = Tabulator.prototype.helpers.elOffset(rowEl).top - Tabulator.prototype.helpers.elOffset(_this11.element).top + _this11.element.scrollTop;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"virtual\":\r\n\r\n\t\t\t\t\t\t_this11._virtualRenderFill(rowIndex, true);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//align to correct position\r\n\r\n\t\t\t\tswitch (position) {\r\n\r\n\t\t\t\t\tcase \"middle\":\r\n\r\n\t\t\t\t\tcase \"center\":\r\n\r\n\t\t\t\t\t\tif (_this11.element.scrollHeight - _this11.element.scrollTop == _this11.element.clientHeight) {\r\n\r\n\t\t\t\t\t\t\t_this11.element.scrollTop = _this11.element.scrollTop + (rowEl.offsetTop - _this11.element.scrollTop) - (_this11.element.scrollHeight - rowEl.offsetTop) / 2;\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t_this11.element.scrollTop = _this11.element.scrollTop - _this11.element.clientHeight / 2;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"bottom\":\r\n\r\n\t\t\t\t\t\tif (_this11.element.scrollHeight - _this11.element.scrollTop == _this11.element.clientHeight) {\r\n\r\n\t\t\t\t\t\t\t_this11.element.scrollTop = _this11.element.scrollTop - (_this11.element.scrollHeight - rowEl.offsetTop) + rowEl.offsetHeight;\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t_this11.element.scrollTop = _this11.element.scrollTop - _this11.element.clientHeight + rowEl.offsetHeight;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tresolve();\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn(\"Scroll Error - Row not visible\");\r\n\r\n\t\t\t\treject(\"Scroll Error - Row not visible\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t////////////////// Data Handling //////////////////\r\n\r\n\r\n\tRowManager.prototype.setData = function (data, renderInPosition, columnsChanged) {\r\n\t\tvar _this12 = this;\r\n\r\n\t\tvar self = this;\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\tif (renderInPosition && _this12.getDisplayRows().length) {\r\n\r\n\t\t\t\tif (self.table.options.pagination) {\r\n\r\n\t\t\t\t\tself._setDataActual(data, true);\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t_this12.reRenderInPosition(function () {\r\n\r\n\t\t\t\t\t\tself._setDataActual(data);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (_this12.table.options.autoColumns && columnsChanged) {\r\n\r\n\t\t\t\t\t_this12.table.columnManager.generateColumnsFromRowData(data);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_this12.resetScroll();\r\n\r\n\t\t\t\t_this12._setDataActual(data);\r\n\t\t\t}\r\n\r\n\t\t\tresolve();\r\n\t\t});\r\n\t};\r\n\r\n\tRowManager.prototype._setDataActual = function (data, renderInPosition) {\r\n\r\n\t\tvar self = this;\r\n\r\n\t\tself.table.options.dataLoading.call(this.table, data);\r\n\r\n\t\tthis._wipeElements();\r\n\r\n\t\tif (this.table.options.history && this.table.modExists(\"history\")) {\r\n\r\n\t\t\tthis.table.modules.history.clear();\r\n\t\t}\r\n\r\n\t\tif (Array.isArray(data)) {\r\n\r\n\t\t\tif (this.table.modExists(\"selectRow\")) {\r\n\r\n\t\t\t\tthis.table.modules.selectRow.clearSelectionData();\r\n\t\t\t}\r\n\r\n\t\t\tif (this.table.options.reactiveData && this.table.modExists(\"reactiveData\", true)) {\r\n\r\n\t\t\t\tthis.table.modules.reactiveData.watchData(data);\r\n\t\t\t}\r\n\r\n\t\t\tdata.forEach(function (def, i) {\r\n\r\n\t\t\t\tif (def && (typeof def === 'undefined' ? 'undefined' : _typeof(def)) === \"object\") {\r\n\r\n\t\t\t\t\tvar row = new Row(def, self);\r\n\r\n\t\t\t\t\tself.rows.push(row);\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.warn(\"Data Loading Warning - Invalid row data detected and ignored, expecting object but received:\", def);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tself.refreshActiveData(false, false, renderInPosition);\r\n\r\n\t\t\tself.table.options.dataLoaded.call(this.table, data);\r\n\t\t} else {\r\n\r\n\t\t\tconsole.error(\"Data Loading Error - Unable to process data due to invalid data type \\nExpecting: array \\nReceived: \", typeof data === 'undefined' ? 'undefined' : _typeof(data), \"\\nData:     \", data);\r\n\t\t}\r\n\t};\r\n\r\n\tRowManager.prototype._wipeElements = function () {\r\n\r\n\t\tthis.rows.forEach(function (row) {\r\n\r\n\t\t\trow.wipe();\r\n\t\t});\r\n\r\n\t\tif (this.table.options.groupBy && this.table.modExists(\"groupRows\")) {\r\n\r\n\t\t\tthis.table.modules.groupRows.wipe();\r\n\t\t}\r\n\r\n\t\tthis.rows = [];\r\n\r\n\t\tthis.activeRows = [];\r\n\r\n\t\tthis.activeRowsCount = 0;\r\n\r\n\t\tthis.displayRows = [];\r\n\r\n\t\tthis.displayRowsCount = 0;\r\n\r\n\t\tthis.adjustTableSize();\r\n\t};\r\n\r\n\tRowManager.prototype.deleteRow = function (row, blockRedraw) {\r\n\r\n\t\tvar allIndex = this.rows.indexOf(row),\r\n\t\t    activeIndex = this.activeRows.indexOf(row);\r\n\r\n\t\tif (activeIndex > -1) {\r\n\r\n\t\t\tthis.activeRows.splice(activeIndex, 1);\r\n\t\t}\r\n\r\n\t\tif (allIndex > -1) {\r\n\r\n\t\t\tthis.rows.splice(allIndex, 1);\r\n\t\t}\r\n\r\n\t\tthis.setActiveRows(this.activeRows);\r\n\r\n\t\tthis.displayRowIterator(function (rows) {\r\n\r\n\t\t\tvar displayIndex = rows.indexOf(row);\r\n\r\n\t\t\tif (displayIndex > -1) {\r\n\r\n\t\t\t\trows.splice(displayIndex, 1);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (!blockRedraw) {\r\n\r\n\t\t\tthis.reRenderInPosition();\r\n\t\t}\r\n\r\n\t\tthis.regenerateRowNumbers();\r\n\r\n\t\tthis.table.options.rowDeleted.call(this.table, row.getComponent());\r\n\r\n\t\tif (this.table.options.dataChanged) {\r\n\r\n\t\t\tthis.table.options.dataChanged.call(this.table, this.getData());\r\n\t\t}\r\n\r\n\t\tif (this.table.options.groupBy && this.table.modExists(\"groupRows\")) {\r\n\r\n\t\t\tthis.table.modules.groupRows.updateGroupRows(true);\r\n\t\t} else if (this.table.options.pagination && this.table.modExists(\"page\")) {\r\n\r\n\t\t\tthis.refreshActiveData(false, false, true);\r\n\t\t} else {\r\n\r\n\t\t\tif (this.table.options.pagination && this.table.modExists(\"page\")) {\r\n\r\n\t\t\t\tthis.refreshActiveData(\"page\");\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tRowManager.prototype.addRow = function (data, pos, index, blockRedraw) {\r\n\r\n\t\tvar row = this.addRowActual(data, pos, index, blockRedraw);\r\n\r\n\t\tif (this.table.options.history && this.table.modExists(\"history\")) {\r\n\r\n\t\t\tthis.table.modules.history.action(\"rowAdd\", row, { data: data, pos: pos, index: index });\r\n\t\t}\r\n\r\n\t\treturn row;\r\n\t};\r\n\r\n\t//add multiple rows\r\n\r\n\tRowManager.prototype.addRows = function (data, pos, index) {\r\n\t\tvar _this13 = this;\r\n\r\n\t\tvar self = this,\r\n\t\t    length = 0,\r\n\t\t    rows = [];\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\tpos = _this13.findAddRowPos(pos);\r\n\r\n\t\t\tif (!Array.isArray(data)) {\r\n\r\n\t\t\t\tdata = [data];\r\n\t\t\t}\r\n\r\n\t\t\tlength = data.length - 1;\r\n\r\n\t\t\tif (typeof index == \"undefined\" && pos || typeof index !== \"undefined\" && !pos) {\r\n\r\n\t\t\t\tdata.reverse();\r\n\t\t\t}\r\n\r\n\t\t\tdata.forEach(function (item, i) {\r\n\r\n\t\t\t\tvar row = self.addRow(item, pos, index, true);\r\n\r\n\t\t\t\trows.push(row);\r\n\t\t\t});\r\n\r\n\t\t\tif (_this13.table.options.groupBy && _this13.table.modExists(\"groupRows\")) {\r\n\r\n\t\t\t\t_this13.table.modules.groupRows.updateGroupRows(true);\r\n\t\t\t} else if (_this13.table.options.pagination && _this13.table.modExists(\"page\")) {\r\n\r\n\t\t\t\t_this13.refreshActiveData(false, false, true);\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_this13.reRenderInPosition();\r\n\t\t\t}\r\n\r\n\t\t\t//recalc column calculations if present\r\n\r\n\t\t\tif (_this13.table.modExists(\"columnCalcs\")) {\r\n\r\n\t\t\t\t_this13.table.modules.columnCalcs.recalc(_this13.table.rowManager.activeRows);\r\n\t\t\t}\r\n\r\n\t\t\t_this13.regenerateRowNumbers();\r\n\r\n\t\t\tresolve(rows);\r\n\t\t});\r\n\t};\r\n\r\n\tRowManager.prototype.findAddRowPos = function (pos) {\r\n\r\n\t\tif (typeof pos === \"undefined\") {\r\n\r\n\t\t\tpos = this.table.options.addRowPos;\r\n\t\t}\r\n\r\n\t\tif (pos === \"pos\") {\r\n\r\n\t\t\tpos = true;\r\n\t\t}\r\n\r\n\t\tif (pos === \"bottom\") {\r\n\r\n\t\t\tpos = false;\r\n\t\t}\r\n\r\n\t\treturn pos;\r\n\t};\r\n\r\n\tRowManager.prototype.addRowActual = function (data, pos, index, blockRedraw) {\r\n\r\n\t\tvar row = data instanceof Row ? data : new Row(data || {}, this),\r\n\t\t    top = this.findAddRowPos(pos),\r\n\t\t    allIndex = -1,\r\n\t\t    activeIndex,\r\n\t\t    dispRows;\r\n\r\n\t\tif (!index && this.table.options.pagination && this.table.options.paginationAddRow == \"page\") {\r\n\r\n\t\t\tdispRows = this.getDisplayRows();\r\n\r\n\t\t\tif (top) {\r\n\r\n\t\t\t\tif (dispRows.length) {\r\n\r\n\t\t\t\t\tindex = dispRows[0];\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif (this.activeRows.length) {\r\n\r\n\t\t\t\t\t\tindex = this.activeRows[this.activeRows.length - 1];\r\n\r\n\t\t\t\t\t\ttop = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (dispRows.length) {\r\n\r\n\t\t\t\t\tindex = dispRows[dispRows.length - 1];\r\n\r\n\t\t\t\t\ttop = dispRows.length < this.table.modules.page.getPageSize() ? false : true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (typeof index !== \"undefined\") {\r\n\r\n\t\t\tindex = this.findRow(index);\r\n\t\t}\r\n\r\n\t\tif (this.table.options.groupBy && this.table.modExists(\"groupRows\")) {\r\n\r\n\t\t\tthis.table.modules.groupRows.assignRowToGroup(row);\r\n\r\n\t\t\tvar groupRows = row.getGroup().rows;\r\n\r\n\t\t\tif (groupRows.length > 1) {\r\n\r\n\t\t\t\tif (!index || index && groupRows.indexOf(index) == -1) {\r\n\r\n\t\t\t\t\tif (top) {\r\n\r\n\t\t\t\t\t\tif (groupRows[0] !== row) {\r\n\r\n\t\t\t\t\t\t\tindex = groupRows[0];\r\n\r\n\t\t\t\t\t\t\tthis._moveRowInArray(row.getGroup().rows, row, index, !top);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tif (groupRows[groupRows.length - 1] !== row) {\r\n\r\n\t\t\t\t\t\t\tindex = groupRows[groupRows.length - 1];\r\n\r\n\t\t\t\t\t\t\tthis._moveRowInArray(row.getGroup().rows, row, index, !top);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis._moveRowInArray(row.getGroup().rows, row, index, !top);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (index) {\r\n\r\n\t\t\tallIndex = this.rows.indexOf(index);\r\n\t\t}\r\n\r\n\t\tif (index && allIndex > -1) {\r\n\r\n\t\t\tactiveIndex = this.activeRows.indexOf(index);\r\n\r\n\t\t\tthis.displayRowIterator(function (rows) {\r\n\r\n\t\t\t\tvar displayIndex = rows.indexOf(index);\r\n\r\n\t\t\t\tif (displayIndex > -1) {\r\n\r\n\t\t\t\t\trows.splice(top ? displayIndex : displayIndex + 1, 0, row);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (activeIndex > -1) {\r\n\r\n\t\t\t\tthis.activeRows.splice(top ? activeIndex : activeIndex + 1, 0, row);\r\n\t\t\t}\r\n\r\n\t\t\tthis.rows.splice(top ? allIndex : allIndex + 1, 0, row);\r\n\t\t} else {\r\n\r\n\t\t\tif (top) {\r\n\r\n\t\t\t\tthis.displayRowIterator(function (rows) {\r\n\r\n\t\t\t\t\trows.unshift(row);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.activeRows.unshift(row);\r\n\r\n\t\t\t\tthis.rows.unshift(row);\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.displayRowIterator(function (rows) {\r\n\r\n\t\t\t\t\trows.push(row);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.activeRows.push(row);\r\n\r\n\t\t\t\tthis.rows.push(row);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.setActiveRows(this.activeRows);\r\n\r\n\t\tthis.table.options.rowAdded.call(this.table, row.getComponent());\r\n\r\n\t\tif (this.table.options.dataChanged) {\r\n\r\n\t\t\tthis.table.options.dataChanged.call(this.table, this.getData());\r\n\t\t}\r\n\r\n\t\tif (!blockRedraw) {\r\n\r\n\t\t\tthis.reRenderInPosition();\r\n\t\t}\r\n\r\n\t\treturn row;\r\n\t};\r\n\r\n\tRowManager.prototype.moveRow = function (from, to, after) {\r\n\r\n\t\tif (this.table.options.history && this.table.modExists(\"history\")) {\r\n\r\n\t\t\tthis.table.modules.history.action(\"rowMove\", from, { posFrom: this.getRowPosition(from), posTo: this.getRowPosition(to), to: to, after: after });\r\n\t\t}\r\n\r\n\t\tthis.moveRowActual(from, to, after);\r\n\r\n\t\tthis.regenerateRowNumbers();\r\n\r\n\t\tthis.table.options.rowMoved.call(this.table, from.getComponent());\r\n\t};\r\n\r\n\tRowManager.prototype.moveRowActual = function (from, to, after) {\r\n\t\tvar _this14 = this;\r\n\r\n\t\tthis._moveRowInArray(this.rows, from, to, after);\r\n\r\n\t\tthis._moveRowInArray(this.activeRows, from, to, after);\r\n\r\n\t\tthis.displayRowIterator(function (rows) {\r\n\r\n\t\t\t_this14._moveRowInArray(rows, from, to, after);\r\n\t\t});\r\n\r\n\t\tif (this.table.options.groupBy && this.table.modExists(\"groupRows\")) {\r\n\r\n\t\t\tif (!after && to instanceof Group) {\r\n\r\n\t\t\t\tto = this.table.rowManager.prevDisplayRow(from) || to;\r\n\t\t\t}\r\n\r\n\t\t\tvar toGroup = to.getGroup();\r\n\r\n\t\t\tvar fromGroup = from.getGroup();\r\n\r\n\t\t\tif (toGroup === fromGroup) {\r\n\r\n\t\t\t\tthis._moveRowInArray(toGroup.rows, from, to, after);\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (fromGroup) {\r\n\r\n\t\t\t\t\tfromGroup.removeRow(from);\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttoGroup.insertRow(from, to, after);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tRowManager.prototype._moveRowInArray = function (rows, from, to, after) {\r\n\r\n\t\tvar fromIndex, toIndex, start, end;\r\n\r\n\t\tif (from !== to) {\r\n\r\n\t\t\tfromIndex = rows.indexOf(from);\r\n\r\n\t\t\tif (fromIndex > -1) {\r\n\r\n\t\t\t\trows.splice(fromIndex, 1);\r\n\r\n\t\t\t\ttoIndex = rows.indexOf(to);\r\n\r\n\t\t\t\tif (toIndex > -1) {\r\n\r\n\t\t\t\t\tif (after) {\r\n\r\n\t\t\t\t\t\trows.splice(toIndex + 1, 0, from);\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\trows.splice(toIndex, 0, from);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\trows.splice(fromIndex, 0, from);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//restyle rows\r\n\r\n\t\t\tif (rows === this.getDisplayRows()) {\r\n\r\n\t\t\t\tstart = fromIndex < toIndex ? fromIndex : toIndex;\r\n\r\n\t\t\t\tend = toIndex > fromIndex ? toIndex : fromIndex + 1;\r\n\r\n\t\t\t\tfor (var _i4 = start; _i4 <= end; _i4++) {\r\n\r\n\t\t\t\t\tif (rows[_i4]) {\r\n\r\n\t\t\t\t\t\tthis.styleRow(rows[_i4], _i4);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tRowManager.prototype.clearData = function () {\r\n\r\n\t\tthis.setData([]);\r\n\t};\r\n\r\n\tRowManager.prototype.getRowIndex = function (row) {\r\n\r\n\t\treturn this.findRowIndex(row, this.rows);\r\n\t};\r\n\r\n\tRowManager.prototype.getDisplayRowIndex = function (row) {\r\n\r\n\t\tvar index = this.getDisplayRows().indexOf(row);\r\n\r\n\t\treturn index > -1 ? index : false;\r\n\t};\r\n\r\n\tRowManager.prototype.nextDisplayRow = function (row, rowOnly) {\r\n\r\n\t\tvar index = this.getDisplayRowIndex(row),\r\n\t\t    nextRow = false;\r\n\r\n\t\tif (index !== false && index < this.displayRowsCount - 1) {\r\n\r\n\t\t\tnextRow = this.getDisplayRows()[index + 1];\r\n\t\t}\r\n\r\n\t\tif (nextRow && (!(nextRow instanceof Row) || nextRow.type != \"row\")) {\r\n\r\n\t\t\treturn this.nextDisplayRow(nextRow, rowOnly);\r\n\t\t}\r\n\r\n\t\treturn nextRow;\r\n\t};\r\n\r\n\tRowManager.prototype.prevDisplayRow = function (row, rowOnly) {\r\n\r\n\t\tvar index = this.getDisplayRowIndex(row),\r\n\t\t    prevRow = false;\r\n\r\n\t\tif (index) {\r\n\r\n\t\t\tprevRow = this.getDisplayRows()[index - 1];\r\n\t\t}\r\n\r\n\t\tif (rowOnly && prevRow && (!(prevRow instanceof Row) || prevRow.type != \"row\")) {\r\n\r\n\t\t\treturn this.prevDisplayRow(prevRow, rowOnly);\r\n\t\t}\r\n\r\n\t\treturn prevRow;\r\n\t};\r\n\r\n\tRowManager.prototype.findRowIndex = function (row, list) {\r\n\r\n\t\tvar rowIndex;\r\n\r\n\t\trow = this.findRow(row);\r\n\r\n\t\tif (row) {\r\n\r\n\t\t\trowIndex = list.indexOf(row);\r\n\r\n\t\t\tif (rowIndex > -1) {\r\n\r\n\t\t\t\treturn rowIndex;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n\tRowManager.prototype.getData = function (active, transform) {\r\n\r\n\t\tvar output = [],\r\n\t\t    rows = this.getRows(active);\r\n\r\n\t\trows.forEach(function (row) {\r\n\r\n\t\t\tif (row.type == \"row\") {\r\n\r\n\t\t\t\toutput.push(row.getData(transform || \"data\"));\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\tRowManager.prototype.getComponents = function (active) {\r\n\r\n\t\tvar output = [],\r\n\t\t    rows = this.getRows(active);\r\n\r\n\t\trows.forEach(function (row) {\r\n\r\n\t\t\toutput.push(row.getComponent());\r\n\t\t});\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\tRowManager.prototype.getDataCount = function (active) {\r\n\r\n\t\tvar rows = this.getRows(active);\r\n\r\n\t\treturn rows.length;\r\n\t};\r\n\r\n\tRowManager.prototype._genRemoteRequest = function () {\r\n\t\tvar _this15 = this;\r\n\r\n\t\tvar table = this.table,\r\n\t\t    options = table.options,\r\n\t\t    params = {};\r\n\r\n\t\tif (table.modExists(\"page\")) {\r\n\r\n\t\t\t//set sort data if defined\r\n\r\n\t\t\tif (options.ajaxSorting) {\r\n\r\n\t\t\t\tvar sorters = this.table.modules.sort.getSort();\r\n\r\n\t\t\t\tsorters.forEach(function (item) {\r\n\r\n\t\t\t\t\tdelete item.column;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tparams[this.table.modules.page.paginationDataSentNames.sorters] = sorters;\r\n\t\t\t}\r\n\r\n\t\t\t//set filter data if defined\r\n\r\n\t\t\tif (options.ajaxFiltering) {\r\n\r\n\t\t\t\tvar filters = this.table.modules.filter.getFilters(true, true);\r\n\r\n\t\t\t\tparams[this.table.modules.page.paginationDataSentNames.filters] = filters;\r\n\t\t\t}\r\n\r\n\t\t\tthis.table.modules.ajax.setParams(params, true);\r\n\t\t}\r\n\r\n\t\ttable.modules.ajax.sendRequest().then(function (data) {\r\n\r\n\t\t\t_this15._setDataActual(data, true);\r\n\t\t}).catch(function (e) {});\r\n\t};\r\n\r\n\t//choose the path to refresh data after a filter update\r\n\r\n\tRowManager.prototype.filterRefresh = function () {\r\n\r\n\t\tvar table = this.table,\r\n\t\t    options = table.options,\r\n\t\t    left = this.scrollLeft;\r\n\r\n\t\tif (options.ajaxFiltering) {\r\n\r\n\t\t\tif (options.pagination == \"remote\" && table.modExists(\"page\")) {\r\n\r\n\t\t\t\ttable.modules.page.reset(true);\r\n\r\n\t\t\t\ttable.modules.page.setPage(1).then(function () {}).catch(function () {});\r\n\t\t\t} else if (options.ajaxProgressiveLoad) {\r\n\r\n\t\t\t\ttable.modules.ajax.loadData().then(function () {}).catch(function () {});\r\n\t\t\t} else {\r\n\r\n\t\t\t\t//assume data is url, make ajax call to url to get data\r\n\r\n\t\t\t\tthis._genRemoteRequest();\r\n\t\t\t}\r\n\t\t} else {\r\n\r\n\t\t\tthis.refreshActiveData(\"filter\");\r\n\t\t}\r\n\r\n\t\tthis.scrollHorizontal(left);\r\n\t};\r\n\r\n\t//choose the path to refresh data after a sorter update\r\n\r\n\tRowManager.prototype.sorterRefresh = function (loadOrignalData) {\r\n\r\n\t\tvar table = this.table,\r\n\t\t    options = this.table.options,\r\n\t\t    left = this.scrollLeft;\r\n\r\n\t\tif (options.ajaxSorting) {\r\n\r\n\t\t\tif ((options.pagination == \"remote\" || options.progressiveLoad) && table.modExists(\"page\")) {\r\n\r\n\t\t\t\ttable.modules.page.reset(true);\r\n\r\n\t\t\t\ttable.modules.page.setPage(1).then(function () {}).catch(function () {});\r\n\t\t\t} else if (options.ajaxProgressiveLoad) {\r\n\r\n\t\t\t\ttable.modules.ajax.loadData().then(function () {}).catch(function () {});\r\n\t\t\t} else {\r\n\r\n\t\t\t\t//assume data is url, make ajax call to url to get data\r\n\r\n\t\t\t\tthis._genRemoteRequest();\r\n\t\t\t}\r\n\t\t} else {\r\n\r\n\t\t\tthis.refreshActiveData(loadOrignalData ? \"filter\" : \"sort\");\r\n\t\t}\r\n\r\n\t\tthis.scrollHorizontal(left);\r\n\t};\r\n\r\n\tRowManager.prototype.scrollHorizontal = function (left) {\r\n\r\n\t\tthis.scrollLeft = left;\r\n\r\n\t\tthis.element.scrollLeft = left;\r\n\r\n\t\tif (this.table.options.groupBy) {\r\n\r\n\t\t\tthis.table.modules.groupRows.scrollHeaders(left);\r\n\t\t}\r\n\r\n\t\tif (this.table.modExists(\"columnCalcs\")) {\r\n\r\n\t\t\tthis.table.modules.columnCalcs.scrollHorizontal(left);\r\n\t\t}\r\n\t};\r\n\r\n\t//set active data set\r\n\r\n\tRowManager.prototype.refreshActiveData = function (stage, skipStage, renderInPosition) {\r\n\r\n\t\tvar self = this,\r\n\t\t    table = this.table,\r\n\t\t    cascadeOrder = [\"all\", \"filter\", \"sort\", \"display\", \"freeze\", \"group\", \"tree\", \"page\"],\r\n\t\t    displayIndex;\r\n\r\n\t\tif (this.redrawBlock) {\r\n\r\n\t\t\tif (!this.redrawBlockRestoreConfig || cascadeOrder.indexOf(stage) < cascadeOrder.indexOf(this.redrawBlockRestoreConfig.stage)) {\r\n\r\n\t\t\t\tthis.redrawBlockRestoreConfig = {\r\n\r\n\t\t\t\t\tstage: stage,\r\n\r\n\t\t\t\t\tskipStage: skipStage,\r\n\r\n\t\t\t\t\trenderInPosition: renderInPosition\r\n\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\treturn;\r\n\t\t} else {\r\n\r\n\t\t\tif (self.table.modExists(\"edit\")) {\r\n\r\n\t\t\t\tself.table.modules.edit.cancelEdit();\r\n\t\t\t}\r\n\r\n\t\t\tif (!stage) {\r\n\r\n\t\t\t\tstage = \"all\";\r\n\t\t\t}\r\n\r\n\t\t\tif (table.options.selectable && !table.options.selectablePersistence && table.modExists(\"selectRow\")) {\r\n\r\n\t\t\t\ttable.modules.selectRow.deselectRows();\r\n\t\t\t}\r\n\r\n\t\t\t//cascade through data refresh stages\r\n\r\n\t\t\tswitch (stage) {\r\n\r\n\t\t\t\tcase \"all\":\r\n\r\n\t\t\t\tcase \"filter\":\r\n\r\n\t\t\t\t\tif (!skipStage) {\r\n\r\n\t\t\t\t\t\tif (table.modExists(\"filter\")) {\r\n\r\n\t\t\t\t\t\t\tself.setActiveRows(table.modules.filter.filter(self.rows));\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tself.setActiveRows(self.rows.slice(0));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tskipStage = false;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\tcase \"sort\":\r\n\r\n\t\t\t\t\tif (!skipStage) {\r\n\r\n\t\t\t\t\t\tif (table.modExists(\"sort\")) {\r\n\r\n\t\t\t\t\t\t\ttable.modules.sort.sort(this.activeRows);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tskipStage = false;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//regenerate row numbers for row number formatter if in use\r\n\r\n\t\t\t\t\tthis.regenerateRowNumbers();\r\n\r\n\t\t\t\t//generic stage to allow for pipeline trigger after the data manipulation stage\r\n\r\n\t\t\t\tcase \"display\":\r\n\r\n\t\t\t\t\tthis.resetDisplayRows();\r\n\r\n\t\t\t\tcase \"freeze\":\r\n\r\n\t\t\t\t\tif (!skipStage) {\r\n\r\n\t\t\t\t\t\tif (this.table.modExists(\"frozenRows\")) {\r\n\r\n\t\t\t\t\t\t\tif (table.modules.frozenRows.isFrozen()) {\r\n\r\n\t\t\t\t\t\t\t\tif (!table.modules.frozenRows.getDisplayIndex()) {\r\n\r\n\t\t\t\t\t\t\t\t\ttable.modules.frozenRows.setDisplayIndex(this.getNextDisplayIndex());\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tdisplayIndex = table.modules.frozenRows.getDisplayIndex();\r\n\r\n\t\t\t\t\t\t\t\tdisplayIndex = self.setDisplayRows(table.modules.frozenRows.getRows(this.getDisplayRows(displayIndex - 1)), displayIndex);\r\n\r\n\t\t\t\t\t\t\t\tif (displayIndex !== true) {\r\n\r\n\t\t\t\t\t\t\t\t\ttable.modules.frozenRows.setDisplayIndex(displayIndex);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tskipStage = false;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\tcase \"group\":\r\n\r\n\t\t\t\t\tif (!skipStage) {\r\n\r\n\t\t\t\t\t\tif (table.options.groupBy && table.modExists(\"groupRows\")) {\r\n\r\n\t\t\t\t\t\t\tif (!table.modules.groupRows.getDisplayIndex()) {\r\n\r\n\t\t\t\t\t\t\t\ttable.modules.groupRows.setDisplayIndex(this.getNextDisplayIndex());\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tdisplayIndex = table.modules.groupRows.getDisplayIndex();\r\n\r\n\t\t\t\t\t\t\tdisplayIndex = self.setDisplayRows(table.modules.groupRows.getRows(this.getDisplayRows(displayIndex - 1)), displayIndex);\r\n\r\n\t\t\t\t\t\t\tif (displayIndex !== true) {\r\n\r\n\t\t\t\t\t\t\t\ttable.modules.groupRows.setDisplayIndex(displayIndex);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tskipStage = false;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\tcase \"tree\":\r\n\r\n\t\t\t\t\tif (!skipStage) {\r\n\r\n\t\t\t\t\t\tif (table.options.dataTree && table.modExists(\"dataTree\")) {\r\n\r\n\t\t\t\t\t\t\tif (!table.modules.dataTree.getDisplayIndex()) {\r\n\r\n\t\t\t\t\t\t\t\ttable.modules.dataTree.setDisplayIndex(this.getNextDisplayIndex());\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tdisplayIndex = table.modules.dataTree.getDisplayIndex();\r\n\r\n\t\t\t\t\t\t\tdisplayIndex = self.setDisplayRows(table.modules.dataTree.getRows(this.getDisplayRows(displayIndex - 1)), displayIndex);\r\n\r\n\t\t\t\t\t\t\tif (displayIndex !== true) {\r\n\r\n\t\t\t\t\t\t\t\ttable.modules.dataTree.setDisplayIndex(displayIndex);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tskipStage = false;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (table.options.pagination && table.modExists(\"page\") && !renderInPosition) {\r\n\r\n\t\t\t\t\t\tif (table.modules.page.getMode() == \"local\") {\r\n\r\n\t\t\t\t\t\t\ttable.modules.page.reset();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\tcase \"page\":\r\n\r\n\t\t\t\t\tif (!skipStage) {\r\n\r\n\t\t\t\t\t\tif (table.options.pagination && table.modExists(\"page\")) {\r\n\r\n\t\t\t\t\t\t\tif (!table.modules.page.getDisplayIndex()) {\r\n\r\n\t\t\t\t\t\t\t\ttable.modules.page.setDisplayIndex(this.getNextDisplayIndex());\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tdisplayIndex = table.modules.page.getDisplayIndex();\r\n\r\n\t\t\t\t\t\t\tif (table.modules.page.getMode() == \"local\") {\r\n\r\n\t\t\t\t\t\t\t\ttable.modules.page.setMaxRows(this.getDisplayRows(displayIndex - 1).length);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tdisplayIndex = self.setDisplayRows(table.modules.page.getRows(this.getDisplayRows(displayIndex - 1)), displayIndex);\r\n\r\n\t\t\t\t\t\t\tif (displayIndex !== true) {\r\n\r\n\t\t\t\t\t\t\t\ttable.modules.page.setDisplayIndex(displayIndex);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tskipStage = false;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (Tabulator.prototype.helpers.elVisible(self.element)) {\r\n\r\n\t\t\t\tif (renderInPosition) {\r\n\r\n\t\t\t\t\tself.reRenderInPosition();\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif (stage === \"all\" && this.table.options.virtualDomHoz) {\r\n\r\n\t\t\t\t\t\tthis.table.vdomHoz.dataChange();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tself.renderTable();\r\n\r\n\t\t\t\t\tif (table.options.layoutColumnsOnNewData) {\r\n\r\n\t\t\t\t\t\tself.table.columnManager.redraw(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (table.modExists(\"columnCalcs\")) {\r\n\r\n\t\t\t\ttable.modules.columnCalcs.recalc(this.activeRows);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//regenerate row numbers for row number formatter if in use\r\n\r\n\tRowManager.prototype.regenerateRowNumbers = function () {\r\n\t\tvar _this16 = this;\r\n\r\n\t\tif (this.rowNumColumn) {\r\n\r\n\t\t\tthis.activeRows.forEach(function (row) {\r\n\r\n\t\t\t\tvar cell = row.getCell(_this16.rowNumColumn);\r\n\r\n\t\t\t\tif (cell) {\r\n\r\n\t\t\t\t\tcell._generateContents();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tRowManager.prototype.setActiveRows = function (activeRows) {\r\n\r\n\t\tthis.activeRows = activeRows;\r\n\r\n\t\tthis.activeRowsCount = this.activeRows.length;\r\n\t};\r\n\r\n\t//reset display rows array\r\n\r\n\tRowManager.prototype.resetDisplayRows = function () {\r\n\r\n\t\tthis.displayRows = [];\r\n\r\n\t\tthis.displayRows.push(this.activeRows.slice(0));\r\n\r\n\t\tthis.displayRowsCount = this.displayRows[0].length;\r\n\r\n\t\tif (this.table.modExists(\"frozenRows\")) {\r\n\r\n\t\t\tthis.table.modules.frozenRows.setDisplayIndex(0);\r\n\t\t}\r\n\r\n\t\tif (this.table.options.groupBy && this.table.modExists(\"groupRows\")) {\r\n\r\n\t\t\tthis.table.modules.groupRows.setDisplayIndex(0);\r\n\t\t}\r\n\r\n\t\tif (this.table.options.pagination && this.table.modExists(\"page\")) {\r\n\r\n\t\t\tthis.table.modules.page.setDisplayIndex(0);\r\n\t\t}\r\n\t};\r\n\r\n\tRowManager.prototype.getNextDisplayIndex = function () {\r\n\r\n\t\treturn this.displayRows.length;\r\n\t};\r\n\r\n\t//set display row pipeline data\r\n\r\n\tRowManager.prototype.setDisplayRows = function (displayRows, index) {\r\n\r\n\t\tvar output = true;\r\n\r\n\t\tif (index && typeof this.displayRows[index] != \"undefined\") {\r\n\r\n\t\t\tthis.displayRows[index] = displayRows;\r\n\r\n\t\t\toutput = true;\r\n\t\t} else {\r\n\r\n\t\t\tthis.displayRows.push(displayRows);\r\n\r\n\t\t\toutput = index = this.displayRows.length - 1;\r\n\t\t}\r\n\r\n\t\tif (index == this.displayRows.length - 1) {\r\n\r\n\t\t\tthis.displayRowsCount = this.displayRows[this.displayRows.length - 1].length;\r\n\t\t}\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\tRowManager.prototype.getDisplayRows = function (index) {\r\n\r\n\t\tif (typeof index == \"undefined\") {\r\n\r\n\t\t\treturn this.displayRows.length ? this.displayRows[this.displayRows.length - 1] : [];\r\n\t\t} else {\r\n\r\n\t\t\treturn this.displayRows[index] || [];\r\n\t\t}\r\n\t};\r\n\r\n\tRowManager.prototype.getVisibleRows = function (viewable) {\r\n\r\n\t\tvar topEdge = this.element.scrollTop,\r\n\t\t    bottomEdge = this.element.clientHeight + topEdge,\r\n\t\t    topFound = false,\r\n\t\t    topRow = 0,\r\n\t\t    bottomRow = 0,\r\n\t\t    rows = this.getDisplayRows();\r\n\r\n\t\tif (viewable) {\r\n\r\n\t\t\tthis.getDisplayRows();\r\n\r\n\t\t\tfor (var i = this.vDomTop; i <= this.vDomBottom; i++) {\r\n\r\n\t\t\t\tif (rows[i]) {\r\n\r\n\t\t\t\t\tif (!topFound) {\r\n\r\n\t\t\t\t\t\tif (topEdge - rows[i].getElement().offsetTop >= 0) {\r\n\r\n\t\t\t\t\t\t\ttopRow = i;\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\ttopFound = true;\r\n\r\n\t\t\t\t\t\t\tif (bottomEdge - rows[i].getElement().offsetTop >= 0) {\r\n\r\n\t\t\t\t\t\t\t\tbottomRow = i;\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tif (bottomEdge - rows[i].getElement().offsetTop >= 0) {\r\n\r\n\t\t\t\t\t\t\tbottomRow = i;\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\r\n\t\t\ttopRow = this.vDomTop;\r\n\r\n\t\t\tbottomRow = this.vDomBottom;\r\n\t\t}\r\n\r\n\t\treturn rows.slice(topRow, bottomRow + 1);\r\n\t};\r\n\r\n\t//repeat action accross display rows\r\n\r\n\tRowManager.prototype.displayRowIterator = function (callback) {\r\n\r\n\t\tthis.displayRows.forEach(callback);\r\n\r\n\t\tthis.displayRowsCount = this.displayRows[this.displayRows.length - 1].length;\r\n\t};\r\n\r\n\t//return only actual rows (not group headers etc)\r\n\r\n\tRowManager.prototype.getRows = function (active) {\r\n\r\n\t\tvar rows;\r\n\r\n\t\tswitch (active) {\r\n\r\n\t\t\tcase \"active\":\r\n\r\n\t\t\t\trows = this.activeRows;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"display\":\r\n\r\n\t\t\t\trows = this.table.rowManager.getDisplayRows();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"visible\":\r\n\r\n\t\t\t\trows = this.getVisibleRows(true);\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"selected\":\r\n\r\n\t\t\t\trows = this.table.modules.selectRow.selectedRows;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\trows = this.rows;\r\n\r\n\t\t}\r\n\r\n\t\treturn rows;\r\n\t};\r\n\r\n\t///////////////// Table Rendering /////////////////\r\n\r\n\r\n\t//trigger rerender of table in current position\r\n\r\n\tRowManager.prototype.reRenderInPosition = function (callback) {\r\n\r\n\t\tif (this.getRenderMode() == \"virtual\") {\r\n\r\n\t\t\tif (this.redrawBlock) {\r\n\r\n\t\t\t\tif (callback) {\r\n\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis.redrawBlockRederInPosition = true;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar scrollTop = this.element.scrollTop;\r\n\r\n\t\t\t\tvar topRow = false;\r\n\r\n\t\t\t\tvar topOffset = false;\r\n\r\n\t\t\t\tvar left = this.scrollLeft;\r\n\r\n\t\t\t\tvar rows = this.getDisplayRows();\r\n\r\n\t\t\t\tfor (var i = this.vDomTop; i <= this.vDomBottom; i++) {\r\n\r\n\t\t\t\t\tif (rows[i]) {\r\n\r\n\t\t\t\t\t\tvar diff = scrollTop - rows[i].getElement().offsetTop;\r\n\r\n\t\t\t\t\t\tif (topOffset === false || Math.abs(diff) < topOffset) {\r\n\r\n\t\t\t\t\t\t\ttopOffset = diff;\r\n\r\n\t\t\t\t\t\t\ttopRow = i;\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (callback) {\r\n\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._virtualRenderFill(topRow === false ? this.displayRowsCount - 1 : topRow, true, topOffset || 0);\r\n\r\n\t\t\t\tthis.scrollHorizontal(left);\r\n\t\t\t}\r\n\t\t} else {\r\n\r\n\t\t\tthis.renderTable();\r\n\r\n\t\t\tif (callback) {\r\n\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tRowManager.prototype.setRenderMode = function () {\r\n\r\n\t\tif (this.table.options.virtualDom) {\r\n\r\n\t\t\tthis.renderMode = \"virtual\";\r\n\r\n\t\t\tif (this.table.element.clientHeight || this.table.options.height) {\r\n\r\n\t\t\t\tthis.fixedHeight = true;\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.fixedHeight = false;\r\n\t\t\t}\r\n\t\t} else {\r\n\r\n\t\t\tthis.renderMode = \"classic\";\r\n\t\t}\r\n\t};\r\n\r\n\tRowManager.prototype.getRenderMode = function () {\r\n\r\n\t\treturn this.renderMode;\r\n\t};\r\n\r\n\tRowManager.prototype.renderTable = function () {\r\n\r\n\t\tthis.table.options.renderStarted.call(this.table);\r\n\r\n\t\tthis.element.scrollTop = 0;\r\n\r\n\t\tswitch (this.renderMode) {\r\n\r\n\t\t\tcase \"classic\":\r\n\r\n\t\t\t\tthis._simpleRender();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"virtual\":\r\n\r\n\t\t\t\tthis._virtualRenderFill();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tif (this.firstRender) {\r\n\r\n\t\t\tif (this.displayRowsCount) {\r\n\r\n\t\t\t\tthis.firstRender = false;\r\n\r\n\t\t\t\tthis.table.modules.layout.layout();\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.renderEmptyScroll();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.table.modExists(\"frozenColumns\")) {\r\n\r\n\t\t\tthis.table.modules.frozenColumns.layout();\r\n\t\t}\r\n\r\n\t\tif (!this.displayRowsCount) {\r\n\r\n\t\t\tif (this.table.options.placeholder) {\r\n\r\n\t\t\t\tthis.table.options.placeholder.setAttribute(\"tabulator-render-mode\", this.renderMode);\r\n\r\n\t\t\t\tthis.getElement().appendChild(this.table.options.placeholder);\r\n\r\n\t\t\t\tthis.table.options.placeholder.style.width = this.table.columnManager.getWidth() + \"px\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.table.options.renderComplete.call(this.table);\r\n\t};\r\n\r\n\t//simple render on heightless table\r\n\r\n\tRowManager.prototype._simpleRender = function () {\r\n\r\n\t\tthis._clearVirtualDom();\r\n\r\n\t\tif (this.displayRowsCount) {\r\n\r\n\t\t\tthis.checkClassicModeGroupHeaderWidth();\r\n\t\t} else {\r\n\r\n\t\t\tthis.renderEmptyScroll();\r\n\t\t}\r\n\t};\r\n\r\n\tRowManager.prototype.checkClassicModeGroupHeaderWidth = function () {\r\n\r\n\t\tvar self = this,\r\n\t\t    element = this.tableElement,\r\n\t\t    onlyGroupHeaders = true;\r\n\r\n\t\tself.getDisplayRows().forEach(function (row, index) {\r\n\r\n\t\t\tself.styleRow(row, index);\r\n\r\n\t\t\telement.appendChild(row.getElement());\r\n\r\n\t\t\trow.initialize(true);\r\n\r\n\t\t\tif (row.type !== \"group\") {\r\n\r\n\t\t\t\tonlyGroupHeaders = false;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (onlyGroupHeaders) {\r\n\r\n\t\t\telement.style.minWidth = self.table.columnManager.getWidth() + \"px\";\r\n\t\t} else {\r\n\r\n\t\t\telement.style.minWidth = \"\";\r\n\t\t}\r\n\t};\r\n\r\n\t//show scrollbars on empty table div\r\n\r\n\tRowManager.prototype.renderEmptyScroll = function () {\r\n\r\n\t\tif (this.table.options.placeholder) {\r\n\r\n\t\t\tthis.tableElement.style.display = \"none\";\r\n\t\t} else {\r\n\r\n\t\t\tthis.tableElement.style.minWidth = this.table.columnManager.getWidth() + \"px\";\r\n\r\n\t\t\t// this.tableElement.style.minHeight = \"1px\";\r\n\r\n\t\t\t// this.tableElement.style.visibility = \"hidden\";\r\n\t\t}\r\n\t};\r\n\r\n\tRowManager.prototype._clearVirtualDom = function () {\r\n\r\n\t\tvar element = this.tableElement;\r\n\r\n\t\tif (this.table.options.placeholder && this.table.options.placeholder.parentNode) {\r\n\r\n\t\t\tthis.table.options.placeholder.parentNode.removeChild(this.table.options.placeholder);\r\n\t\t}\r\n\r\n\t\t// element.children.detach();\r\n\r\n\t\twhile (element.firstChild) {\r\n\t\t\telement.removeChild(element.firstChild);\r\n\t\t}element.style.paddingTop = \"\";\r\n\r\n\t\telement.style.paddingBottom = \"\";\r\n\r\n\t\telement.style.minWidth = \"\";\r\n\r\n\t\telement.style.minHeight = \"\";\r\n\r\n\t\telement.style.display = \"\";\r\n\r\n\t\telement.style.visibility = \"\";\r\n\r\n\t\tthis.scrollTop = 0;\r\n\r\n\t\tthis.scrollLeft = 0;\r\n\r\n\t\tthis.vDomTop = 0;\r\n\r\n\t\tthis.vDomBottom = 0;\r\n\r\n\t\tthis.vDomTopPad = 0;\r\n\r\n\t\tthis.vDomBottomPad = 0;\r\n\t};\r\n\r\n\tRowManager.prototype.styleRow = function (row, index) {\r\n\r\n\t\tvar rowEl = row.getElement();\r\n\r\n\t\tif (index % 2) {\r\n\r\n\t\t\trowEl.classList.add(\"tabulator-row-even\");\r\n\r\n\t\t\trowEl.classList.remove(\"tabulator-row-odd\");\r\n\t\t} else {\r\n\r\n\t\t\trowEl.classList.add(\"tabulator-row-odd\");\r\n\r\n\t\t\trowEl.classList.remove(\"tabulator-row-even\");\r\n\t\t}\r\n\t};\r\n\r\n\t//full virtual render\r\n\r\n\tRowManager.prototype._virtualRenderFill = function (position, forceMove, offset) {\r\n\r\n\t\tvar self = this,\r\n\t\t    element = self.tableElement,\r\n\t\t    holder = self.element,\r\n\t\t    topPad = 0,\r\n\t\t    rowsHeight = 0,\r\n\t\t    topPadHeight = 0,\r\n\t\t    i = 0,\r\n\t\t    onlyGroupHeaders = true,\r\n\t\t    rows = self.getDisplayRows();\r\n\r\n\t\tposition = position || 0;\r\n\r\n\t\toffset = offset || 0;\r\n\r\n\t\tif (!position) {\r\n\r\n\t\t\tself._clearVirtualDom();\r\n\t\t} else {\r\n\r\n\t\t\twhile (element.firstChild) {\r\n\t\t\t\telement.removeChild(element.firstChild);\r\n\t\t\t} //check if position is too close to bottom of table\r\n\r\n\t\t\tvar heightOccupied = (self.displayRowsCount - position + 1) * self.vDomRowHeight;\r\n\r\n\t\t\tif (heightOccupied < self.height) {\r\n\r\n\t\t\t\tposition -= Math.ceil((self.height - heightOccupied) / self.vDomRowHeight);\r\n\r\n\t\t\t\tif (position < 0) {\r\n\r\n\t\t\t\t\tposition = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//calculate initial pad\r\n\r\n\t\t\ttopPad = Math.min(Math.max(Math.floor(self.vDomWindowBuffer / self.vDomRowHeight), self.vDomWindowMinMarginRows), position);\r\n\r\n\t\t\tposition -= topPad;\r\n\t\t}\r\n\r\n\t\tif (self.displayRowsCount && Tabulator.prototype.helpers.elVisible(self.element)) {\r\n\r\n\t\t\tself.vDomTop = position;\r\n\r\n\t\t\tself.vDomBottom = position - 1;\r\n\r\n\t\t\twhile ((rowsHeight <= self.height + self.vDomWindowBuffer || i < self.vDomWindowMinTotalRows) && self.vDomBottom < self.displayRowsCount - 1) {\r\n\r\n\t\t\t\tvar index = self.vDomBottom + 1,\r\n\t\t\t\t    row = rows[index],\r\n\t\t\t\t    rowHeight = 0;\r\n\r\n\t\t\t\tself.styleRow(row, index);\r\n\r\n\t\t\t\telement.appendChild(row.getElement());\r\n\r\n\t\t\t\trow.initialize();\r\n\r\n\t\t\t\tif (!row.heightInitialized) {\r\n\r\n\t\t\t\t\trow.normalizeHeight(true);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// if(!row.initialized){\r\n\r\n\t\t\t\t// \trow.initialize(true);\r\n\r\n\t\t\t\t// }else{\r\n\r\n\t\t\t\t// \tif(!row.heightInitialized){\r\n\r\n\t\t\t\t// \t\trow.normalizeHeight(true);\r\n\r\n\t\t\t\t// \t}\r\n\r\n\t\t\t\t// }\r\n\r\n\r\n\t\t\t\trowHeight = row.getHeight();\r\n\r\n\t\t\t\tif (i < topPad) {\r\n\r\n\t\t\t\t\ttopPadHeight += rowHeight;\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\trowsHeight += rowHeight;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (rowHeight > this.vDomWindowBuffer) {\r\n\r\n\t\t\t\t\tthis.vDomWindowBuffer = rowHeight * 2;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (row.type !== \"group\") {\r\n\r\n\t\t\t\t\tonlyGroupHeaders = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tself.vDomBottom++;\r\n\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\r\n\t\t\tif (!position) {\r\n\r\n\t\t\t\tthis.vDomTopPad = 0;\r\n\r\n\t\t\t\t//adjust rowheight to match average of rendered elements\r\n\r\n\t\t\t\tself.vDomRowHeight = Math.floor((rowsHeight + topPadHeight) / i);\r\n\r\n\t\t\t\tself.vDomBottomPad = self.vDomRowHeight * (self.displayRowsCount - self.vDomBottom - 1);\r\n\r\n\t\t\t\tself.vDomScrollHeight = topPadHeight + rowsHeight + self.vDomBottomPad - self.height;\r\n\t\t\t} else {\r\n\r\n\t\t\t\tself.vDomTopPad = !forceMove ? self.scrollTop - topPadHeight : self.vDomRowHeight * this.vDomTop + offset;\r\n\r\n\t\t\t\tself.vDomBottomPad = self.vDomBottom == self.displayRowsCount - 1 ? 0 : Math.max(self.vDomScrollHeight - self.vDomTopPad - rowsHeight - topPadHeight, 0);\r\n\t\t\t}\r\n\r\n\t\t\telement.style.paddingTop = self.vDomTopPad + \"px\";\r\n\r\n\t\t\telement.style.paddingBottom = self.vDomBottomPad + \"px\";\r\n\r\n\t\t\tif (forceMove) {\r\n\r\n\t\t\t\tthis.scrollTop = self.vDomTopPad + topPadHeight + offset - (this.element.scrollWidth > this.element.clientWidth ? this.element.offsetHeight - this.element.clientHeight : 0);\r\n\t\t\t}\r\n\r\n\t\t\tthis.scrollTop = Math.min(this.scrollTop, this.element.scrollHeight - this.height);\r\n\r\n\t\t\t//adjust for horizontal scrollbar if present (and not at top of table)\r\n\r\n\t\t\tif (this.element.scrollWidth > this.element.offsetWidth && forceMove) {\r\n\r\n\t\t\t\tthis.scrollTop += this.element.offsetHeight - this.element.clientHeight;\r\n\t\t\t}\r\n\r\n\t\t\tthis.vDomScrollPosTop = this.scrollTop;\r\n\r\n\t\t\tthis.vDomScrollPosBottom = this.scrollTop;\r\n\r\n\t\t\tholder.scrollTop = this.scrollTop;\r\n\r\n\t\t\telement.style.minWidth = onlyGroupHeaders ? self.table.columnManager.getWidth() + \"px\" : \"\";\r\n\r\n\t\t\tif (self.table.options.groupBy) {\r\n\r\n\t\t\t\tif (self.table.modules.layout.getMode() != \"fitDataFill\" && self.displayRowsCount == self.table.modules.groupRows.countGroups()) {\r\n\r\n\t\t\t\t\tself.tableElement.style.minWidth = self.table.columnManager.getWidth();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\r\n\t\t\tthis.renderEmptyScroll();\r\n\t\t}\r\n\r\n\t\tif (!this.fixedHeight) {\r\n\r\n\t\t\tthis.adjustTableSize();\r\n\t\t}\r\n\t};\r\n\r\n\t//handle vertical scrolling\r\n\r\n\tRowManager.prototype.scrollVertical = function (dir) {\r\n\r\n\t\tvar topDiff = this.scrollTop - this.vDomScrollPosTop;\r\n\r\n\t\tvar bottomDiff = this.scrollTop - this.vDomScrollPosBottom;\r\n\r\n\t\tvar margin = this.vDomWindowBuffer * 2;\r\n\r\n\t\tif (-topDiff > margin || bottomDiff > margin) {\r\n\r\n\t\t\t//if big scroll redraw table;\r\n\r\n\t\t\tvar left = this.scrollLeft;\r\n\r\n\t\t\tthis._virtualRenderFill(Math.floor(this.element.scrollTop / this.element.scrollHeight * this.displayRowsCount));\r\n\r\n\t\t\tthis.scrollHorizontal(left);\r\n\t\t} else {\r\n\r\n\t\t\tif (dir) {\r\n\r\n\t\t\t\t//scrolling up\r\n\r\n\t\t\t\tif (topDiff < 0) {\r\n\r\n\t\t\t\t\tthis._addTopRow(-topDiff);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (bottomDiff < 0) {\r\n\r\n\t\t\t\t\t//hide bottom row if needed\r\n\r\n\t\t\t\t\tif (this.vDomScrollHeight - this.scrollTop > this.vDomWindowBuffer) {\r\n\r\n\t\t\t\t\t\tthis._removeBottomRow(-bottomDiff);\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tthis.vDomScrollPosBottom = this.scrollTop;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\t//scrolling down\r\n\r\n\t\t\t\tif (topDiff >= 0) {\r\n\r\n\t\t\t\t\t//hide top row if needed\r\n\r\n\t\t\t\t\tif (this.scrollTop > this.vDomWindowBuffer) {\r\n\r\n\t\t\t\t\t\tthis._removeTopRow(topDiff);\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tthis.vDomScrollPosTop = this.scrollTop;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (bottomDiff >= 0) {\r\n\r\n\t\t\t\t\tthis._addBottomRow(bottomDiff);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tRowManager.prototype._addTopRow = function (topDiff) {\r\n\t\tvar i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\r\n\r\n\r\n\t\tvar table = this.tableElement,\r\n\t\t    rows = this.getDisplayRows();\r\n\r\n\t\tif (this.vDomTop) {\r\n\r\n\t\t\tvar index = this.vDomTop - 1,\r\n\t\t\t    topRow = rows[index],\r\n\t\t\t    topRowHeight = topRow.getHeight() || this.vDomRowHeight;\r\n\r\n\t\t\t//hide top row if needed\r\n\r\n\t\t\tif (topDiff >= topRowHeight) {\r\n\r\n\t\t\t\tthis.styleRow(topRow, index);\r\n\r\n\t\t\t\ttable.insertBefore(topRow.getElement(), table.firstChild);\r\n\r\n\t\t\t\tif (!topRow.initialized || !topRow.heightInitialized) {\r\n\r\n\t\t\t\t\tthis.vDomTopNewRows.push(topRow);\r\n\r\n\t\t\t\t\tif (!topRow.heightInitialized) {\r\n\r\n\t\t\t\t\t\ttopRow.clearCellHeight();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttopRow.initialize();\r\n\r\n\t\t\t\tthis.vDomTopPad -= topRowHeight;\r\n\r\n\t\t\t\tif (this.vDomTopPad < 0) {\r\n\r\n\t\t\t\t\tthis.vDomTopPad = index * this.vDomRowHeight;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!index) {\r\n\r\n\t\t\t\t\tthis.vDomTopPad = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttable.style.paddingTop = this.vDomTopPad + \"px\";\r\n\r\n\t\t\t\tthis.vDomScrollPosTop -= topRowHeight;\r\n\r\n\t\t\t\tthis.vDomTop--;\r\n\t\t\t}\r\n\r\n\t\t\ttopDiff = -(this.scrollTop - this.vDomScrollPosTop);\r\n\r\n\t\t\tif (topRow.getHeight() > this.vDomWindowBuffer) {\r\n\r\n\t\t\t\tthis.vDomWindowBuffer = topRow.getHeight() * 2;\r\n\t\t\t}\r\n\r\n\t\t\tif (i < this.vDomMaxRenderChain && this.vDomTop && topDiff >= (rows[this.vDomTop - 1].getHeight() || this.vDomRowHeight)) {\r\n\r\n\t\t\t\tthis._addTopRow(topDiff, i + 1);\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis._quickNormalizeRowHeight(this.vDomTopNewRows);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tRowManager.prototype._removeTopRow = function (topDiff) {\r\n\r\n\t\tvar table = this.tableElement,\r\n\t\t    topRow = this.getDisplayRows()[this.vDomTop],\r\n\t\t    topRowHeight = topRow.getHeight() || this.vDomRowHeight;\r\n\r\n\t\tif (topDiff >= topRowHeight) {\r\n\r\n\t\t\tvar rowEl = topRow.getElement();\r\n\r\n\t\t\trowEl.parentNode.removeChild(rowEl);\r\n\r\n\t\t\tthis.vDomTopPad += topRowHeight;\r\n\r\n\t\t\ttable.style.paddingTop = this.vDomTopPad + \"px\";\r\n\r\n\t\t\tthis.vDomScrollPosTop += this.vDomTop ? topRowHeight : topRowHeight + this.vDomWindowBuffer;\r\n\r\n\t\t\tthis.vDomTop++;\r\n\r\n\t\t\ttopDiff = this.scrollTop - this.vDomScrollPosTop;\r\n\r\n\t\t\tthis._removeTopRow(topDiff);\r\n\t\t}\r\n\t};\r\n\r\n\tRowManager.prototype._addBottomRow = function (bottomDiff) {\r\n\t\tvar i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\r\n\r\n\r\n\t\tvar table = this.tableElement,\r\n\t\t    rows = this.getDisplayRows();\r\n\r\n\t\tif (this.vDomBottom < this.displayRowsCount - 1) {\r\n\r\n\t\t\tvar index = this.vDomBottom + 1,\r\n\t\t\t    bottomRow = rows[index],\r\n\t\t\t    bottomRowHeight = bottomRow.getHeight() || this.vDomRowHeight;\r\n\r\n\t\t\t//hide bottom row if needed\r\n\r\n\t\t\tif (bottomDiff >= bottomRowHeight) {\r\n\r\n\t\t\t\tthis.styleRow(bottomRow, index);\r\n\r\n\t\t\t\ttable.appendChild(bottomRow.getElement());\r\n\r\n\t\t\t\tif (!bottomRow.initialized || !bottomRow.heightInitialized) {\r\n\r\n\t\t\t\t\tthis.vDomBottomNewRows.push(bottomRow);\r\n\r\n\t\t\t\t\tif (!bottomRow.heightInitialized) {\r\n\r\n\t\t\t\t\t\tbottomRow.clearCellHeight();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbottomRow.initialize();\r\n\r\n\t\t\t\tthis.vDomBottomPad -= bottomRowHeight;\r\n\r\n\t\t\t\tif (this.vDomBottomPad < 0 || index == this.displayRowsCount - 1) {\r\n\r\n\t\t\t\t\tthis.vDomBottomPad = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttable.style.paddingBottom = this.vDomBottomPad + \"px\";\r\n\r\n\t\t\t\tthis.vDomScrollPosBottom += bottomRowHeight;\r\n\r\n\t\t\t\tthis.vDomBottom++;\r\n\t\t\t}\r\n\r\n\t\t\tbottomDiff = this.scrollTop - this.vDomScrollPosBottom;\r\n\r\n\t\t\tif (bottomRow.getHeight() > this.vDomWindowBuffer) {\r\n\r\n\t\t\t\tthis.vDomWindowBuffer = bottomRow.getHeight() * 2;\r\n\t\t\t}\r\n\r\n\t\t\tif (i < this.vDomMaxRenderChain && this.vDomBottom < this.displayRowsCount - 1 && bottomDiff >= (rows[this.vDomBottom + 1].getHeight() || this.vDomRowHeight)) {\r\n\r\n\t\t\t\tthis._addBottomRow(bottomDiff, i + 1);\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis._quickNormalizeRowHeight(this.vDomBottomNewRows);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tRowManager.prototype._removeBottomRow = function (bottomDiff) {\r\n\r\n\t\tvar table = this.tableElement,\r\n\t\t    bottomRow = this.getDisplayRows()[this.vDomBottom],\r\n\t\t    bottomRowHeight = bottomRow.getHeight() || this.vDomRowHeight;\r\n\r\n\t\tif (bottomDiff >= bottomRowHeight) {\r\n\r\n\t\t\tvar rowEl = bottomRow.getElement();\r\n\r\n\t\t\tif (rowEl.parentNode) {\r\n\r\n\t\t\t\trowEl.parentNode.removeChild(rowEl);\r\n\t\t\t}\r\n\r\n\t\t\tthis.vDomBottomPad += bottomRowHeight;\r\n\r\n\t\t\tif (this.vDomBottomPad < 0) {\r\n\r\n\t\t\t\tthis.vDomBottomPad = 0;\r\n\t\t\t}\r\n\r\n\t\t\ttable.style.paddingBottom = this.vDomBottomPad + \"px\";\r\n\r\n\t\t\tthis.vDomScrollPosBottom -= bottomRowHeight;\r\n\r\n\t\t\tthis.vDomBottom--;\r\n\r\n\t\t\tbottomDiff = -(this.scrollTop - this.vDomScrollPosBottom);\r\n\r\n\t\t\tthis._removeBottomRow(bottomDiff);\r\n\t\t}\r\n\t};\r\n\r\n\tRowManager.prototype._quickNormalizeRowHeight = function (rows) {\r\n\r\n\t\trows.forEach(function (row) {\r\n\r\n\t\t\trow.calcHeight();\r\n\t\t});\r\n\r\n\t\trows.forEach(function (row) {\r\n\r\n\t\t\trow.setCellHeight();\r\n\t\t});\r\n\r\n\t\trows.length = 0;\r\n\t};\r\n\r\n\t//normalize height of active rows\r\n\r\n\tRowManager.prototype.normalizeHeight = function () {\r\n\r\n\t\tthis.activeRows.forEach(function (row) {\r\n\r\n\t\t\trow.normalizeHeight();\r\n\t\t});\r\n\t};\r\n\r\n\t//adjust the height of the table holder to fit in the Tabulator element\r\n\r\n\tRowManager.prototype.adjustTableSize = function () {\r\n\r\n\t\tvar initialHeight = this.element.clientHeight,\r\n\t\t    modExists;\r\n\r\n\t\tif (this.renderMode === \"virtual\") {\r\n\r\n\t\t\tvar otherHeight = Math.floor(this.columnManager.getElement().getBoundingClientRect().height + (this.table.footerManager && this.table.footerManager.active && !this.table.footerManager.external ? this.table.footerManager.getElement().getBoundingClientRect().height : 0));\r\n\r\n\t\t\tif (this.fixedHeight) {\r\n\r\n\t\t\t\tthis.element.style.minHeight = \"calc(100% - \" + otherHeight + \"px)\";\r\n\r\n\t\t\t\tthis.element.style.height = \"calc(100% - \" + otherHeight + \"px)\";\r\n\r\n\t\t\t\tthis.element.style.maxHeight = \"calc(100% - \" + otherHeight + \"px)\";\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.element.style.height = \"\";\r\n\r\n\t\t\t\tthis.element.style.height = this.table.element.clientHeight - otherHeight + \"px\";\r\n\r\n\t\t\t\tthis.element.scrollTop = this.scrollTop;\r\n\t\t\t}\r\n\r\n\t\t\tthis.height = this.element.clientHeight;\r\n\r\n\t\t\tthis.vDomWindowBuffer = this.table.options.virtualDomBuffer || this.height;\r\n\r\n\t\t\t//check if the table has changed size when dealing with variable height tables\r\n\r\n\t\t\tif (!this.fixedHeight && initialHeight != this.element.clientHeight) {\r\n\r\n\t\t\t\tmodExists = this.table.modExists(\"resizeTable\");\r\n\r\n\t\t\t\tif (modExists && !this.table.modules.resizeTable.autoResize || !modExists) {\r\n\r\n\t\t\t\t\tthis.redraw();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//renitialize all rows\r\n\r\n\tRowManager.prototype.reinitialize = function () {\r\n\r\n\t\tthis.rows.forEach(function (row) {\r\n\r\n\t\t\trow.reinitialize(true);\r\n\t\t});\r\n\t};\r\n\r\n\t//prevent table from being redrawn\r\n\r\n\tRowManager.prototype.blockRedraw = function () {\r\n\r\n\t\tthis.redrawBlock = true;\r\n\r\n\t\tthis.redrawBlockRestoreConfig = false;\r\n\t};\r\n\r\n\t//restore table redrawing\r\n\r\n\tRowManager.prototype.restoreRedraw = function () {\r\n\r\n\t\tthis.redrawBlock = false;\r\n\r\n\t\tif (this.redrawBlockRestoreConfig) {\r\n\r\n\t\t\tthis.refreshActiveData(this.redrawBlockRestoreConfig.stage, this.redrawBlockRestoreConfig.skipStage, this.redrawBlockRestoreConfig.renderInPosition);\r\n\r\n\t\t\tthis.redrawBlockRestoreConfig = false;\r\n\t\t} else {\r\n\r\n\t\t\tif (this.redrawBlockRederInPosition) {\r\n\r\n\t\t\t\tthis.reRenderInPosition();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.redrawBlockRederInPosition = false;\r\n\t};\r\n\r\n\t//redraw table\r\n\r\n\tRowManager.prototype.redraw = function (force) {\r\n\r\n\t\tvar pos = 0,\r\n\t\t    left = this.scrollLeft;\r\n\r\n\t\tthis.adjustTableSize();\r\n\r\n\t\tthis.table.tableWidth = this.table.element.clientWidth;\r\n\r\n\t\tif (!force) {\r\n\r\n\t\t\tif (this.renderMode == \"classic\") {\r\n\r\n\t\t\t\tif (this.table.options.groupBy) {\r\n\r\n\t\t\t\t\tthis.refreshActiveData(\"group\", false, false);\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis._simpleRender();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.reRenderInPosition();\r\n\r\n\t\t\t\tthis.scrollHorizontal(left);\r\n\t\t\t}\r\n\r\n\t\t\tif (!this.displayRowsCount) {\r\n\r\n\t\t\t\tif (this.table.options.placeholder) {\r\n\r\n\t\t\t\t\tthis.getElement().appendChild(this.table.options.placeholder);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\r\n\t\t\tthis.renderTable();\r\n\t\t}\r\n\t};\r\n\r\n\tRowManager.prototype.resetScroll = function () {\r\n\r\n\t\tthis.element.scrollLeft = 0;\r\n\r\n\t\tthis.element.scrollTop = 0;\r\n\r\n\t\tif (this.table.browser === \"ie\") {\r\n\r\n\t\t\tvar event = document.createEvent(\"Event\");\r\n\r\n\t\t\tevent.initEvent(\"scroll\", false, true);\r\n\r\n\t\t\tthis.element.dispatchEvent(event);\r\n\t\t} else {\r\n\r\n\t\t\tthis.element.dispatchEvent(new Event('scroll'));\r\n\t\t}\r\n\t};\r\n\r\n\tvar VDomHoz = function VDomHoz(table) {\r\n\r\n\t\tthis.table = table;\r\n\r\n\t\tthis.element = this.table.rowManager.tableElement;\r\n\r\n\t\tthis.holderEl = this.table.rowManager.element;\r\n\r\n\t\tthis.leftCol = 0;\r\n\r\n\t\tthis.rightCol = 0;\r\n\r\n\t\tthis.scrollLeft = 0;\r\n\r\n\t\tthis.vDomScrollPosLeft = 0;\r\n\r\n\t\tthis.vDomScrollPosRight = 0;\r\n\r\n\t\tthis.vDomPadLeft = 0;\r\n\r\n\t\tthis.vDomPadRight = 0;\r\n\r\n\t\tthis.fitDataColAvg = 0;\r\n\r\n\t\tthis.window = 200; //pixel margin to make column visible before it is shown on screen\r\n\r\n\r\n\t\tthis.initialized = false;\r\n\r\n\t\tthis.columns = [];\r\n\r\n\t\tif (this.compatabilityCheck()) {\r\n\r\n\t\t\tthis.initialize();\r\n\t\t}\r\n\t};\r\n\r\n\tVDomHoz.prototype.compatabilityCheck = function () {\r\n\r\n\t\tvar options = this.table.options,\r\n\t\t    frozen = false,\r\n\t\t    ok = true;\r\n\r\n\t\tif (options.layout == \"fitDataTable\") {\r\n\r\n\t\t\tconsole.warn(\"Horizontal Vitrual DOM is not compatible with fitDataTable layout mode\");\r\n\r\n\t\t\tok = false;\r\n\t\t}\r\n\r\n\t\tif (options.responsiveLayout) {\r\n\r\n\t\t\tconsole.warn(\"Horizontal Vitrual DOM is not compatible with responsive columns\");\r\n\r\n\t\t\tok = false;\r\n\t\t}\r\n\r\n\t\tif (this.table.rtl) {\r\n\r\n\t\t\tconsole.warn(\"Horizontal Vitrual DOM is not currently compatible with RTL text direction\");\r\n\r\n\t\t\tok = false;\r\n\t\t}\r\n\r\n\t\t// if(options.rowFormatter){\r\n\r\n\t\t// \tconsole.warn(\"Horizontal Vitrual DOM is not compatible with row formatters\");\r\n\r\n\t\t// \tok = false;\r\n\r\n\t\t// }\r\n\r\n\r\n\t\tif (options.columns) {\r\n\r\n\t\t\tfrozen = options.columns.find(function (col) {\r\n\r\n\t\t\t\treturn col.frozen;\r\n\t\t\t});\r\n\r\n\t\t\tif (frozen) {\r\n\r\n\t\t\t\tconsole.warn(\"Horizontal Vitrual DOM is not compatible with frozen columns\");\r\n\r\n\t\t\t\tok = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!ok) {\r\n\r\n\t\t\toptions.virtualDomHoz = false;\r\n\t\t}\r\n\r\n\t\treturn ok;\r\n\t};\r\n\r\n\tVDomHoz.prototype.initialize = function () {\r\n\t\tvar _this17 = this;\r\n\r\n\t\tthis.holderEl.addEventListener(\"scroll\", function () {\r\n\r\n\t\t\tvar left = _this17.holderEl.scrollLeft;\r\n\r\n\t\t\tif (_this17.scrollLeft != left) {\r\n\r\n\t\t\t\t_this17.scrollLeft = left;\r\n\r\n\t\t\t\t_this17.scroll(left - (_this17.vDomScrollPosLeft + _this17.window));\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tVDomHoz.prototype.deinitialize = function () {\r\n\r\n\t\tthis.initialized = false;\r\n\t};\r\n\r\n\tVDomHoz.prototype.clear = function () {\r\n\r\n\t\tthis.columns = [];\r\n\r\n\t\tthis.leftCol = -1;\r\n\r\n\t\tthis.rightCol = 0;\r\n\r\n\t\tthis.vDomScrollPosLeft = 0;\r\n\r\n\t\tthis.vDomScrollPosRight = 0;\r\n\r\n\t\tthis.vDomPadLeft = 0;\r\n\r\n\t\tthis.vDomPadRight = 0;\r\n\t};\r\n\r\n\tVDomHoz.prototype.dataChange = function () {\r\n\r\n\t\tvar change = false,\r\n\t\t    collsWidth = 0,\r\n\t\t    colEnd = 0,\r\n\t\t    group,\r\n\t\t    row,\r\n\t\t    rowEl;\r\n\r\n\t\tif (this.table.options.layout === \"fitData\") {\r\n\r\n\t\t\tthis.table.columnManager.columnsByIndex.forEach(function (column) {\r\n\r\n\t\t\t\tif (!column.definition.width && column.visible) {\r\n\r\n\t\t\t\t\tchange = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (change) {\r\n\r\n\t\t\t\tif (change && this.table.rowManager.getDisplayRows().length) {\r\n\r\n\t\t\t\t\t// this.table.vdomHoz.deinitialize();\r\n\r\n\r\n\t\t\t\t\tthis.vDomScrollPosRight = this.scrollLeft + this.holderEl.clientWidth + this.window;\r\n\r\n\t\t\t\t\tif (this.table.options.groupBy) {\r\n\r\n\t\t\t\t\t\tgroup = this.table.modules.groupRows.getGroups(false)[0];\r\n\r\n\t\t\t\t\t\trow = group.getRows(false)[0];\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\trow = this.table.rowManager.getDisplayRows()[0];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (row) {\r\n\r\n\t\t\t\t\t\trowEl = row.getElement();\r\n\r\n\t\t\t\t\t\trow.generateCells();\r\n\r\n\t\t\t\t\t\tthis.element.appendChild(rowEl);\r\n\r\n\t\t\t\t\t\tfor (var colEnd = 0; colEnd < row.cells.length; colEnd++) {\r\n\r\n\t\t\t\t\t\t\tvar cell = row.cells[colEnd];\r\n\r\n\t\t\t\t\t\t\trowEl.appendChild(cell.getElement());\r\n\r\n\t\t\t\t\t\t\tcell.column.reinitializeWidth();\r\n\r\n\t\t\t\t\t\t\tcollsWidth += cell.column.getWidth();\r\n\r\n\t\t\t\t\t\t\tif (collsWidth > this.vDomScrollPosRight) {\r\n\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\trowEl.parentNode.removeChild(rowEl);\r\n\r\n\t\t\t\t\t\tthis.fitDataColAvg = Math.floor(collsWidth / (colEnd + 1));\r\n\r\n\t\t\t\t\t\tfor (colEnd; colEnd < this.table.columnManager.columnsByIndex.length; colEnd++) {\r\n\r\n\t\t\t\t\t\t\tthis.table.columnManager.columnsByIndex[colEnd].setWidth(this.fitDataColAvg);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.reinitialize(false, true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\r\n\t\t\tif (this.table.options.layout === \"fitColumns\") {\r\n\r\n\t\t\t\tthis.table.modules.layout.layout();\r\n\r\n\t\t\t\tthis.table.vdomHoz.reinitialize(false, true);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tVDomHoz.prototype.fitDataLayoutOverride = function () {\r\n\r\n\t\tfor (var _i5 = this.leftCol; _i5 <= this.rightCol; _i5++) {\r\n\r\n\t\t\tthis.columns[_i5].reinitializeWidth();\r\n\t\t}\r\n\t};\r\n\r\n\tVDomHoz.prototype.reinitialize = function (update, blockRedraw) {\r\n\t\tvar _this18 = this;\r\n\r\n\t\tvar old = {\r\n\r\n\t\t\tcols: this.columns,\r\n\r\n\t\t\tleftCol: this.leftCol,\r\n\r\n\t\t\trightCol: this.rightCol\r\n\r\n\t\t};\r\n\r\n\t\tif (update && !this.initialized) {\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.clear();\r\n\r\n\t\tthis.scrollLeft = this.holderEl.scrollLeft;\r\n\r\n\t\tthis.vDomScrollPosLeft = this.scrollLeft - this.window;\r\n\r\n\t\tthis.vDomScrollPosRight = this.scrollLeft + this.holderEl.clientWidth + this.window;\r\n\r\n\t\tvar colPos = 0;\r\n\r\n\t\tthis.table.columnManager.columnsByIndex.forEach(function (column) {\r\n\r\n\t\t\tvar config = {};\r\n\r\n\t\t\tif (column.visible) {\r\n\r\n\t\t\t\tvar width = column.getWidth();\r\n\r\n\t\t\t\tconfig.leftPos = colPos;\r\n\r\n\t\t\t\tconfig.rightPos = colPos + width;\r\n\r\n\t\t\t\tif (colPos + width > _this18.vDomScrollPosLeft && colPos < _this18.vDomScrollPosRight) {\r\n\r\n\t\t\t\t\t//column is visible\r\n\r\n\r\n\t\t\t\t\tif (_this18.leftCol == -1) {\r\n\r\n\t\t\t\t\t\t_this18.leftCol = _this18.columns.length;\r\n\r\n\t\t\t\t\t\t_this18.vDomPadLeft = colPos;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t_this18.rightCol = _this18.columns.length;\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// column is hidden\r\n\r\n\t\t\t\t\tif (_this18.leftCol !== -1) {\r\n\r\n\t\t\t\t\t\t_this18.vDomPadRight += width;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_this18.columns.push(column);\r\n\r\n\t\t\t\tcolumn.modules.vdomHoz = config;\r\n\r\n\t\t\t\tcolPos += width;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.element.style.paddingLeft = this.vDomPadLeft + \"px\";\r\n\r\n\t\tthis.element.style.paddingRight = this.vDomPadRight + \"px\";\r\n\r\n\t\tthis.initialized = true;\r\n\r\n\t\tif (!blockRedraw) {\r\n\r\n\t\t\tif (!update || this.reinitChanged(old)) {\r\n\r\n\t\t\t\tthis.renitializeRows();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.holderEl.scrollLeft = this.scrollLeft;\r\n\t};\r\n\r\n\tVDomHoz.prototype.reinitChanged = function (old) {\r\n\t\tvar _this19 = this;\r\n\r\n\t\tvar match = true;\r\n\r\n\t\tif (old.cols.length !== this.columns.length || old.leftCol !== this.leftCol || old.rightCol !== this.rightCol) {\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\told.cols.forEach(function (col, i) {\r\n\r\n\t\t\tif (col !== _this19.columns[i]) {\r\n\r\n\t\t\t\tmatch = false;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn !match;\r\n\t};\r\n\r\n\tVDomHoz.prototype.renitializeRows = function () {\r\n\t\tvar _this20 = this;\r\n\r\n\t\tvar rows = this.table.rowManager.getVisibleRows();\r\n\r\n\t\trows.forEach(function (row) {\r\n\r\n\t\t\t_this20.reinitializeRow(row, true);\r\n\t\t});\r\n\t};\r\n\r\n\tVDomHoz.prototype.scroll = function (diff) {\r\n\r\n\t\tthis.vDomScrollPosLeft += diff;\r\n\r\n\t\tthis.vDomScrollPosRight += diff;\r\n\r\n\t\tif (diff > this.holderEl.clientWidth * .8) {\r\n\r\n\t\t\tthis.reinitialize();\r\n\t\t} else {\r\n\r\n\t\t\tif (diff > 0) {\r\n\r\n\t\t\t\t//scroll right\r\n\r\n\t\t\t\tthis.addColRight();\r\n\r\n\t\t\t\tthis.removeColLeft();\r\n\t\t\t} else {\r\n\r\n\t\t\t\t//scroll left\r\n\r\n\t\t\t\tthis.addColLeft();\r\n\r\n\t\t\t\tthis.removeColRight();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tVDomHoz.prototype.colPositionAdjust = function (start, end, diff) {\r\n\r\n\t\tfor (var _i6 = start; _i6 < end; _i6++) {\r\n\r\n\t\t\tvar column = this.columns[_i6];\r\n\r\n\t\t\tcolumn.modules.vdomHoz.leftPos -= diff;\r\n\r\n\t\t\tcolumn.modules.vdomHoz.rightPos -= diff;\r\n\t\t}\r\n\t};\r\n\r\n\tVDomHoz.prototype.addColRight = function () {\r\n\r\n\t\tvar column = this.columns[this.rightCol + 1],\r\n\t\t    rows,\r\n\t\t    oldWidth,\r\n\t\t    widthDiff;\r\n\r\n\t\tif (column && column.modules.vdomHoz.leftPos <= this.vDomScrollPosRight) {\r\n\r\n\t\t\trows = this.table.rowManager.getVisibleRows();\r\n\r\n\t\t\trows.forEach(function (row) {\r\n\r\n\t\t\t\tif (row.type !== \"group\") {\r\n\r\n\t\t\t\t\tvar cell = row.getCell(column);\r\n\r\n\t\t\t\t\trow.getElement().appendChild(cell.getElement());\r\n\r\n\t\t\t\t\tcell.cellRendered();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (this.fitDataColAvg) {\r\n\r\n\t\t\t\toldWidth = column.getWidth();\r\n\r\n\t\t\t\tif (oldWidth === this.fitDataColAvg) {\r\n\r\n\t\t\t\t\tcolumn.reinitializeWidth();\r\n\r\n\t\t\t\t\twidthDiff = oldWidth - column.getWidth();\r\n\r\n\t\t\t\t\tif (widthDiff) {\r\n\r\n\t\t\t\t\t\tcolumn.modules.vdomHoz.rightPos -= widthDiff;\r\n\r\n\t\t\t\t\t\tthis.colPositionAdjust(this.rightCol + 1, this.columns.length, widthDiff);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.rightCol++;\r\n\r\n\t\t\tif (this.rightCol >= this.columns.length - 1) {\r\n\r\n\t\t\t\tthis.vDomPadRight = 0;\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.vDomPadRight -= column.getWidth();\r\n\t\t\t}\r\n\r\n\t\t\tthis.element.style.paddingRight = this.vDomPadRight + \"px\";\r\n\r\n\t\t\tthis.addColRight();\r\n\t\t}\r\n\t};\r\n\r\n\tVDomHoz.prototype.addColLeft = function () {\r\n\r\n\t\tvar column = this.columns[this.leftCol - 1],\r\n\t\t    rows;\r\n\r\n\t\tif (column && column.modules.vdomHoz.rightPos >= this.vDomScrollPosLeft) {\r\n\r\n\t\t\tvar rows = this.table.rowManager.getVisibleRows();\r\n\r\n\t\t\trows.forEach(function (row) {\r\n\r\n\t\t\t\tif (row.type !== \"group\") {\r\n\r\n\t\t\t\t\tvar cell = row.getCell(column);\r\n\r\n\t\t\t\t\trow.getElement().prepend(cell.getElement());\r\n\r\n\t\t\t\t\tcell.cellRendered();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (!this.leftCol) {\r\n\r\n\t\t\t\tthis.vDomPadLeft = 0;\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.vDomPadLeft -= column.getWidth();\r\n\t\t\t}\r\n\r\n\t\t\tthis.element.style.paddingLeft = this.vDomPadLeft + \"px\";\r\n\r\n\t\t\tthis.leftCol--;\r\n\r\n\t\t\tthis.addColLeft();\r\n\t\t}\r\n\t};\r\n\r\n\tVDomHoz.prototype.removeColRight = function (column) {\r\n\r\n\t\tvar column = this.columns[this.rightCol],\r\n\t\t    rows;\r\n\r\n\t\tif (column && column.modules.vdomHoz.leftPos > this.vDomScrollPosRight) {\r\n\r\n\t\t\trows = this.table.rowManager.getVisibleRows();\r\n\r\n\t\t\tcolumn.modules.vdomHoz.visible = false;\r\n\r\n\t\t\trows.forEach(function (row) {\r\n\r\n\t\t\t\tif (row.type !== \"group\") {\r\n\r\n\t\t\t\t\tvar cell = row.getCell(column);\r\n\r\n\t\t\t\t\trow.getElement().removeChild(cell.getElement());\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.vDomPadRight += column.getWidth();\r\n\r\n\t\t\tthis.element.style.paddingRight = this.vDomPadRight + \"px\";\r\n\r\n\t\t\tthis.rightCol--;\r\n\r\n\t\t\tthis.removeColRight();\r\n\t\t}\r\n\t};\r\n\r\n\tVDomHoz.prototype.removeColLeft = function () {\r\n\r\n\t\tvar column = this.columns[this.leftCol],\r\n\t\t    rows;\r\n\r\n\t\tif (column && column.modules.vdomHoz.rightPos < this.vDomScrollPosLeft) {\r\n\r\n\t\t\trows = this.table.rowManager.getVisibleRows();\r\n\r\n\t\t\trows.forEach(function (row) {\r\n\r\n\t\t\t\tif (row.type !== \"group\") {\r\n\r\n\t\t\t\t\tvar cell = row.getCell(column);\r\n\r\n\t\t\t\t\trow.getElement().removeChild(cell.getElement());\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.vDomPadLeft += column.getWidth();\r\n\r\n\t\t\tthis.element.style.paddingLeft = this.vDomPadLeft + \"px\";\r\n\r\n\t\t\tthis.leftCol++;\r\n\r\n\t\t\tthis.removeColLeft();\r\n\t\t}\r\n\t};\r\n\r\n\tVDomHoz.prototype.initializeRow = function (row) {\r\n\r\n\t\tif (row.type !== \"group\") {\r\n\r\n\t\t\trow.modules.vdomHoz = {\r\n\r\n\t\t\t\tleftCol: this.leftCol,\r\n\r\n\t\t\t\trightCol: this.rightCol\r\n\r\n\t\t\t};\r\n\r\n\t\t\tfor (var _i7 = this.leftCol; _i7 <= this.rightCol; _i7++) {\r\n\r\n\t\t\t\tvar column = this.columns[_i7];\r\n\r\n\t\t\t\tif (column && column.visible) {\r\n\r\n\t\t\t\t\tvar cell = row.getCell(column);\r\n\r\n\t\t\t\t\trow.getElement().appendChild(cell.getElement());\r\n\r\n\t\t\t\t\tcell.cellRendered();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tVDomHoz.prototype.reinitializeRow = function (row, force) {\r\n\r\n\t\tif (row.type !== \"group\") {\r\n\r\n\t\t\tif (force || !row.modules.vdomHoz || row.modules.vdomHoz.leftCol !== this.leftCol || row.modules.vdomHoz.rightCol !== this.rightCol) {\r\n\r\n\t\t\t\tvar rowEl = row.getElement();\r\n\r\n\t\t\t\twhile (rowEl.firstChild) {\r\n\t\t\t\t\trowEl.removeChild(rowEl.firstChild);\r\n\t\t\t\t}this.initializeRow(row);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//public row object\r\n\r\n\tvar RowComponent = function RowComponent(row) {\r\n\r\n\t\tthis._row = row;\r\n\t};\r\n\r\n\tRowComponent.prototype.getData = function (transform) {\r\n\r\n\t\treturn this._row.getData(transform);\r\n\t};\r\n\r\n\tRowComponent.prototype.getElement = function () {\r\n\r\n\t\treturn this._row.getElement();\r\n\t};\r\n\r\n\tRowComponent.prototype.getCells = function () {\r\n\r\n\t\tvar cells = [];\r\n\r\n\t\tthis._row.getCells().forEach(function (cell) {\r\n\r\n\t\t\tcells.push(cell.getComponent());\r\n\t\t});\r\n\r\n\t\treturn cells;\r\n\t};\r\n\r\n\tRowComponent.prototype.getCell = function (column) {\r\n\r\n\t\tvar cell = this._row.getCell(column);\r\n\r\n\t\treturn cell ? cell.getComponent() : false;\r\n\t};\r\n\r\n\tRowComponent.prototype.getIndex = function () {\r\n\r\n\t\treturn this._row.getData(\"data\")[this._row.table.options.index];\r\n\t};\r\n\r\n\tRowComponent.prototype.getPosition = function (active) {\r\n\r\n\t\treturn this._row.table.rowManager.getRowPosition(this._row, active);\r\n\t};\r\n\r\n\tRowComponent.prototype.delete = function () {\r\n\r\n\t\treturn this._row.delete();\r\n\t};\r\n\r\n\tRowComponent.prototype.scrollTo = function () {\r\n\r\n\t\treturn this._row.table.rowManager.scrollToRow(this._row);\r\n\t};\r\n\r\n\tRowComponent.prototype.pageTo = function () {\r\n\r\n\t\tif (this._row.table.modExists(\"page\", true)) {\r\n\r\n\t\t\treturn this._row.table.modules.page.setPageToRow(this._row);\r\n\t\t}\r\n\t};\r\n\r\n\tRowComponent.prototype.move = function (to, after) {\r\n\r\n\t\tthis._row.moveToRow(to, after);\r\n\t};\r\n\r\n\tRowComponent.prototype.update = function (data) {\r\n\r\n\t\treturn this._row.updateData(data);\r\n\t};\r\n\r\n\tRowComponent.prototype.normalizeHeight = function () {\r\n\r\n\t\tthis._row.normalizeHeight(true);\r\n\t};\r\n\r\n\tRowComponent.prototype.select = function () {\r\n\r\n\t\tthis._row.table.modules.selectRow.selectRows(this._row);\r\n\t};\r\n\r\n\tRowComponent.prototype.deselect = function () {\r\n\r\n\t\tthis._row.table.modules.selectRow.deselectRows(this._row);\r\n\t};\r\n\r\n\tRowComponent.prototype.toggleSelect = function () {\r\n\r\n\t\tthis._row.table.modules.selectRow.toggleRow(this._row);\r\n\t};\r\n\r\n\tRowComponent.prototype.isSelected = function () {\r\n\r\n\t\treturn this._row.table.modules.selectRow.isRowSelected(this._row);\r\n\t};\r\n\r\n\tRowComponent.prototype._getSelf = function () {\r\n\r\n\t\treturn this._row;\r\n\t};\r\n\r\n\tRowComponent.prototype.validate = function () {\r\n\r\n\t\treturn this._row.validate();\r\n\t};\r\n\r\n\tRowComponent.prototype.freeze = function () {\r\n\r\n\t\tif (this._row.table.modExists(\"frozenRows\", true)) {\r\n\r\n\t\t\tthis._row.table.modules.frozenRows.freezeRow(this._row);\r\n\t\t}\r\n\t};\r\n\r\n\tRowComponent.prototype.unfreeze = function () {\r\n\r\n\t\tif (this._row.table.modExists(\"frozenRows\", true)) {\r\n\r\n\t\t\tthis._row.table.modules.frozenRows.unfreezeRow(this._row);\r\n\t\t}\r\n\t};\r\n\r\n\tRowComponent.prototype.isFrozen = function () {\r\n\r\n\t\tif (this._row.table.modExists(\"frozenRows\", true)) {\r\n\r\n\t\t\tvar index = this._row.table.modules.frozenRows.rows.indexOf(this._row);\r\n\r\n\t\t\treturn index > -1;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n\tRowComponent.prototype.treeCollapse = function () {\r\n\r\n\t\tif (this._row.table.modExists(\"dataTree\", true)) {\r\n\r\n\t\t\tthis._row.table.modules.dataTree.collapseRow(this._row);\r\n\t\t}\r\n\t};\r\n\r\n\tRowComponent.prototype.treeExpand = function () {\r\n\r\n\t\tif (this._row.table.modExists(\"dataTree\", true)) {\r\n\r\n\t\t\tthis._row.table.modules.dataTree.expandRow(this._row);\r\n\t\t}\r\n\t};\r\n\r\n\tRowComponent.prototype.treeToggle = function () {\r\n\r\n\t\tif (this._row.table.modExists(\"dataTree\", true)) {\r\n\r\n\t\t\tthis._row.table.modules.dataTree.toggleRow(this._row);\r\n\t\t}\r\n\t};\r\n\r\n\tRowComponent.prototype.getTreeParent = function () {\r\n\r\n\t\tif (this._row.table.modExists(\"dataTree\", true)) {\r\n\r\n\t\t\treturn this._row.table.modules.dataTree.getTreeParent(this._row);\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n\tRowComponent.prototype.getTreeChildren = function () {\r\n\r\n\t\tif (this._row.table.modExists(\"dataTree\", true)) {\r\n\r\n\t\t\treturn this._row.table.modules.dataTree.getTreeChildren(this._row, true);\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n\tRowComponent.prototype.addTreeChild = function (data, pos, index) {\r\n\r\n\t\tif (this._row.table.modExists(\"dataTree\", true)) {\r\n\r\n\t\t\treturn this._row.table.modules.dataTree.addTreeChildRow(this._row, data, pos, index);\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n\tRowComponent.prototype.reformat = function () {\r\n\r\n\t\treturn this._row.reinitialize();\r\n\t};\r\n\r\n\tRowComponent.prototype.getGroup = function () {\r\n\r\n\t\treturn this._row.getGroup().getComponent();\r\n\t};\r\n\r\n\tRowComponent.prototype.getTable = function () {\r\n\r\n\t\treturn this._row.table;\r\n\t};\r\n\r\n\tRowComponent.prototype.getNextRow = function () {\r\n\r\n\t\tvar row = this._row.nextRow();\r\n\r\n\t\treturn row ? row.getComponent() : row;\r\n\t};\r\n\r\n\tRowComponent.prototype.getPrevRow = function () {\r\n\r\n\t\tvar row = this._row.prevRow();\r\n\r\n\t\treturn row ? row.getComponent() : row;\r\n\t};\r\n\r\n\tvar Row = function Row(data, parent) {\r\n\t\tvar type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"row\";\r\n\r\n\r\n\t\tthis.table = parent.table;\r\n\r\n\t\tthis.parent = parent;\r\n\r\n\t\tthis.data = {};\r\n\r\n\t\tthis.type = type; //type of element\r\n\r\n\t\tthis.element = false;\r\n\r\n\t\tthis.modules = {}; //hold module variables;\r\n\r\n\t\tthis.cells = [];\r\n\r\n\t\tthis.height = 0; //hold element height\r\n\r\n\t\tthis.heightStyled = \"\"; //hold element height prestyled to improve render efficiency\r\n\r\n\t\tthis.manualHeight = false; //user has manually set row height\r\n\r\n\t\tthis.outerHeight = 0; //holde lements outer height\r\n\r\n\t\tthis.initialized = false; //element has been rendered\r\n\r\n\t\tthis.heightInitialized = false; //element has resized cells to fit\r\n\r\n\r\n\t\tthis.component = null;\r\n\r\n\t\tthis.created = false;\r\n\r\n\t\tthis.setData(data);\r\n\t};\r\n\r\n\tRow.prototype.create = function () {\r\n\r\n\t\tif (!this.created) {\r\n\r\n\t\t\tthis.created = true;\r\n\r\n\t\t\tthis.generateElement();\r\n\t\t}\r\n\t};\r\n\r\n\tRow.prototype.createElement = function () {\r\n\r\n\t\tvar el = document.createElement(\"div\");\r\n\r\n\t\tel.classList.add(\"tabulator-row\");\r\n\r\n\t\tel.setAttribute(\"role\", \"row\");\r\n\r\n\t\tthis.element = el;\r\n\t};\r\n\r\n\tRow.prototype.getElement = function () {\r\n\r\n\t\tthis.create();\r\n\r\n\t\treturn this.element;\r\n\t};\r\n\r\n\tRow.prototype.detachElement = function () {\r\n\r\n\t\tif (this.element && this.element.parentNode) {\r\n\r\n\t\t\tthis.element.parentNode.removeChild(this.element);\r\n\t\t}\r\n\t};\r\n\r\n\tRow.prototype.generateElement = function () {\r\n\r\n\t\tvar self = this,\r\n\t\t    dblTap,\r\n\t\t    tapHold,\r\n\t\t    tap;\r\n\r\n\t\tthis.createElement();\r\n\r\n\t\t//set row selection characteristics\r\n\r\n\t\tif (self.table.options.selectable !== false && self.table.modExists(\"selectRow\")) {\r\n\r\n\t\t\tself.table.modules.selectRow.initializeRow(this);\r\n\t\t}\r\n\r\n\t\t//setup movable rows\r\n\r\n\t\tif (self.table.options.movableRows !== false && self.table.modExists(\"moveRow\")) {\r\n\r\n\t\t\tself.table.modules.moveRow.initializeRow(this);\r\n\t\t}\r\n\r\n\t\t//setup data tree\r\n\r\n\t\tif (self.table.options.dataTree !== false && self.table.modExists(\"dataTree\")) {\r\n\r\n\t\t\tself.table.modules.dataTree.initializeRow(this);\r\n\t\t}\r\n\r\n\t\t//setup column colapse container\r\n\r\n\t\tif (self.table.options.responsiveLayout === \"collapse\" && self.table.modExists(\"responsiveLayout\")) {\r\n\r\n\t\t\tself.table.modules.responsiveLayout.initializeRow(this);\r\n\t\t}\r\n\r\n\t\t//set column menu\r\n\r\n\t\tif ((self.table.options.rowContextMenu || self.table.options.rowClickMenu) && this.table.modExists(\"menu\")) {\r\n\r\n\t\t\tself.table.modules.menu.initializeRow(this);\r\n\t\t}\r\n\r\n\t\t//handle row click events\r\n\r\n\t\tif (self.table.options.rowClick) {\r\n\r\n\t\t\tself.element.addEventListener(\"click\", function (e) {\r\n\r\n\t\t\t\tself.table.options.rowClick(e, self.getComponent());\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (self.table.options.rowDblClick) {\r\n\r\n\t\t\tself.element.addEventListener(\"dblclick\", function (e) {\r\n\r\n\t\t\t\tself.table.options.rowDblClick(e, self.getComponent());\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (self.table.options.rowContext) {\r\n\r\n\t\t\tself.element.addEventListener(\"contextmenu\", function (e) {\r\n\r\n\t\t\t\tself.table.options.rowContext(e, self.getComponent());\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t//handle mouse events\r\n\r\n\t\tif (self.table.options.rowMouseEnter) {\r\n\r\n\t\t\tself.element.addEventListener(\"mouseenter\", function (e) {\r\n\r\n\t\t\t\tself.table.options.rowMouseEnter(e, self.getComponent());\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (self.table.options.rowMouseLeave) {\r\n\r\n\t\t\tself.element.addEventListener(\"mouseleave\", function (e) {\r\n\r\n\t\t\t\tself.table.options.rowMouseLeave(e, self.getComponent());\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (self.table.options.rowMouseOver) {\r\n\r\n\t\t\tself.element.addEventListener(\"mouseover\", function (e) {\r\n\r\n\t\t\t\tself.table.options.rowMouseOver(e, self.getComponent());\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (self.table.options.rowMouseOut) {\r\n\r\n\t\t\tself.element.addEventListener(\"mouseout\", function (e) {\r\n\r\n\t\t\t\tself.table.options.rowMouseOut(e, self.getComponent());\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (self.table.options.rowMouseMove) {\r\n\r\n\t\t\tself.element.addEventListener(\"mousemove\", function (e) {\r\n\r\n\t\t\t\tself.table.options.rowMouseMove(e, self.getComponent());\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (self.table.options.rowTap) {\r\n\r\n\t\t\ttap = false;\r\n\r\n\t\t\tself.element.addEventListener(\"touchstart\", function (e) {\r\n\r\n\t\t\t\ttap = true;\r\n\t\t\t}, { passive: true });\r\n\r\n\t\t\tself.element.addEventListener(\"touchend\", function (e) {\r\n\r\n\t\t\t\tif (tap) {\r\n\r\n\t\t\t\t\tself.table.options.rowTap(e, self.getComponent());\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttap = false;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (self.table.options.rowDblTap) {\r\n\r\n\t\t\tdblTap = null;\r\n\r\n\t\t\tself.element.addEventListener(\"touchend\", function (e) {\r\n\r\n\t\t\t\tif (dblTap) {\r\n\r\n\t\t\t\t\tclearTimeout(dblTap);\r\n\r\n\t\t\t\t\tdblTap = null;\r\n\r\n\t\t\t\t\tself.table.options.rowDblTap(e, self.getComponent());\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tdblTap = setTimeout(function () {\r\n\r\n\t\t\t\t\t\tclearTimeout(dblTap);\r\n\r\n\t\t\t\t\t\tdblTap = null;\r\n\t\t\t\t\t}, 300);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (self.table.options.rowTapHold) {\r\n\r\n\t\t\ttapHold = null;\r\n\r\n\t\t\tself.element.addEventListener(\"touchstart\", function (e) {\r\n\r\n\t\t\t\tclearTimeout(tapHold);\r\n\r\n\t\t\t\ttapHold = setTimeout(function () {\r\n\r\n\t\t\t\t\tclearTimeout(tapHold);\r\n\r\n\t\t\t\t\ttapHold = null;\r\n\r\n\t\t\t\t\ttap = false;\r\n\r\n\t\t\t\t\tself.table.options.rowTapHold(e, self.getComponent());\r\n\t\t\t\t}, 1000);\r\n\t\t\t}, { passive: true });\r\n\r\n\t\t\tself.element.addEventListener(\"touchend\", function (e) {\r\n\r\n\t\t\t\tclearTimeout(tapHold);\r\n\r\n\t\t\t\ttapHold = null;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tRow.prototype.generateCells = function () {\r\n\r\n\t\tthis.cells = this.table.columnManager.generateCells(this);\r\n\t};\r\n\r\n\t//functions to setup on first render\r\n\r\n\tRow.prototype.initialize = function (force) {\r\n\t\tvar _this21 = this;\r\n\r\n\t\tthis.create();\r\n\r\n\t\tif (!this.initialized || force) {\r\n\r\n\t\t\tthis.deleteCells();\r\n\r\n\t\t\twhile (this.element.firstChild) {\r\n\t\t\t\tthis.element.removeChild(this.element.firstChild);\r\n\t\t\t} //handle frozen cells\r\n\r\n\t\t\tif (this.table.modExists(\"frozenColumns\")) {\r\n\r\n\t\t\t\tthis.table.modules.frozenColumns.layoutRow(this);\r\n\t\t\t}\r\n\r\n\t\t\tthis.generateCells();\r\n\r\n\t\t\tif (this.table.options.virtualDomHoz && this.table.vdomHoz.initialized) {\r\n\r\n\t\t\t\tthis.table.vdomHoz.initializeRow(this);\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.cells.forEach(function (cell) {\r\n\r\n\t\t\t\t\t_this21.element.appendChild(cell.getElement());\r\n\r\n\t\t\t\t\tcell.cellRendered();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (force) {\r\n\r\n\t\t\t\tthis.normalizeHeight();\r\n\t\t\t}\r\n\r\n\t\t\t//setup movable rows\r\n\r\n\t\t\tif (this.table.options.dataTree && this.table.modExists(\"dataTree\")) {\r\n\r\n\t\t\t\tthis.table.modules.dataTree.layoutRow(this);\r\n\t\t\t}\r\n\r\n\t\t\t//setup column colapse container\r\n\r\n\t\t\tif (this.table.options.responsiveLayout === \"collapse\" && this.table.modExists(\"responsiveLayout\")) {\r\n\r\n\t\t\t\tthis.table.modules.responsiveLayout.layoutRow(this);\r\n\t\t\t}\r\n\r\n\t\t\tif (this.table.options.rowFormatter) {\r\n\r\n\t\t\t\tthis.table.options.rowFormatter(this.getComponent());\r\n\t\t\t}\r\n\r\n\t\t\t//set resizable handles\r\n\r\n\t\t\tif (this.table.options.resizableRows && this.table.modExists(\"resizeRows\")) {\r\n\r\n\t\t\t\tthis.table.modules.resizeRows.initializeRow(this);\r\n\t\t\t}\r\n\r\n\t\t\tthis.initialized = true;\r\n\t\t} else {\r\n\r\n\t\t\tif (this.table.options.virtualDomHoz) {\r\n\r\n\t\t\t\tthis.table.vdomHoz.reinitializeRow(this);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tRow.prototype.reinitializeHeight = function () {\r\n\r\n\t\tthis.heightInitialized = false;\r\n\r\n\t\tif (this.element && this.element.offsetParent !== null) {\r\n\r\n\t\t\tthis.normalizeHeight(true);\r\n\t\t}\r\n\t};\r\n\r\n\tRow.prototype.reinitialize = function (children) {\r\n\r\n\t\tthis.initialized = false;\r\n\r\n\t\tthis.heightInitialized = false;\r\n\r\n\t\tif (!this.manualHeight) {\r\n\r\n\t\t\tthis.height = 0;\r\n\r\n\t\t\tthis.heightStyled = \"\";\r\n\t\t}\r\n\r\n\t\tif (this.element && this.element.offsetParent !== null) {\r\n\r\n\t\t\tthis.initialize(true);\r\n\t\t}\r\n\r\n\t\tif (this.table.options.dataTree && this.table.modExists(\"dataTree\", true)) {\r\n\r\n\t\t\tthis.table.modules.dataTree.getTreeChildren(this, false, true).forEach(function (child) {\r\n\r\n\t\t\t\tchild.reinitialize(true);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t//get heights when doing bulk row style calcs in virtual DOM\r\n\r\n\tRow.prototype.calcHeight = function (force) {\r\n\r\n\t\tvar maxHeight = 0,\r\n\t\t    minHeight = this.table.options.resizableRows ? this.element.clientHeight : 0;\r\n\r\n\t\tthis.cells.forEach(function (cell) {\r\n\r\n\t\t\tvar height = cell.getHeight();\r\n\r\n\t\t\tif (height > maxHeight) {\r\n\r\n\t\t\t\tmaxHeight = height;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (force) {\r\n\r\n\t\t\tthis.height = Math.max(maxHeight, minHeight);\r\n\t\t} else {\r\n\r\n\t\t\tthis.height = this.manualHeight ? this.height : Math.max(maxHeight, minHeight);\r\n\t\t}\r\n\r\n\t\tthis.heightStyled = this.height ? this.height + \"px\" : \"\";\r\n\r\n\t\tthis.outerHeight = this.element.offsetHeight;\r\n\t};\r\n\r\n\t//set of cells\r\n\r\n\tRow.prototype.setCellHeight = function () {\r\n\r\n\t\tthis.cells.forEach(function (cell) {\r\n\r\n\t\t\tcell.setHeight();\r\n\t\t});\r\n\r\n\t\tthis.heightInitialized = true;\r\n\t};\r\n\r\n\tRow.prototype.clearCellHeight = function () {\r\n\r\n\t\tthis.cells.forEach(function (cell) {\r\n\r\n\t\t\tcell.clearHeight();\r\n\t\t});\r\n\t};\r\n\r\n\t//normalize the height of elements in the row\r\n\r\n\tRow.prototype.normalizeHeight = function (force) {\r\n\r\n\t\tif (force) {\r\n\r\n\t\t\tthis.clearCellHeight();\r\n\t\t}\r\n\r\n\t\tthis.calcHeight(force);\r\n\r\n\t\tthis.setCellHeight();\r\n\t};\r\n\r\n\t// Row.prototype.setHeight = function(height){\r\n\r\n\t// \tthis.height = height;\r\n\r\n\r\n\t// \tthis.setCellHeight();\r\n\r\n\t// };\r\n\r\n\r\n\t//set height of rows\r\n\r\n\tRow.prototype.setHeight = function (height, force) {\r\n\r\n\t\tif (this.height != height || force) {\r\n\r\n\t\t\tthis.manualHeight = true;\r\n\r\n\t\t\tthis.height = height;\r\n\r\n\t\t\tthis.heightStyled = height ? height + \"px\" : \"\";\r\n\r\n\t\t\tthis.setCellHeight();\r\n\r\n\t\t\t// this.outerHeight = this.element.outerHeight();\r\n\r\n\t\t\tthis.outerHeight = this.element.offsetHeight;\r\n\t\t}\r\n\t};\r\n\r\n\t//return rows outer height\r\n\r\n\tRow.prototype.getHeight = function () {\r\n\r\n\t\treturn this.outerHeight;\r\n\t};\r\n\r\n\t//return rows outer Width\r\n\r\n\tRow.prototype.getWidth = function () {\r\n\r\n\t\treturn this.element.offsetWidth;\r\n\t};\r\n\r\n\t//////////////// Cell Management /////////////////\r\n\r\n\r\n\tRow.prototype.deleteCell = function (cell) {\r\n\r\n\t\tvar index = this.cells.indexOf(cell);\r\n\r\n\t\tif (index > -1) {\r\n\r\n\t\t\tthis.cells.splice(index, 1);\r\n\t\t}\r\n\t};\r\n\r\n\t//////////////// Data Management /////////////////\r\n\r\n\r\n\tRow.prototype.setData = function (data) {\r\n\r\n\t\tif (this.table.modExists(\"mutator\")) {\r\n\r\n\t\t\tdata = this.table.modules.mutator.transformRow(data, \"data\");\r\n\t\t}\r\n\r\n\t\tthis.data = data;\r\n\r\n\t\tif (this.table.options.reactiveData && this.table.modExists(\"reactiveData\", true)) {\r\n\r\n\t\t\tthis.table.modules.reactiveData.watchRow(this);\r\n\t\t}\r\n\t};\r\n\r\n\t//update the rows data\r\n\r\n\tRow.prototype.updateData = function (updatedData) {\r\n\t\tvar _this22 = this;\r\n\r\n\t\tvar visible = this.element && Tabulator.prototype.helpers.elVisible(this.element),\r\n\t\t    tempData = {},\r\n\t\t    newRowData;\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\tif (typeof updatedData === \"string\") {\r\n\r\n\t\t\t\tupdatedData = JSON.parse(updatedData);\r\n\t\t\t}\r\n\r\n\t\t\tif (_this22.table.options.reactiveData && _this22.table.modExists(\"reactiveData\", true)) {\r\n\r\n\t\t\t\t_this22.table.modules.reactiveData.block();\r\n\t\t\t}\r\n\r\n\t\t\t//mutate incomming data if needed\r\n\r\n\t\t\tif (_this22.table.modExists(\"mutator\")) {\r\n\r\n\t\t\t\ttempData = Object.assign(tempData, _this22.data);\r\n\r\n\t\t\t\ttempData = Object.assign(tempData, updatedData);\r\n\r\n\t\t\t\tnewRowData = _this22.table.modules.mutator.transformRow(tempData, \"data\", updatedData);\r\n\t\t\t} else {\r\n\r\n\t\t\t\tnewRowData = updatedData;\r\n\t\t\t}\r\n\r\n\t\t\t//set data\r\n\r\n\t\t\tfor (var attrname in newRowData) {\r\n\r\n\t\t\t\t_this22.data[attrname] = newRowData[attrname];\r\n\t\t\t}\r\n\r\n\t\t\tif (_this22.table.options.reactiveData && _this22.table.modExists(\"reactiveData\", true)) {\r\n\r\n\t\t\t\t_this22.table.modules.reactiveData.unblock();\r\n\t\t\t}\r\n\r\n\t\t\t//update affected cells only\r\n\r\n\t\t\tfor (var attrname in updatedData) {\r\n\r\n\t\t\t\tvar columns = _this22.table.columnManager.getColumnsByFieldRoot(attrname);\r\n\r\n\t\t\t\tcolumns.forEach(function (column) {\r\n\r\n\t\t\t\t\tvar cell = _this22.getCell(column.getField());\r\n\r\n\t\t\t\t\tif (cell) {\r\n\r\n\t\t\t\t\t\tvar value = column.getFieldValue(newRowData);\r\n\r\n\t\t\t\t\t\tif (cell.getValue() != value) {\r\n\r\n\t\t\t\t\t\t\tcell.setValueProcessData(value);\r\n\r\n\t\t\t\t\t\t\tif (visible) {\r\n\r\n\t\t\t\t\t\t\t\tcell.cellRendered();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (_this22.table.options.groupUpdateOnCellEdit && _this22.table.options.groupBy && _this22.table.modExists(\"groupRows\")) {\r\n\r\n\t\t\t\t_this22.table.modules.groupRows.reassignRowToGroup(_this22.row);\r\n\t\t\t}\r\n\r\n\t\t\t//Partial reinitialization if visible\r\n\r\n\t\t\tif (visible) {\r\n\r\n\t\t\t\t_this22.normalizeHeight(true);\r\n\r\n\t\t\t\tif (_this22.table.options.rowFormatter) {\r\n\r\n\t\t\t\t\t_this22.table.options.rowFormatter(_this22.getComponent());\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_this22.initialized = false;\r\n\r\n\t\t\t\t_this22.height = 0;\r\n\r\n\t\t\t\t_this22.heightStyled = \"\";\r\n\t\t\t}\r\n\r\n\t\t\tif (_this22.table.options.dataTree !== false && _this22.table.modExists(\"dataTree\") && _this22.table.modules.dataTree.redrawNeeded(updatedData)) {\r\n\r\n\t\t\t\t_this22.table.modules.dataTree.initializeRow(_this22);\r\n\r\n\t\t\t\tif (visible) {\r\n\r\n\t\t\t\t\t_this22.table.modules.dataTree.layoutRow(_this22);\r\n\r\n\t\t\t\t\t_this22.table.rowManager.refreshActiveData(\"tree\", false, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//this.reinitialize();\r\n\r\n\r\n\t\t\t_this22.table.options.rowUpdated.call(_this22.table, _this22.getComponent());\r\n\r\n\t\t\tif (_this22.table.options.dataChanged) {\r\n\r\n\t\t\t\t_this22.table.options.dataChanged.call(_this22.table, _this22.table.rowManager.getData());\r\n\t\t\t}\r\n\r\n\t\t\tresolve();\r\n\t\t});\r\n\t};\r\n\r\n\tRow.prototype.getData = function (transform) {\r\n\r\n\t\tif (transform) {\r\n\r\n\t\t\tif (this.table.modExists(\"accessor\")) {\r\n\r\n\t\t\t\treturn this.table.modules.accessor.transformRow(this, transform);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this.data;\r\n\t};\r\n\r\n\tRow.prototype.getCell = function (column) {\r\n\r\n\t\tvar match = false;\r\n\r\n\t\tcolumn = this.table.columnManager.findColumn(column);\r\n\r\n\t\tmatch = this.cells.find(function (cell) {\r\n\r\n\t\t\treturn cell.column === column;\r\n\t\t});\r\n\r\n\t\treturn match;\r\n\t};\r\n\r\n\tRow.prototype.getCellIndex = function (findCell) {\r\n\r\n\t\treturn this.cells.findIndex(function (cell) {\r\n\r\n\t\t\treturn cell === findCell;\r\n\t\t});\r\n\t};\r\n\r\n\tRow.prototype.findNextEditableCell = function (index) {\r\n\r\n\t\tvar nextCell = false;\r\n\r\n\t\tif (index < this.cells.length - 1) {\r\n\r\n\t\t\tfor (var i = index + 1; i < this.cells.length; i++) {\r\n\r\n\t\t\t\tvar cell = this.cells[i];\r\n\r\n\t\t\t\tif (cell.column.modules.edit && Tabulator.prototype.helpers.elVisible(cell.getElement())) {\r\n\r\n\t\t\t\t\tvar allowEdit = true;\r\n\r\n\t\t\t\t\tif (typeof cell.column.modules.edit.check == \"function\") {\r\n\r\n\t\t\t\t\t\tallowEdit = cell.column.modules.edit.check(cell.getComponent());\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (allowEdit) {\r\n\r\n\t\t\t\t\t\tnextCell = cell;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn nextCell;\r\n\t};\r\n\r\n\tRow.prototype.findPrevEditableCell = function (index) {\r\n\r\n\t\tvar prevCell = false;\r\n\r\n\t\tif (index > 0) {\r\n\r\n\t\t\tfor (var i = index - 1; i >= 0; i--) {\r\n\r\n\t\t\t\tvar cell = this.cells[i],\r\n\t\t\t\t    allowEdit = true;\r\n\r\n\t\t\t\tif (cell.column.modules.edit && Tabulator.prototype.helpers.elVisible(cell.getElement())) {\r\n\r\n\t\t\t\t\tif (typeof cell.column.modules.edit.check == \"function\") {\r\n\r\n\t\t\t\t\t\tallowEdit = cell.column.modules.edit.check(cell.getComponent());\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (allowEdit) {\r\n\r\n\t\t\t\t\t\tprevCell = cell;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn prevCell;\r\n\t};\r\n\r\n\tRow.prototype.getCells = function () {\r\n\r\n\t\treturn this.cells;\r\n\t};\r\n\r\n\tRow.prototype.nextRow = function () {\r\n\r\n\t\tvar row = this.table.rowManager.nextDisplayRow(this, true);\r\n\r\n\t\treturn row || false;\r\n\t};\r\n\r\n\tRow.prototype.prevRow = function () {\r\n\r\n\t\tvar row = this.table.rowManager.prevDisplayRow(this, true);\r\n\r\n\t\treturn row || false;\r\n\t};\r\n\r\n\tRow.prototype.moveToRow = function (to, before) {\r\n\r\n\t\tvar toRow = this.table.rowManager.findRow(to);\r\n\r\n\t\tif (toRow) {\r\n\r\n\t\t\tthis.table.rowManager.moveRowActual(this, toRow, !before);\r\n\r\n\t\t\tthis.table.rowManager.refreshActiveData(\"display\", false, true);\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn(\"Move Error - No matching row found:\", to);\r\n\t\t}\r\n\t};\r\n\r\n\tRow.prototype.validate = function () {\r\n\r\n\t\tvar invalid = [];\r\n\r\n\t\tthis.cells.forEach(function (cell) {\r\n\r\n\t\t\tif (!cell.validate()) {\r\n\r\n\t\t\t\tinvalid.push(cell.getComponent());\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn invalid.length ? invalid : true;\r\n\t};\r\n\r\n\t///////////////////// Actions  /////////////////////\r\n\r\n\r\n\tRow.prototype.delete = function () {\r\n\t\tvar _this23 = this;\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\tvar index, rows;\r\n\r\n\t\t\tif (_this23.table.options.history && _this23.table.modExists(\"history\")) {\r\n\r\n\t\t\t\tif (_this23.table.options.groupBy && _this23.table.modExists(\"groupRows\")) {\r\n\r\n\t\t\t\t\trows = _this23.getGroup().rows;\r\n\r\n\t\t\t\t\tindex = rows.indexOf(_this23);\r\n\r\n\t\t\t\t\tif (index) {\r\n\r\n\t\t\t\t\t\tindex = rows[index - 1];\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tindex = _this23.table.rowManager.getRowIndex(_this23);\r\n\r\n\t\t\t\t\tif (index) {\r\n\r\n\t\t\t\t\t\tindex = _this23.table.rowManager.rows[index - 1];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_this23.table.modules.history.action(\"rowDelete\", _this23, { data: _this23.getData(), pos: !index, index: index });\r\n\t\t\t}\r\n\r\n\t\t\t_this23.deleteActual();\r\n\r\n\t\t\tresolve();\r\n\t\t});\r\n\t};\r\n\r\n\tRow.prototype.deleteActual = function (blockRedraw) {\r\n\r\n\t\tvar index = this.table.rowManager.getRowIndex(this);\r\n\r\n\t\tthis.detatchModules();\r\n\r\n\t\t// if(this.table.options.dataTree && this.table.modExists(\"dataTree\")){\r\n\r\n\t\t// \tthis.table.modules.dataTree.collapseRow(this, true);\r\n\r\n\t\t// }\r\n\r\n\r\n\t\t//remove any reactive data watchers from row object\r\n\r\n\t\tif (this.table.options.reactiveData && this.table.modExists(\"reactiveData\", true)) {}\r\n\r\n\t\t// this.table.modules.reactiveData.unwatchRow(this);\r\n\r\n\t\t//remove from group\r\n\r\n\t\tif (this.modules.group) {\r\n\r\n\t\t\tthis.modules.group.removeRow(this);\r\n\t\t}\r\n\r\n\t\tthis.table.rowManager.deleteRow(this, blockRedraw);\r\n\r\n\t\tthis.deleteCells();\r\n\r\n\t\tthis.initialized = false;\r\n\r\n\t\tthis.heightInitialized = false;\r\n\r\n\t\tthis.element = false;\r\n\r\n\t\tif (this.table.options.dataTree && this.table.modExists(\"dataTree\", true)) {\r\n\r\n\t\t\tthis.table.modules.dataTree.rowDelete(this);\r\n\t\t}\r\n\r\n\t\t//recalc column calculations if present\r\n\r\n\t\tif (this.table.modExists(\"columnCalcs\")) {\r\n\r\n\t\t\tif (this.table.options.groupBy && this.table.modExists(\"groupRows\")) {\r\n\r\n\t\t\t\tthis.table.modules.columnCalcs.recalcRowGroup(this);\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tRow.prototype.detatchModules = function () {\r\n\r\n\t\t//deselect row if it is selected\r\n\r\n\t\tif (this.table.modExists(\"selectRow\")) {\r\n\r\n\t\t\tthis.table.modules.selectRow._deselectRow(this, true);\r\n\t\t}\r\n\r\n\t\t//cancel edit if row is currently being edited\r\n\r\n\t\tif (this.table.modExists(\"edit\")) {\r\n\r\n\t\t\tif (this.table.modules.edit.currentCell.row === this) {\r\n\r\n\t\t\t\tthis.table.modules.edit.cancelEdit();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.table.modExists(\"frozenRows\")) {\r\n\r\n\t\t\tthis.table.modules.frozenRows.detachRow(this);\r\n\t\t}\r\n\t};\r\n\r\n\tRow.prototype.deleteCells = function () {\r\n\r\n\t\tvar cellCount = this.cells.length;\r\n\r\n\t\tfor (var _i8 = 0; _i8 < cellCount; _i8++) {\r\n\r\n\t\t\tthis.cells[0].delete();\r\n\t\t}\r\n\t};\r\n\r\n\tRow.prototype.wipe = function () {\r\n\r\n\t\tthis.detatchModules();\r\n\r\n\t\tthis.deleteCells();\r\n\r\n\t\tif (this.element) {\r\n\r\n\t\t\twhile (this.element.firstChild) {\r\n\t\t\t\tthis.element.removeChild(this.element.firstChild);\r\n\t\t\t}if (this.element.parentNode) {\r\n\r\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.element = false;\r\n\r\n\t\tthis.modules = {};\r\n\t};\r\n\r\n\tRow.prototype.getGroup = function () {\r\n\r\n\t\treturn this.modules.group || false;\r\n\t};\r\n\r\n\t//////////////// Object Generation /////////////////\r\n\r\n\tRow.prototype.getComponent = function () {\r\n\r\n\t\tif (!this.component) {\r\n\r\n\t\t\tthis.component = new RowComponent(this);\r\n\t\t}\r\n\r\n\t\treturn this.component;\r\n\t};\r\n\r\n\t//public row object\r\n\r\n\tvar CellComponent = function CellComponent(cell) {\r\n\r\n\t\tthis._cell = cell;\r\n\t};\r\n\r\n\tCellComponent.prototype.getValue = function () {\r\n\r\n\t\treturn this._cell.getValue();\r\n\t};\r\n\r\n\tCellComponent.prototype.getOldValue = function () {\r\n\r\n\t\treturn this._cell.getOldValue();\r\n\t};\r\n\r\n\tCellComponent.prototype.getInitialValue = function () {\r\n\r\n\t\treturn this._cell.initialValue;\r\n\t};\r\n\r\n\tCellComponent.prototype.getElement = function () {\r\n\r\n\t\treturn this._cell.getElement();\r\n\t};\r\n\r\n\tCellComponent.prototype.getRow = function () {\r\n\r\n\t\treturn this._cell.row.getComponent();\r\n\t};\r\n\r\n\tCellComponent.prototype.getData = function () {\r\n\r\n\t\treturn this._cell.row.getData();\r\n\t};\r\n\r\n\tCellComponent.prototype.getField = function () {\r\n\r\n\t\treturn this._cell.column.getField();\r\n\t};\r\n\r\n\tCellComponent.prototype.getColumn = function () {\r\n\r\n\t\treturn this._cell.column.getComponent();\r\n\t};\r\n\r\n\tCellComponent.prototype.setValue = function (value, mutate) {\r\n\r\n\t\tif (typeof mutate == \"undefined\") {\r\n\r\n\t\t\tmutate = true;\r\n\t\t}\r\n\r\n\t\tthis._cell.setValue(value, mutate);\r\n\t};\r\n\r\n\tCellComponent.prototype.restoreOldValue = function () {\r\n\r\n\t\tthis._cell.setValueActual(this._cell.getOldValue());\r\n\t};\r\n\r\n\tCellComponent.prototype.restoreInitialValue = function () {\r\n\r\n\t\tthis._cell.setValueActual(this._cell.initialValue);\r\n\t};\r\n\r\n\tCellComponent.prototype.edit = function (force) {\r\n\r\n\t\treturn this._cell.edit(force);\r\n\t};\r\n\r\n\tCellComponent.prototype.cancelEdit = function () {\r\n\r\n\t\tthis._cell.cancelEdit();\r\n\t};\r\n\r\n\tCellComponent.prototype.isEdited = function () {\r\n\r\n\t\treturn !!this._cell.modules.edit && this._cell.modules.edit.edited;\r\n\t};\r\n\r\n\tCellComponent.prototype.clearEdited = function () {\r\n\r\n\t\tif (self.table.modExists(\"edit\", true)) {\r\n\r\n\t\t\tthis._cell.table.modules.edit.clearEdited(this._cell);\r\n\t\t}\r\n\t};\r\n\r\n\tCellComponent.prototype.isValid = function () {\r\n\r\n\t\treturn this._cell.modules.validate ? !this._cell.modules.validate.invalid : true;\r\n\t};\r\n\r\n\tCellComponent.prototype.validate = function () {\r\n\r\n\t\treturn this._cell.validate();\r\n\t};\r\n\r\n\tCellComponent.prototype.clearValidation = function () {\r\n\r\n\t\tif (this._cell.table.modExists(\"validate\", true)) {\r\n\r\n\t\t\tthis._cell.table.modules.validate.clearValidation(this._cell);\r\n\t\t}\r\n\t};\r\n\r\n\tCellComponent.prototype.nav = function () {\r\n\r\n\t\treturn this._cell.nav();\r\n\t};\r\n\r\n\tCellComponent.prototype.checkHeight = function () {\r\n\r\n\t\tthis._cell.checkHeight();\r\n\t};\r\n\r\n\tCellComponent.prototype.getTable = function () {\r\n\r\n\t\treturn this._cell.table;\r\n\t};\r\n\r\n\tCellComponent.prototype._getSelf = function () {\r\n\r\n\t\treturn this._cell;\r\n\t};\r\n\r\n\tvar Cell = function Cell(column, row) {\r\n\r\n\t\tthis.table = column.table;\r\n\r\n\t\tthis.column = column;\r\n\r\n\t\tthis.row = row;\r\n\r\n\t\tthis.element = null;\r\n\r\n\t\tthis.value = null;\r\n\r\n\t\tthis.initialValue;\r\n\r\n\t\tthis.oldValue = null;\r\n\r\n\t\tthis.modules = {};\r\n\r\n\t\tthis.height = null;\r\n\r\n\t\tthis.width = null;\r\n\r\n\t\tthis.minWidth = null;\r\n\r\n\t\tthis.component = null;\r\n\r\n\t\tthis.loaded = false; //track if the cell has been added to the DOM yet\r\n\r\n\r\n\t\tthis.build();\r\n\t};\r\n\r\n\t//////////////// Setup Functions /////////////////\r\n\r\n\r\n\t//generate element\r\n\r\n\tCell.prototype.build = function () {\r\n\r\n\t\tthis.generateElement();\r\n\r\n\t\tthis.setWidth();\r\n\r\n\t\tthis._configureCell();\r\n\r\n\t\tthis.setValueActual(this.column.getFieldValue(this.row.data));\r\n\r\n\t\tthis.initialValue = this.value;\r\n\t};\r\n\r\n\tCell.prototype.generateElement = function () {\r\n\r\n\t\tthis.element = document.createElement('div');\r\n\r\n\t\tthis.element.className = \"tabulator-cell\";\r\n\r\n\t\tthis.element.setAttribute(\"role\", \"gridcell\");\r\n\r\n\t\tthis.element = this.element;\r\n\t};\r\n\r\n\tCell.prototype._configureCell = function () {\r\n\r\n\t\tvar self = this,\r\n\t\t    cellEvents = self.column.cellEvents,\r\n\t\t    element = self.element,\r\n\t\t    field = this.column.getField(),\r\n\t\t    vertAligns = {\r\n\r\n\t\t\ttop: \"flex-start\",\r\n\r\n\t\t\tbottom: \"flex-end\",\r\n\r\n\t\t\tmiddle: \"center\"\r\n\r\n\t\t},\r\n\t\t    hozAligns = {\r\n\r\n\t\t\tleft: \"flex-start\",\r\n\r\n\t\t\tright: \"flex-end\",\r\n\r\n\t\t\tcenter: \"center\"\r\n\r\n\t\t};\r\n\r\n\t\t//set text alignment\r\n\r\n\t\telement.style.textAlign = self.column.hozAlign;\r\n\r\n\t\tif (self.column.vertAlign) {\r\n\r\n\t\t\telement.style.display = \"inline-flex\";\r\n\r\n\t\t\telement.style.alignItems = vertAligns[self.column.vertAlign] || \"\";\r\n\r\n\t\t\tif (self.column.hozAlign) {\r\n\r\n\t\t\t\telement.style.justifyContent = hozAligns[self.column.hozAlign] || \"\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (field) {\r\n\r\n\t\t\telement.setAttribute(\"tabulator-field\", field);\r\n\t\t}\r\n\r\n\t\t//add class to cell if needed\r\n\r\n\t\tif (self.column.definition.cssClass) {\r\n\r\n\t\t\tvar classNames = self.column.definition.cssClass.split(\" \");\r\n\r\n\t\t\tclassNames.forEach(function (className) {\r\n\r\n\t\t\t\telement.classList.add(className);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t//update tooltip on mouse enter\r\n\r\n\t\tif (this.table.options.tooltipGenerationMode === \"hover\") {\r\n\r\n\t\t\telement.addEventListener(\"mouseenter\", function (e) {\r\n\r\n\t\t\t\tself._generateTooltip();\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tself._bindClickEvents(cellEvents);\r\n\r\n\t\tself._bindTouchEvents(cellEvents);\r\n\r\n\t\tself._bindMouseEvents(cellEvents);\r\n\r\n\t\tif (self.column.modules.edit) {\r\n\r\n\t\t\tself.table.modules.edit.bindEditor(self);\r\n\t\t}\r\n\r\n\t\tif (self.column.definition.rowHandle && self.table.options.movableRows !== false && self.table.modExists(\"moveRow\")) {\r\n\r\n\t\t\tself.table.modules.moveRow.initializeCell(self);\r\n\t\t}\r\n\r\n\t\t//hide cell if not visible\r\n\r\n\t\tif (!self.column.visible) {\r\n\r\n\t\t\tself.hide();\r\n\t\t}\r\n\t};\r\n\r\n\tCell.prototype._bindClickEvents = function (cellEvents) {\r\n\r\n\t\tvar self = this,\r\n\t\t    element = self.element;\r\n\r\n\t\t//set event bindings\r\n\r\n\t\tif (cellEvents.cellClick || self.table.options.cellClick) {\r\n\r\n\t\t\telement.addEventListener(\"click\", function (e) {\r\n\r\n\t\t\t\tvar component = self.getComponent();\r\n\r\n\t\t\t\tif (cellEvents.cellClick) {\r\n\r\n\t\t\t\t\tcellEvents.cellClick.call(self.table, e, component);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (self.table.options.cellClick) {\r\n\r\n\t\t\t\t\tself.table.options.cellClick.call(self.table, e, component);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (cellEvents.cellDblClick || this.table.options.cellDblClick) {\r\n\r\n\t\t\telement.addEventListener(\"dblclick\", function (e) {\r\n\r\n\t\t\t\tvar component = self.getComponent();\r\n\r\n\t\t\t\tif (cellEvents.cellDblClick) {\r\n\r\n\t\t\t\t\tcellEvents.cellDblClick.call(self.table, e, component);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (self.table.options.cellDblClick) {\r\n\r\n\t\t\t\t\tself.table.options.cellDblClick.call(self.table, e, component);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\r\n\t\t\telement.addEventListener(\"dblclick\", function (e) {\r\n\r\n\t\t\t\tif (self.table.modExists(\"edit\")) {\r\n\r\n\t\t\t\t\tif (self.table.modules.edit.currentCell === self) {\r\n\r\n\t\t\t\t\t\treturn; //prevent instant selection of editor content\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\ttry {\r\n\r\n\t\t\t\t\tif (document.selection) {\r\n\t\t\t\t\t\t// IE\r\n\r\n\t\t\t\t\t\tvar range = document.body.createTextRange();\r\n\r\n\t\t\t\t\t\trange.moveToElementText(self.element);\r\n\r\n\t\t\t\t\t\trange.select();\r\n\t\t\t\t\t} else if (window.getSelection) {\r\n\r\n\t\t\t\t\t\tvar range = document.createRange();\r\n\r\n\t\t\t\t\t\trange.selectNode(self.element);\r\n\r\n\t\t\t\t\t\twindow.getSelection().removeAllRanges();\r\n\r\n\t\t\t\t\t\twindow.getSelection().addRange(range);\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (cellEvents.cellContext || this.table.options.cellContext) {\r\n\r\n\t\t\telement.addEventListener(\"contextmenu\", function (e) {\r\n\r\n\t\t\t\tvar component = self.getComponent();\r\n\r\n\t\t\t\tif (cellEvents.cellContext) {\r\n\r\n\t\t\t\t\tcellEvents.cellContext.call(self.table, e, component);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (self.table.options.cellContext) {\r\n\r\n\t\t\t\t\tself.table.options.cellContext.call(self.table, e, component);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tCell.prototype._bindMouseEvents = function (cellEvents) {\r\n\r\n\t\tvar self = this,\r\n\t\t    element = self.element;\r\n\r\n\t\tif (cellEvents.cellMouseEnter || self.table.options.cellMouseEnter) {\r\n\r\n\t\t\telement.addEventListener(\"mouseenter\", function (e) {\r\n\r\n\t\t\t\tvar component = self.getComponent();\r\n\r\n\t\t\t\tif (cellEvents.cellMouseEnter) {\r\n\r\n\t\t\t\t\tcellEvents.cellMouseEnter.call(self.table, e, component);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (self.table.options.cellMouseEnter) {\r\n\r\n\t\t\t\t\tself.table.options.cellMouseEnter.call(self.table, e, component);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (cellEvents.cellMouseLeave || self.table.options.cellMouseLeave) {\r\n\r\n\t\t\telement.addEventListener(\"mouseleave\", function (e) {\r\n\r\n\t\t\t\tvar component = self.getComponent();\r\n\r\n\t\t\t\tif (cellEvents.cellMouseLeave) {\r\n\r\n\t\t\t\t\tcellEvents.cellMouseLeave.call(self.table, e, component);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (self.table.options.cellMouseLeave) {\r\n\r\n\t\t\t\t\tself.table.options.cellMouseLeave.call(self.table, e, component);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (cellEvents.cellMouseOver || self.table.options.cellMouseOver) {\r\n\r\n\t\t\telement.addEventListener(\"mouseover\", function (e) {\r\n\r\n\t\t\t\tvar component = self.getComponent();\r\n\r\n\t\t\t\tif (cellEvents.cellMouseOver) {\r\n\r\n\t\t\t\t\tcellEvents.cellMouseOver.call(self.table, e, component);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (self.table.options.cellMouseOver) {\r\n\r\n\t\t\t\t\tself.table.options.cellMouseOver.call(self.table, e, component);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (cellEvents.cellMouseOut || self.table.options.cellMouseOut) {\r\n\r\n\t\t\telement.addEventListener(\"mouseout\", function (e) {\r\n\r\n\t\t\t\tvar component = self.getComponent();\r\n\r\n\t\t\t\tif (cellEvents.cellMouseOut) {\r\n\r\n\t\t\t\t\tcellEvents.cellMouseOut.call(self.table, e, component);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (self.table.options.cellMouseOut) {\r\n\r\n\t\t\t\t\tself.table.options.cellMouseOut.call(self.table, e, component);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (cellEvents.cellMouseMove || self.table.options.cellMouseMove) {\r\n\r\n\t\t\telement.addEventListener(\"mousemove\", function (e) {\r\n\r\n\t\t\t\tvar component = self.getComponent();\r\n\r\n\t\t\t\tif (cellEvents.cellMouseMove) {\r\n\r\n\t\t\t\t\tcellEvents.cellMouseMove.call(self.table, e, component);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (self.table.options.cellMouseMove) {\r\n\r\n\t\t\t\t\tself.table.options.cellMouseMove.call(self.table, e, component);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tCell.prototype._bindTouchEvents = function (cellEvents) {\r\n\r\n\t\tvar self = this,\r\n\t\t    element = self.element,\r\n\t\t    dblTap,\r\n\t\t    tapHold,\r\n\t\t    tap;\r\n\r\n\t\tif (cellEvents.cellTap || this.table.options.cellTap) {\r\n\r\n\t\t\ttap = false;\r\n\r\n\t\t\telement.addEventListener(\"touchstart\", function (e) {\r\n\r\n\t\t\t\ttap = true;\r\n\t\t\t}, { passive: true });\r\n\r\n\t\t\telement.addEventListener(\"touchend\", function (e) {\r\n\r\n\t\t\t\tif (tap) {\r\n\r\n\t\t\t\t\tvar component = self.getComponent();\r\n\r\n\t\t\t\t\tif (cellEvents.cellTap) {\r\n\r\n\t\t\t\t\t\tcellEvents.cellTap.call(self.table, e, component);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (self.table.options.cellTap) {\r\n\r\n\t\t\t\t\t\tself.table.options.cellTap.call(self.table, e, component);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttap = false;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (cellEvents.cellDblTap || this.table.options.cellDblTap) {\r\n\r\n\t\t\tdblTap = null;\r\n\r\n\t\t\telement.addEventListener(\"touchend\", function (e) {\r\n\r\n\t\t\t\tif (dblTap) {\r\n\r\n\t\t\t\t\tclearTimeout(dblTap);\r\n\r\n\t\t\t\t\tdblTap = null;\r\n\r\n\t\t\t\t\tvar component = self.getComponent();\r\n\r\n\t\t\t\t\tif (cellEvents.cellDblTap) {\r\n\r\n\t\t\t\t\t\tcellEvents.cellDblTap.call(self.table, e, component);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (self.table.options.cellDblTap) {\r\n\r\n\t\t\t\t\t\tself.table.options.cellDblTap.call(self.table, e, component);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tdblTap = setTimeout(function () {\r\n\r\n\t\t\t\t\t\tclearTimeout(dblTap);\r\n\r\n\t\t\t\t\t\tdblTap = null;\r\n\t\t\t\t\t}, 300);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (cellEvents.cellTapHold || this.table.options.cellTapHold) {\r\n\r\n\t\t\ttapHold = null;\r\n\r\n\t\t\telement.addEventListener(\"touchstart\", function (e) {\r\n\r\n\t\t\t\tclearTimeout(tapHold);\r\n\r\n\t\t\t\ttapHold = setTimeout(function () {\r\n\r\n\t\t\t\t\tclearTimeout(tapHold);\r\n\r\n\t\t\t\t\ttapHold = null;\r\n\r\n\t\t\t\t\ttap = false;\r\n\r\n\t\t\t\t\tvar component = self.getComponent();\r\n\r\n\t\t\t\t\tif (cellEvents.cellTapHold) {\r\n\r\n\t\t\t\t\t\tcellEvents.cellTapHold.call(self.table, e, component);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (self.table.options.cellTapHold) {\r\n\r\n\t\t\t\t\t\tself.table.options.cellTapHold.call(self.table, e, component);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 1000);\r\n\t\t\t}, { passive: true });\r\n\r\n\t\t\telement.addEventListener(\"touchend\", function (e) {\r\n\r\n\t\t\t\tclearTimeout(tapHold);\r\n\r\n\t\t\t\ttapHold = null;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t//generate cell contents\r\n\r\n\tCell.prototype._generateContents = function () {\r\n\r\n\t\tvar val;\r\n\r\n\t\tif (this.table.modExists(\"format\")) {\r\n\r\n\t\t\tval = this.table.modules.format.formatValue(this);\r\n\t\t} else {\r\n\r\n\t\t\tval = this.element.innerHTML = this.value;\r\n\t\t}\r\n\r\n\t\tswitch (typeof val === 'undefined' ? 'undefined' : _typeof(val)) {\r\n\r\n\t\t\tcase \"object\":\r\n\r\n\t\t\t\tif (val instanceof Node) {\r\n\r\n\t\t\t\t\t//clear previous cell contents\r\n\r\n\t\t\t\t\twhile (this.element.firstChild) {\r\n\t\t\t\t\t\tthis.element.removeChild(this.element.firstChild);\r\n\t\t\t\t\t}this.element.appendChild(val);\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis.element.innerHTML = \"\";\r\n\r\n\t\t\t\t\tif (val != null) {\r\n\r\n\t\t\t\t\t\tconsole.warn(\"Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:\", val);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"undefined\":\r\n\r\n\t\t\tcase \"null\":\r\n\r\n\t\t\t\tthis.element.innerHTML = \"\";\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tthis.element.innerHTML = val;\r\n\r\n\t\t}\r\n\t};\r\n\r\n\tCell.prototype.cellRendered = function () {\r\n\r\n\t\tif (this.table.modExists(\"format\") && this.table.modules.format.cellRendered) {\r\n\r\n\t\t\tthis.table.modules.format.cellRendered(this);\r\n\t\t}\r\n\t};\r\n\r\n\t//generate tooltip text\r\n\r\n\tCell.prototype._generateTooltip = function () {\r\n\r\n\t\tvar tooltip = this.column.tooltip;\r\n\r\n\t\tif (tooltip) {\r\n\r\n\t\t\tif (tooltip === true) {\r\n\r\n\t\t\t\ttooltip = this.value;\r\n\t\t\t} else if (typeof tooltip == \"function\") {\r\n\r\n\t\t\t\ttooltip = tooltip(this.getComponent());\r\n\r\n\t\t\t\tif (tooltip === false) {\r\n\r\n\t\t\t\t\ttooltip = \"\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof tooltip === \"undefined\") {\r\n\r\n\t\t\t\ttooltip = \"\";\r\n\t\t\t}\r\n\r\n\t\t\tthis.element.setAttribute(\"title\", tooltip);\r\n\t\t} else {\r\n\r\n\t\t\tthis.element.setAttribute(\"title\", \"\");\r\n\t\t}\r\n\t};\r\n\r\n\t//////////////////// Getters ////////////////////\r\n\r\n\tCell.prototype.getElement = function (containerOnly) {\r\n\r\n\t\tif (!this.loaded) {\r\n\r\n\t\t\tthis.loaded = true;\r\n\r\n\t\t\tif (!containerOnly) {\r\n\r\n\t\t\t\tthis.layoutElement();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this.element;\r\n\t};\r\n\r\n\tCell.prototype.getValue = function () {\r\n\r\n\t\treturn this.value;\r\n\t};\r\n\r\n\tCell.prototype.getOldValue = function () {\r\n\r\n\t\treturn this.oldValue;\r\n\t};\r\n\r\n\t//////////////////// Actions ////////////////////\r\n\r\n\r\n\tCell.prototype.setValue = function (value, mutate) {\r\n\r\n\t\tvar changed = this.setValueProcessData(value, mutate),\r\n\t\t    component;\r\n\r\n\t\tif (changed) {\r\n\r\n\t\t\tif (this.table.options.history && this.table.modExists(\"history\")) {\r\n\r\n\t\t\t\tthis.table.modules.history.action(\"cellEdit\", this, { oldValue: this.oldValue, newValue: this.value });\r\n\t\t\t}\r\n\r\n\t\t\tcomponent = this.getComponent();\r\n\r\n\t\t\tif (this.column.cellEvents.cellEdited) {\r\n\r\n\t\t\t\tthis.column.cellEvents.cellEdited.call(this.table, component);\r\n\t\t\t}\r\n\r\n\t\t\tif (this.table.options.groupUpdateOnCellEdit && this.table.options.groupBy && this.table.modExists(\"groupRows\")) {\r\n\r\n\t\t\t\tthis.table.modules.groupRows.reassignRowToGroup(this.row);\r\n\t\t\t}\r\n\r\n\t\t\tthis.cellRendered();\r\n\r\n\t\t\tthis.table.options.cellEdited.call(this.table, component);\r\n\r\n\t\t\tif (this.table.options.dataChanged) {\r\n\r\n\t\t\t\tthis.table.options.dataChanged.call(this.table, this.table.rowManager.getData());\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tCell.prototype.setValueProcessData = function (value, mutate) {\r\n\r\n\t\tvar changed = false;\r\n\r\n\t\tif (this.value != value) {\r\n\r\n\t\t\tchanged = true;\r\n\r\n\t\t\tif (mutate) {\r\n\r\n\t\t\t\tif (this.column.modules.mutate) {\r\n\r\n\t\t\t\t\tvalue = this.table.modules.mutator.transformCell(this, value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.setValueActual(value);\r\n\r\n\t\tif (changed && this.table.modExists(\"columnCalcs\")) {\r\n\r\n\t\t\tif (this.column.definition.topCalc || this.column.definition.bottomCalc) {\r\n\r\n\t\t\t\tif (this.table.options.groupBy && this.table.modExists(\"groupRows\")) {\r\n\r\n\t\t\t\t\tif (this.table.options.columnCalcs == \"table\" || this.table.options.columnCalcs == \"both\") {\r\n\r\n\t\t\t\t\t\tthis.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (this.table.options.columnCalcs != \"table\") {\r\n\r\n\t\t\t\t\t\tthis.table.modules.columnCalcs.recalcRowGroup(this.row);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn changed;\r\n\t};\r\n\r\n\tCell.prototype.setValueActual = function (value) {\r\n\r\n\t\tthis.oldValue = this.value;\r\n\r\n\t\tthis.value = value;\r\n\r\n\t\tif (this.table.options.reactiveData && this.table.modExists(\"reactiveData\")) {\r\n\r\n\t\t\tthis.table.modules.reactiveData.block();\r\n\t\t}\r\n\r\n\t\tthis.column.setFieldValue(this.row.data, value);\r\n\r\n\t\tif (this.table.options.reactiveData && this.table.modExists(\"reactiveData\")) {\r\n\r\n\t\t\tthis.table.modules.reactiveData.unblock();\r\n\t\t}\r\n\r\n\t\tif (this.loaded) {\r\n\r\n\t\t\tthis.layoutElement();\r\n\t\t}\r\n\t};\r\n\r\n\tCell.prototype.layoutElement = function () {\r\n\r\n\t\tthis._generateContents();\r\n\r\n\t\tthis._generateTooltip();\r\n\r\n\t\t//set resizable handles\r\n\r\n\t\tif (this.table.options.resizableColumns && this.table.modExists(\"resizeColumns\") && this.row.type === \"row\") {\r\n\r\n\t\t\tthis.table.modules.resizeColumns.initializeColumn(\"cell\", this.column, this.element);\r\n\t\t}\r\n\r\n\t\tif ((this.column.definition.contextMenu || this.column.definition.clickMenu) && this.table.modExists(\"menu\")) {\r\n\r\n\t\t\tthis.table.modules.menu.initializeCell(this);\r\n\t\t}\r\n\r\n\t\t//handle frozen cells\r\n\r\n\t\tif (this.table.modExists(\"frozenColumns\")) {\r\n\r\n\t\t\tthis.table.modules.frozenColumns.layoutElement(this.element, this.column);\r\n\t\t}\r\n\t};\r\n\r\n\tCell.prototype.setWidth = function () {\r\n\r\n\t\tthis.width = this.column.width;\r\n\r\n\t\tthis.element.style.width = this.column.widthStyled;\r\n\t};\r\n\r\n\tCell.prototype.clearWidth = function () {\r\n\r\n\t\tthis.width = \"\";\r\n\r\n\t\tthis.element.style.width = \"\";\r\n\t};\r\n\r\n\tCell.prototype.getWidth = function () {\r\n\r\n\t\treturn this.width || this.element.offsetWidth;\r\n\t};\r\n\r\n\tCell.prototype.setMinWidth = function () {\r\n\r\n\t\tthis.minWidth = this.column.minWidth;\r\n\r\n\t\tthis.element.style.minWidth = this.column.minWidthStyled;\r\n\t};\r\n\r\n\tCell.prototype.setMaxWidth = function () {\r\n\r\n\t\tthis.maxWidth = this.column.maxWidth;\r\n\r\n\t\tthis.element.style.maxWidth = this.column.maxWidthStyled;\r\n\t};\r\n\r\n\tCell.prototype.checkHeight = function () {\r\n\r\n\t\t// var height = this.element.css(\"height\");\r\n\r\n\t\tthis.row.reinitializeHeight();\r\n\t};\r\n\r\n\tCell.prototype.clearHeight = function () {\r\n\r\n\t\tthis.element.style.height = \"\";\r\n\r\n\t\tthis.height = null;\r\n\t};\r\n\r\n\tCell.prototype.setHeight = function () {\r\n\r\n\t\tthis.height = this.row.height;\r\n\r\n\t\tthis.element.style.height = this.row.heightStyled;\r\n\t};\r\n\r\n\tCell.prototype.getHeight = function () {\r\n\r\n\t\treturn this.height || this.element.offsetHeight;\r\n\t};\r\n\r\n\tCell.prototype.show = function () {\r\n\r\n\t\tthis.element.style.display = this.column.vertAlign ? \"inline-flex\" : \"\";\r\n\t};\r\n\r\n\tCell.prototype.hide = function () {\r\n\r\n\t\tthis.element.style.display = \"none\";\r\n\t};\r\n\r\n\tCell.prototype.edit = function (force) {\r\n\r\n\t\tif (this.table.modExists(\"edit\", true)) {\r\n\r\n\t\t\treturn this.table.modules.edit.editCell(this, force);\r\n\t\t}\r\n\t};\r\n\r\n\tCell.prototype.cancelEdit = function () {\r\n\r\n\t\tif (this.table.modExists(\"edit\", true)) {\r\n\r\n\t\t\tvar editing = this.table.modules.edit.getCurrentCell();\r\n\r\n\t\t\tif (editing && editing._getSelf() === this) {\r\n\r\n\t\t\t\tthis.table.modules.edit.cancelEdit();\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn(\"Cancel Editor Error - This cell is not currently being edited \");\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tCell.prototype.validate = function () {\r\n\r\n\t\tif (this.column.modules.validate && this.table.modExists(\"validate\", true)) {\r\n\r\n\t\t\tvar valid = this.table.modules.validate.validate(this.column.modules.validate, this, this.getValue());\r\n\r\n\t\t\treturn valid === true;\r\n\t\t} else {\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\t};\r\n\r\n\tCell.prototype.delete = function () {\r\n\r\n\t\tif (!this.table.rowManager.redrawBlock && this.element.parentNode) {\r\n\r\n\t\t\tthis.element.parentNode.removeChild(this.element);\r\n\t\t}\r\n\r\n\t\tif (this.modules.validate && this.modules.validate.invalid) {\r\n\r\n\t\t\tthis.table.modules.validate.clearValidation(this);\r\n\t\t}\r\n\r\n\t\tif (this.modules.edit && this.modules.edit.edited) {\r\n\r\n\t\t\tthis.table.modules.edit.clearEdited(this);\r\n\t\t}\r\n\r\n\t\tif (this.table.options.history) {\r\n\r\n\t\t\tthis.table.modules.history.clearComponentHistory(this);\r\n\t\t}\r\n\r\n\t\tthis.element = false;\r\n\r\n\t\tthis.column.deleteCell(this);\r\n\r\n\t\tthis.row.deleteCell(this);\r\n\r\n\t\tthis.calcs = {};\r\n\t};\r\n\r\n\t//////////////// Navigation /////////////////\r\n\r\n\r\n\tCell.prototype.nav = function () {\r\n\r\n\t\tvar self = this,\r\n\t\t    nextCell = false,\r\n\t\t    index = this.row.getCellIndex(this);\r\n\r\n\t\treturn {\r\n\r\n\t\t\tnext: function next() {\r\n\r\n\t\t\t\tvar nextCell = this.right(),\r\n\t\t\t\t    nextRow;\r\n\r\n\t\t\t\tif (!nextCell) {\r\n\r\n\t\t\t\t\tnextRow = self.table.rowManager.nextDisplayRow(self.row, true);\r\n\r\n\t\t\t\t\tif (nextRow) {\r\n\r\n\t\t\t\t\t\tnextCell = nextRow.findNextEditableCell(-1);\r\n\r\n\t\t\t\t\t\tif (nextCell) {\r\n\r\n\t\t\t\t\t\t\tnextCell.edit();\r\n\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\r\n\t\t\tprev: function prev() {\r\n\r\n\t\t\t\tvar nextCell = this.left(),\r\n\t\t\t\t    prevRow;\r\n\r\n\t\t\t\tif (!nextCell) {\r\n\r\n\t\t\t\t\tprevRow = self.table.rowManager.prevDisplayRow(self.row, true);\r\n\r\n\t\t\t\t\tif (prevRow) {\r\n\r\n\t\t\t\t\t\tnextCell = prevRow.findPrevEditableCell(prevRow.cells.length);\r\n\r\n\t\t\t\t\t\tif (nextCell) {\r\n\r\n\t\t\t\t\t\t\tnextCell.edit();\r\n\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\r\n\t\t\tleft: function left() {\r\n\r\n\t\t\t\tnextCell = self.row.findPrevEditableCell(index);\r\n\r\n\t\t\t\tif (nextCell) {\r\n\r\n\t\t\t\t\tnextCell.edit();\r\n\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tright: function right() {\r\n\r\n\t\t\t\tnextCell = self.row.findNextEditableCell(index);\r\n\r\n\t\t\t\tif (nextCell) {\r\n\r\n\t\t\t\t\tnextCell.edit();\r\n\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tup: function up() {\r\n\r\n\t\t\t\tvar nextRow = self.table.rowManager.prevDisplayRow(self.row, true);\r\n\r\n\t\t\t\tif (nextRow) {\r\n\r\n\t\t\t\t\tnextRow.cells[index].edit();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tdown: function down() {\r\n\r\n\t\t\t\tvar nextRow = self.table.rowManager.nextDisplayRow(self.row, true);\r\n\r\n\t\t\t\tif (nextRow) {\r\n\r\n\t\t\t\t\tnextRow.cells[index].edit();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t};\r\n\t};\r\n\r\n\tCell.prototype.getIndex = function () {\r\n\r\n\t\tthis.row.getCellIndex(this);\r\n\t};\r\n\r\n\t//////////////// Object Generation /////////////////\r\n\r\n\tCell.prototype.getComponent = function () {\r\n\r\n\t\tif (!this.component) {\r\n\r\n\t\t\tthis.component = new CellComponent(this);\r\n\t\t}\r\n\r\n\t\treturn this.component;\r\n\t};\r\n\r\n\tvar FooterManager = function FooterManager(table) {\r\n\r\n\t\tthis.table = table;\r\n\r\n\t\tthis.active = false;\r\n\r\n\t\tthis.element = this.createElement(); //containing element\r\n\r\n\t\tthis.external = false;\r\n\r\n\t\tthis.links = [];\r\n\r\n\t\tthis._initialize();\r\n\t};\r\n\r\n\tFooterManager.prototype.createElement = function () {\r\n\r\n\t\tvar el = document.createElement(\"div\");\r\n\r\n\t\tel.classList.add(\"tabulator-footer\");\r\n\r\n\t\treturn el;\r\n\t};\r\n\r\n\tFooterManager.prototype._initialize = function (element) {\r\n\r\n\t\tif (this.table.options.footerElement) {\r\n\r\n\t\t\tswitch (_typeof(this.table.options.footerElement)) {\r\n\r\n\t\t\t\tcase \"string\":\r\n\r\n\t\t\t\t\tif (this.table.options.footerElement[0] === \"<\") {\r\n\r\n\t\t\t\t\t\tthis.element.innerHTML = this.table.options.footerElement;\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tthis.external = true;\r\n\r\n\t\t\t\t\t\tthis.element = document.querySelector(this.table.options.footerElement);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\r\n\t\t\t\t\tthis.element = this.table.options.footerElement;\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tFooterManager.prototype.getElement = function () {\r\n\r\n\t\treturn this.element;\r\n\t};\r\n\r\n\tFooterManager.prototype.append = function (element, parent) {\r\n\r\n\t\tthis.activate(parent);\r\n\r\n\t\tthis.element.appendChild(element);\r\n\r\n\t\tthis.table.rowManager.adjustTableSize();\r\n\t};\r\n\r\n\tFooterManager.prototype.prepend = function (element, parent) {\r\n\r\n\t\tthis.activate(parent);\r\n\r\n\t\tthis.element.insertBefore(element, this.element.firstChild);\r\n\r\n\t\tthis.table.rowManager.adjustTableSize();\r\n\t};\r\n\r\n\tFooterManager.prototype.remove = function (element) {\r\n\r\n\t\telement.parentNode.removeChild(element);\r\n\r\n\t\tthis.deactivate();\r\n\t};\r\n\r\n\tFooterManager.prototype.deactivate = function (force) {\r\n\r\n\t\tif (!this.element.firstChild || force) {\r\n\r\n\t\t\tif (!this.external) {\r\n\r\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\r\n\t\t\t}\r\n\r\n\t\t\tthis.active = false;\r\n\t\t}\r\n\r\n\t\t// this.table.rowManager.adjustTableSize();\r\n\t};\r\n\r\n\tFooterManager.prototype.activate = function (parent) {\r\n\r\n\t\tif (!this.active) {\r\n\r\n\t\t\tthis.active = true;\r\n\r\n\t\t\tif (!this.external) {\r\n\r\n\t\t\t\tthis.table.element.appendChild(this.getElement());\r\n\r\n\t\t\t\tthis.table.element.style.display = '';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (parent) {\r\n\r\n\t\t\tthis.links.push(parent);\r\n\t\t}\r\n\t};\r\n\r\n\tFooterManager.prototype.redraw = function () {\r\n\r\n\t\tthis.links.forEach(function (link) {\r\n\r\n\t\t\tlink.footerRedraw();\r\n\t\t});\r\n\t};\r\n\r\n\tvar Tabulator = function Tabulator(element, options) {\r\n\r\n\t\tthis.options = {};\r\n\r\n\t\tthis.columnManager = null; // hold Column Manager\r\n\r\n\t\tthis.rowManager = null; //hold Row Manager\r\n\r\n\t\tthis.footerManager = null; //holder Footer Manager\r\n\r\n\t\tthis.vdomHoz = null; //holder horizontal virtual dom\r\n\r\n\r\n\t\tthis.browser = \"\"; //hold current browser type\r\n\r\n\t\tthis.browserSlow = false; //handle reduced functionality for slower browsers\r\n\r\n\t\tthis.browserMobile = false; //check if running on moble, prevent resize cancelling edit on keyboard appearence\r\n\r\n\t\tthis.rtl = false; //check if the table is in RTL mode\r\n\r\n\r\n\t\tthis.modules = {}; //hold all modules bound to this table\r\n\r\n\r\n\t\tif (this.initializeElement(element)) {\r\n\r\n\t\t\tthis.initializeOptions(options || {});\r\n\r\n\t\t\tthis._create();\r\n\t\t}\r\n\r\n\t\tTabulator.prototype.comms.register(this); //register table for inderdevice communication\r\n\t};\r\n\r\n\t//default setup options\r\n\r\n\tTabulator.prototype.defaultOptions = {\r\n\r\n\t\theight: false, //height of tabulator\r\n\r\n\t\tminHeight: false, //minimum height of tabulator\r\n\r\n\t\tmaxHeight: false, //maximum height of tabulator\r\n\r\n\r\n\t\tlayout: \"fitData\", ///layout type \"fitColumns\" | \"fitData\"\r\n\r\n\t\tlayoutColumnsOnNewData: false, //update column widths on setData\r\n\r\n\r\n\t\tcolumnMinWidth: 40, //minimum global width for a column\r\n\r\n\t\tcolumnMaxWidth: false, //minimum global width for a column\r\n\r\n\t\tcolumnHeaderVertAlign: \"top\", //vertical alignment of column headers\r\n\r\n\t\tcolumnVertAlign: false, // DEPRECATED - Left to allow warning\r\n\r\n\r\n\t\tresizableColumns: true, //resizable columns\r\n\r\n\t\tresizableRows: false, //resizable rows\r\n\r\n\t\tautoResize: true, //auto resize table\r\n\r\n\r\n\t\tcolumns: [], //store for colum header info\r\n\r\n\r\n\t\tcellHozAlign: \"\", //horizontal align columns\r\n\r\n\t\tcellVertAlign: \"\", //vertical align columns\r\n\r\n\t\theaderHozAlign: \"\", //horizontal header alignment\r\n\r\n\r\n\t\tdata: [], //default starting data\r\n\r\n\r\n\t\tautoColumns: false, //build columns from data row structure\r\n\r\n\t\tautoColumnsDefinitions: false,\r\n\r\n\t\treactiveData: false, //enable data reactivity\r\n\r\n\r\n\t\tnestedFieldSeparator: \".\", //seperatpr for nested data\r\n\r\n\r\n\t\ttooltips: false, //Tool tip value\r\n\r\n\t\ttooltipsHeader: false, //Tool tip for headers\r\n\r\n\t\ttooltipGenerationMode: \"load\", //when to generate tooltips\r\n\r\n\r\n\t\tinitialSort: false, //initial sorting criteria\r\n\r\n\t\tinitialFilter: false, //initial filtering criteria\r\n\r\n\t\tinitialHeaderFilter: false, //initial header filtering criteria\r\n\r\n\r\n\t\tcolumnHeaderSortMulti: true, //multiple or single column sorting\r\n\r\n\r\n\t\tsortOrderReverse: false, //reverse internal sort ordering\r\n\r\n\r\n\t\theaderSort: true, //set default global header sort\r\n\r\n\t\theaderSortTristate: false, //set default tristate header sorting\r\n\r\n\t\theaderSortElement: \"<div class='tabulator-arrow'></div>\", //header sort element\r\n\r\n\r\n\t\tfooterElement: false, //hold footer element\r\n\r\n\r\n\t\tindex: \"id\", //filed for row index\r\n\r\n\r\n\t\ttextDirection: \"auto\",\r\n\r\n\t\tkeybindings: [], //array for keybindings\r\n\r\n\r\n\t\ttabEndNewRow: false, //create new row when tab to end of table\r\n\r\n\r\n\t\tinvalidOptionWarnings: true, //allow toggling of invalid option warnings\r\n\r\n\r\n\t\tclipboard: false, //enable clipboard\r\n\r\n\t\tclipboardCopyStyled: true, //formatted table data\r\n\r\n\t\tclipboardCopyConfig: false, //clipboard config\r\n\r\n\t\tclipboardCopyFormatter: false, //DEPRICATED - REMOVE in 5.0\r\n\r\n\t\tclipboardCopyRowRange: \"active\", //restrict clipboard to visible rows only\r\n\r\n\t\tclipboardPasteParser: \"table\", //convert pasted clipboard data to rows\r\n\r\n\t\tclipboardPasteAction: \"insert\", //how to insert pasted data into the table\r\n\r\n\r\n\t\tclipboardCopied: function clipboardCopied() {}, //data has been copied to the clipboard\r\n\r\n\t\tclipboardPasted: function clipboardPasted() {}, //data has been pasted into the table\r\n\r\n\t\tclipboardPasteError: function clipboardPasteError() {}, //data has not successfully been pasted into the table\r\n\r\n\r\n\t\tdownloadDataFormatter: false, //function to manipulate table data before it is downloaded\r\n\r\n\t\tdownloadReady: function downloadReady(data, blob) {\r\n\t\t\treturn blob;\r\n\t\t}, //function to manipulate download data\r\n\r\n\t\tdownloadComplete: false, //function to manipulate download data\r\n\r\n\t\tdownloadConfig: {}, //download config\r\n\r\n\t\tdownloadRowRange: \"active\", //restrict download to active rows only\r\n\r\n\r\n\t\tdataTree: false, //enable data tree\r\n\r\n\t\tdataTreeFilter: true, //filter child rows\r\n\r\n\t\tdataTreeSort: true, //sort child rows\r\n\r\n\t\tdataTreeElementColumn: false,\r\n\r\n\t\tdataTreeBranchElement: true, //show data tree branch element\r\n\r\n\t\tdataTreeChildIndent: 9, //data tree child indent in px\r\n\r\n\t\tdataTreeChildField: \"_children\", //data tre column field to look for child rows\r\n\r\n\t\tdataTreeCollapseElement: false, //data tree row collapse element\r\n\r\n\t\tdataTreeExpandElement: false, //data tree row expand element\r\n\r\n\t\tdataTreeStartExpanded: false,\r\n\r\n\t\tdataTreeRowExpanded: function dataTreeRowExpanded() {}, //row has been expanded\r\n\r\n\t\tdataTreeRowCollapsed: function dataTreeRowCollapsed() {}, //row has been collapsed\r\n\r\n\t\tdataTreeChildColumnCalcs: false, //include visible data tree rows in column calculations\r\n\r\n\t\tdataTreeSelectPropagate: false, //seleccting a parent row selects its children\r\n\r\n\r\n\t\tprintAsHtml: false, //enable print as html\r\n\r\n\t\tprintFormatter: false, //printing page formatter\r\n\r\n\t\tprintHeader: false, //page header contents\r\n\r\n\t\tprintFooter: false, //page footer contents\r\n\r\n\t\tprintCopyStyle: true, //DEPRICATED - REMOVE in 5.0\r\n\r\n\t\tprintStyled: true, //enable print as html styling\r\n\r\n\t\tprintVisibleRows: true, //DEPRICATED - REMOVE in 5.0\r\n\r\n\t\tprintRowRange: \"visible\", //restrict print to visible rows only\r\n\r\n\t\tprintConfig: {}, //print config options\r\n\r\n\r\n\t\taddRowPos: \"bottom\", //position to insert blank rows, top|bottom\r\n\r\n\r\n\t\tselectable: \"highlight\", //highlight rows on hover\r\n\r\n\t\tselectableRangeMode: \"drag\", //highlight rows on hover\r\n\r\n\t\tselectableRollingSelection: true, //roll selection once maximum number of selectable rows is reached\r\n\r\n\t\tselectablePersistence: true, // maintain selection when table view is updated\r\n\r\n\t\tselectableCheck: function selectableCheck(data, row) {\r\n\t\t\treturn true;\r\n\t\t}, //check wheather row is selectable\r\n\r\n\r\n\t\theaderFilterLiveFilterDelay: 300, //delay before updating column after user types in header filter\r\n\r\n\t\theaderFilterPlaceholder: false, //placeholder text to display in header filters\r\n\r\n\r\n\t\theaderVisible: true, //hide header\r\n\r\n\r\n\t\thistory: false, //enable edit history\r\n\r\n\r\n\t\tlocale: false, //current system language\r\n\r\n\t\tlangs: {},\r\n\r\n\t\tvirtualDom: true, //enable DOM virtualization\r\n\r\n\t\tvirtualDomBuffer: 0, // set virtual DOM buffer size\r\n\r\n\t\tvirtualDomHoz: false, //enable horizontal DOM virtualization\r\n\r\n\r\n\t\tpersistentLayout: false, //DEPRICATED - REMOVE in 5.0\r\n\r\n\t\tpersistentSort: false, //DEPRICATED - REMOVE in 5.0\r\n\r\n\t\tpersistentFilter: false, //DEPRICATED - REMOVE in 5.0\r\n\r\n\t\tpersistenceID: \"\", //key for persistent storage\r\n\r\n\t\tpersistenceMode: true, //mode for storing persistence information\r\n\r\n\t\tpersistenceReaderFunc: false, //function for handling persistence data reading\r\n\r\n\t\tpersistenceWriterFunc: false, //function for handling persistence data writing\r\n\r\n\r\n\t\tpersistence: false,\r\n\r\n\t\tresponsiveLayout: false, //responsive layout flags\r\n\r\n\t\tresponsiveLayoutCollapseStartOpen: true, //start showing collapsed data\r\n\r\n\t\tresponsiveLayoutCollapseUseFormatters: true, //responsive layout collapse formatter\r\n\r\n\t\tresponsiveLayoutCollapseFormatter: false, //responsive layout collapse formatter\r\n\r\n\r\n\t\tpagination: false, //set pagination type\r\n\r\n\t\tpaginationSize: false, //set number of rows to a page\r\n\r\n\t\tpaginationInitialPage: 1, //initail page to show on load\r\n\r\n\t\tpaginationButtonCount: 5, // set count of page button\r\n\r\n\t\tpaginationSizeSelector: false, //add pagination size selector element\r\n\r\n\t\tpaginationElement: false, //element to hold pagination numbers\r\n\r\n\t\tpaginationDataSent: {}, //pagination data sent to the server\r\n\r\n\t\tpaginationDataReceived: {}, //pagination data received from the server\r\n\r\n\t\tpaginationAddRow: \"page\", //add rows on table or page\r\n\r\n\r\n\t\tajaxURL: false, //url for ajax loading\r\n\r\n\t\tajaxURLGenerator: false,\r\n\r\n\t\tajaxParams: {}, //params for ajax loading\r\n\r\n\t\tajaxConfig: \"get\", //ajax request type\r\n\r\n\t\tajaxContentType: \"form\", //ajax request type\r\n\r\n\t\tajaxRequestFunc: false, //promise function\r\n\r\n\t\tajaxLoader: true, //show loader\r\n\r\n\t\tajaxLoaderLoading: false, //loader element\r\n\r\n\t\tajaxLoaderError: false, //loader element\r\n\r\n\t\tajaxFiltering: false,\r\n\r\n\t\tajaxSorting: false,\r\n\r\n\t\tajaxProgressiveLoad: false, //progressive loading\r\n\r\n\t\tajaxProgressiveLoadDelay: 0, //delay between requests\r\n\r\n\t\tajaxProgressiveLoadScrollMargin: 0, //margin before scroll begins\r\n\r\n\r\n\t\tgroupBy: false, //enable table grouping and set field to group by\r\n\r\n\t\tgroupStartOpen: true, //starting state of group\r\n\r\n\t\tgroupValues: false,\r\n\r\n\t\tgroupUpdateOnCellEdit: false,\r\n\r\n\t\tgroupHeader: false, //header generation function\r\n\r\n\t\tgroupHeaderPrint: null,\r\n\r\n\t\tgroupHeaderClipboard: null,\r\n\r\n\t\tgroupHeaderHtmlOutput: null,\r\n\r\n\t\tgroupHeaderDownload: null,\r\n\r\n\t\thtmlOutputConfig: false, //html outypu config\r\n\r\n\r\n\t\tmovableColumns: false, //enable movable columns\r\n\r\n\r\n\t\tmovableRows: false, //enable movable rows\r\n\r\n\t\tmovableRowsConnectedTables: false, //tables for movable rows to be connected to\r\n\r\n\t\tmovableRowsConnectedElements: false, //other elements for movable rows to be connected to\r\n\r\n\t\tmovableRowsSender: false,\r\n\r\n\t\tmovableRowsReceiver: \"insert\",\r\n\r\n\t\tmovableRowsSendingStart: function movableRowsSendingStart() {},\r\n\r\n\t\tmovableRowsSent: function movableRowsSent() {},\r\n\r\n\t\tmovableRowsSentFailed: function movableRowsSentFailed() {},\r\n\r\n\t\tmovableRowsSendingStop: function movableRowsSendingStop() {},\r\n\r\n\t\tmovableRowsReceivingStart: function movableRowsReceivingStart() {},\r\n\r\n\t\tmovableRowsReceived: function movableRowsReceived() {},\r\n\r\n\t\tmovableRowsReceivedFailed: function movableRowsReceivedFailed() {},\r\n\r\n\t\tmovableRowsReceivingStop: function movableRowsReceivingStop() {},\r\n\r\n\t\tmovableRowsElementDrop: function movableRowsElementDrop() {},\r\n\r\n\t\tscrollToRowPosition: \"top\",\r\n\r\n\t\tscrollToRowIfVisible: true,\r\n\r\n\t\tscrollToColumnPosition: \"left\",\r\n\r\n\t\tscrollToColumnIfVisible: true,\r\n\r\n\t\trowFormatter: false,\r\n\r\n\t\trowFormatterPrint: null,\r\n\r\n\t\trowFormatterClipboard: null,\r\n\r\n\t\trowFormatterHtmlOutput: null,\r\n\r\n\t\tplaceholder: false,\r\n\r\n\t\t//table building callbacks\r\n\r\n\t\ttableBuilding: function tableBuilding() {},\r\n\r\n\t\ttableBuilt: function tableBuilt() {},\r\n\r\n\t\t//render callbacks\r\n\r\n\t\trenderStarted: function renderStarted() {},\r\n\r\n\t\trenderComplete: function renderComplete() {},\r\n\r\n\t\t//row callbacks\r\n\r\n\t\trowClick: false,\r\n\r\n\t\trowDblClick: false,\r\n\r\n\t\trowContext: false,\r\n\r\n\t\trowTap: false,\r\n\r\n\t\trowDblTap: false,\r\n\r\n\t\trowTapHold: false,\r\n\r\n\t\trowMouseEnter: false,\r\n\r\n\t\trowMouseLeave: false,\r\n\r\n\t\trowMouseOver: false,\r\n\r\n\t\trowMouseOut: false,\r\n\r\n\t\trowMouseMove: false,\r\n\r\n\t\trowContextMenu: false,\r\n\r\n\t\trowClickMenu: false,\r\n\r\n\t\trowAdded: function rowAdded() {},\r\n\r\n\t\trowDeleted: function rowDeleted() {},\r\n\r\n\t\trowMoved: function rowMoved() {},\r\n\r\n\t\trowUpdated: function rowUpdated() {},\r\n\r\n\t\trowSelectionChanged: function rowSelectionChanged() {},\r\n\r\n\t\trowSelected: function rowSelected() {},\r\n\r\n\t\trowDeselected: function rowDeselected() {},\r\n\r\n\t\trowResized: function rowResized() {},\r\n\r\n\t\t//cell callbacks\r\n\r\n\t\t//row callbacks\r\n\r\n\t\tcellClick: false,\r\n\r\n\t\tcellDblClick: false,\r\n\r\n\t\tcellContext: false,\r\n\r\n\t\tcellTap: false,\r\n\r\n\t\tcellDblTap: false,\r\n\r\n\t\tcellTapHold: false,\r\n\r\n\t\tcellMouseEnter: false,\r\n\r\n\t\tcellMouseLeave: false,\r\n\r\n\t\tcellMouseOver: false,\r\n\r\n\t\tcellMouseOut: false,\r\n\r\n\t\tcellMouseMove: false,\r\n\r\n\t\tcellEditing: function cellEditing() {},\r\n\r\n\t\tcellEdited: function cellEdited() {},\r\n\r\n\t\tcellEditCancelled: function cellEditCancelled() {},\r\n\r\n\t\t//column callbacks\r\n\r\n\t\tcolumnMoved: false,\r\n\r\n\t\tcolumnResized: function columnResized() {},\r\n\r\n\t\tcolumnTitleChanged: function columnTitleChanged() {},\r\n\r\n\t\tcolumnVisibilityChanged: function columnVisibilityChanged() {},\r\n\r\n\t\t//HTML iport callbacks\r\n\r\n\t\thtmlImporting: function htmlImporting() {},\r\n\r\n\t\thtmlImported: function htmlImported() {},\r\n\r\n\t\t//data callbacks\r\n\r\n\t\tdataLoading: function dataLoading() {},\r\n\r\n\t\tdataLoaded: function dataLoaded() {},\r\n\r\n\t\tdataEdited: false, //DEPRECATED\r\n\r\n\t\tdataChanged: false,\r\n\r\n\t\t//ajax callbacks\r\n\r\n\t\tajaxRequesting: function ajaxRequesting() {},\r\n\r\n\t\tajaxResponse: false,\r\n\r\n\t\tajaxError: function ajaxError() {},\r\n\r\n\t\t//filtering callbacks\r\n\r\n\t\tdataFiltering: false,\r\n\r\n\t\tdataFiltered: false,\r\n\r\n\t\t//sorting callbacks\r\n\r\n\t\tdataSorting: function dataSorting() {},\r\n\r\n\t\tdataSorted: function dataSorted() {},\r\n\r\n\t\t//grouping callbacks\r\n\r\n\t\tgroupToggleElement: \"arrow\",\r\n\r\n\t\tgroupClosedShowCalcs: false,\r\n\r\n\t\tdataGrouping: function dataGrouping() {},\r\n\r\n\t\tdataGrouped: false,\r\n\r\n\t\tgroupVisibilityChanged: function groupVisibilityChanged() {},\r\n\r\n\t\tgroupClick: false,\r\n\r\n\t\tgroupDblClick: false,\r\n\r\n\t\tgroupContext: false,\r\n\r\n\t\tgroupContextMenu: false,\r\n\r\n\t\tgroupClickMenu: false,\r\n\r\n\t\tgroupTap: false,\r\n\r\n\t\tgroupDblTap: false,\r\n\r\n\t\tgroupTapHold: false,\r\n\r\n\t\tcolumnCalcs: true,\r\n\r\n\t\t//pagination callbacks\r\n\r\n\t\tpageLoaded: function pageLoaded() {},\r\n\r\n\t\t//localization callbacks\r\n\r\n\t\tlocalized: function localized() {},\r\n\r\n\t\t//validation callbacks\r\n\r\n\t\tvalidationMode: \"blocking\",\r\n\r\n\t\tvalidationFailed: function validationFailed() {},\r\n\r\n\t\t//history callbacks\r\n\r\n\t\thistoryUndo: function historyUndo() {},\r\n\r\n\t\thistoryRedo: function historyRedo() {},\r\n\r\n\t\t//scroll callbacks\r\n\r\n\t\tscrollHorizontal: function scrollHorizontal() {},\r\n\r\n\t\tscrollVertical: function scrollVertical() {}\r\n\r\n\t};\r\n\r\n\tTabulator.prototype.initializeOptions = function (options) {\r\n\r\n\t\t//warn user if option is not available\r\n\r\n\t\tif (options.invalidOptionWarnings !== false) {\r\n\r\n\t\t\tfor (var key in options) {\r\n\r\n\t\t\t\tif (typeof this.defaultOptions[key] === \"undefined\") {\r\n\r\n\t\t\t\t\tconsole.warn(\"Invalid table constructor option:\", key);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//assign options to table\r\n\r\n\t\tfor (var key in this.defaultOptions) {\r\n\r\n\t\t\tif (key in options) {\r\n\r\n\t\t\t\tthis.options[key] = options[key];\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (Array.isArray(this.defaultOptions[key])) {\r\n\r\n\t\t\t\t\tthis.options[key] = Object.assign([], this.defaultOptions[key]);\r\n\t\t\t\t} else if (_typeof(this.defaultOptions[key]) === \"object\" && this.defaultOptions[key] !== null) {\r\n\r\n\t\t\t\t\tthis.options[key] = Object.assign({}, this.defaultOptions[key]);\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis.options[key] = this.defaultOptions[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.initializeElement = function (element) {\r\n\r\n\t\tif (typeof HTMLElement !== \"undefined\" && element instanceof HTMLElement) {\r\n\r\n\t\t\tthis.element = element;\r\n\r\n\t\t\treturn true;\r\n\t\t} else if (typeof element === \"string\") {\r\n\r\n\t\t\tthis.element = document.querySelector(element);\r\n\r\n\t\t\tif (this.element) {\r\n\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.error(\"Tabulator Creation Error - no element found matching selector: \", element);\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t} else {\r\n\r\n\t\t\tconsole.error(\"Tabulator Creation Error - Invalid element provided:\", element);\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.rtlCheck = function () {\r\n\r\n\t\tvar style = window.getComputedStyle(this.element);\r\n\r\n\t\tswitch (this.options.textDirection) {\r\n\r\n\t\t\tcase \"auto\":\r\n\r\n\t\t\t\tif (style.direction !== \"rtl\") {\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t};\r\n\r\n\t\t\tcase \"rtl\":\r\n\r\n\t\t\t\tthis.element.classList.add(\"tabulator-rtl\");\r\n\r\n\t\t\t\tthis.rtl = true;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"ltr\":\r\n\r\n\t\t\t\tthis.element.classList.add(\"tabulator-ltr\");\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tthis.rtl = false;\r\n\r\n\t\t}\r\n\t};\r\n\r\n\t//convert depricated functionality to new functions\r\n\r\n\tTabulator.prototype._mapDepricatedFunctionality = function () {\r\n\r\n\t\t//map depricated persistance setup options\r\n\r\n\t\tif (this.options.persistentLayout || this.options.persistentSort || this.options.persistentFilter) {\r\n\r\n\t\t\tif (!this.options.persistence) {\r\n\r\n\t\t\t\tthis.options.persistence = {};\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.options.dataEdited) {\r\n\r\n\t\t\tconsole.warn(\"DEPRECATION WARNING - dataEdited option has been deprecated, please use the dataChanged option instead\");\r\n\r\n\t\t\tthis.options.dataChanged = this.options.dataEdited;\r\n\t\t}\r\n\r\n\t\tif (this.options.downloadDataFormatter) {\r\n\r\n\t\t\tconsole.warn(\"DEPRECATION WARNING - downloadDataFormatter option has been deprecated\");\r\n\t\t}\r\n\r\n\t\tif (typeof this.options.clipboardCopyHeader !== \"undefined\") {\r\n\r\n\t\t\tthis.options.columnHeaders = this.options.clipboardCopyHeader;\r\n\r\n\t\t\tconsole.warn(\"DEPRECATION WARNING - clipboardCopyHeader option has been deprecated, please use the columnHeaders property on the clipboardCopyConfig option\");\r\n\t\t}\r\n\r\n\t\tif (this.options.printVisibleRows !== true) {\r\n\r\n\t\t\tconsole.warn(\"printVisibleRows option is deprecated, you should now use the printRowRange option\");\r\n\r\n\t\t\tthis.options.persistence.printRowRange = \"active\";\r\n\t\t}\r\n\r\n\t\tif (this.options.printCopyStyle !== true) {\r\n\r\n\t\t\tconsole.warn(\"printCopyStyle option is deprecated, you should now use the printStyled option\");\r\n\r\n\t\t\tthis.options.persistence.printStyled = this.options.printCopyStyle;\r\n\t\t}\r\n\r\n\t\tif (this.options.persistentLayout) {\r\n\r\n\t\t\tconsole.warn(\"persistentLayout option is deprecated, you should now use the persistence option\");\r\n\r\n\t\t\tif (this.options.persistence !== true && typeof this.options.persistence.columns === \"undefined\") {\r\n\r\n\t\t\t\tthis.options.persistence.columns = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.options.persistentSort) {\r\n\r\n\t\t\tconsole.warn(\"persistentSort option is deprecated, you should now use the persistence option\");\r\n\r\n\t\t\tif (this.options.persistence !== true && typeof this.options.persistence.sort === \"undefined\") {\r\n\r\n\t\t\t\tthis.options.persistence.sort = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.options.persistentFilter) {\r\n\r\n\t\t\tconsole.warn(\"persistentFilter option is deprecated, you should now use the persistence option\");\r\n\r\n\t\t\tif (this.options.persistence !== true && typeof this.options.persistence.filter === \"undefined\") {\r\n\r\n\t\t\t\tthis.options.persistence.filter = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.options.columnVertAlign) {\r\n\r\n\t\t\tconsole.warn(\"columnVertAlign option is deprecated, you should now use the columnHeaderVertAlign option\");\r\n\r\n\t\t\tthis.options.columnHeaderVertAlign = this.options.columnVertAlign;\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype._clearSelection = function () {\r\n\r\n\t\tthis.element.classList.add(\"tabulator-block-select\");\r\n\r\n\t\tif (window.getSelection) {\r\n\r\n\t\t\tif (window.getSelection().empty) {\r\n\t\t\t\t// Chrome\r\n\r\n\t\t\t\twindow.getSelection().empty();\r\n\t\t\t} else if (window.getSelection().removeAllRanges) {\r\n\t\t\t\t// Firefox\r\n\r\n\t\t\t\twindow.getSelection().removeAllRanges();\r\n\t\t\t}\r\n\t\t} else if (document.selection) {\r\n\t\t\t// IE?\r\n\r\n\t\t\tdocument.selection.empty();\r\n\t\t}\r\n\r\n\t\tthis.element.classList.remove(\"tabulator-block-select\");\r\n\t};\r\n\r\n\t//concreate table\r\n\r\n\tTabulator.prototype._create = function () {\r\n\r\n\t\tthis._clearObjectPointers();\r\n\r\n\t\tthis._mapDepricatedFunctionality();\r\n\r\n\t\tthis.bindModules();\r\n\r\n\t\tthis.rtlCheck();\r\n\r\n\t\tif (this.element.tagName === \"TABLE\") {\r\n\r\n\t\t\tif (this.modExists(\"htmlTableImport\", true)) {\r\n\r\n\t\t\t\tthis.modules.htmlTableImport.parseTable();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.columnManager = new ColumnManager(this);\r\n\r\n\t\tthis.rowManager = new RowManager(this);\r\n\r\n\t\tthis.footerManager = new FooterManager(this);\r\n\r\n\t\tthis.columnManager.setRowManager(this.rowManager);\r\n\r\n\t\tthis.rowManager.setColumnManager(this.columnManager);\r\n\r\n\t\tif (this.options.virtualDomHoz) {\r\n\r\n\t\t\tthis.vdomHoz = new VDomHoz(this);\r\n\t\t}\r\n\r\n\t\tthis._buildElement();\r\n\r\n\t\tthis._loadInitialData();\r\n\t};\r\n\r\n\t//clear pointers to objects in default config object\r\n\r\n\tTabulator.prototype._clearObjectPointers = function () {\r\n\r\n\t\tthis.options.columns = this.options.columns.slice(0);\r\n\r\n\t\tif (!this.options.reactiveData) {\r\n\r\n\t\t\tthis.options.data = this.options.data.slice(0);\r\n\t\t}\r\n\t};\r\n\r\n\t//build tabulator element\r\n\r\n\tTabulator.prototype._buildElement = function () {\r\n\t\tvar _this24 = this;\r\n\r\n\t\tvar element = this.element,\r\n\t\t    mod = this.modules,\r\n\t\t    options = this.options;\r\n\r\n\t\toptions.tableBuilding.call(this);\r\n\r\n\t\telement.classList.add(\"tabulator\");\r\n\r\n\t\telement.setAttribute(\"role\", \"grid\");\r\n\r\n\t\t//empty element\r\n\r\n\t\twhile (element.firstChild) {\r\n\t\t\telement.removeChild(element.firstChild);\r\n\t\t} //set table height\r\n\r\n\t\tif (options.height) {\r\n\r\n\t\t\toptions.height = isNaN(options.height) ? options.height : options.height + \"px\";\r\n\r\n\t\t\telement.style.height = options.height;\r\n\t\t}\r\n\r\n\t\t//set table min height\r\n\r\n\t\tif (options.minHeight !== false) {\r\n\r\n\t\t\toptions.minHeight = isNaN(options.minHeight) ? options.minHeight : options.minHeight + \"px\";\r\n\r\n\t\t\telement.style.minHeight = options.minHeight;\r\n\t\t}\r\n\r\n\t\t//set table maxHeight\r\n\r\n\t\tif (options.maxHeight !== false) {\r\n\r\n\t\t\toptions.maxHeight = isNaN(options.maxHeight) ? options.maxHeight : options.maxHeight + \"px\";\r\n\r\n\t\t\telement.style.maxHeight = options.maxHeight;\r\n\t\t}\r\n\r\n\t\tthis.columnManager.initialize();\r\n\r\n\t\tthis.rowManager.initialize();\r\n\r\n\t\tthis._detectBrowser();\r\n\r\n\t\tif (this.modExists(\"layout\", true)) {\r\n\r\n\t\t\tmod.layout.initialize(options.layout);\r\n\t\t}\r\n\r\n\t\t//set localization\r\n\r\n\r\n\t\tmod.localize.initialize();\r\n\r\n\t\tif (options.headerFilterPlaceholder !== false) {\r\n\r\n\t\t\tmod.localize.setHeaderFilterPlaceholder(options.headerFilterPlaceholder);\r\n\t\t}\r\n\r\n\t\tfor (var locale in options.langs) {\r\n\r\n\t\t\tmod.localize.installLang(locale, options.langs[locale]);\r\n\t\t}\r\n\r\n\t\tmod.localize.setLocale(options.locale);\r\n\r\n\t\t//configure placeholder element\r\n\r\n\t\tif (typeof options.placeholder == \"string\") {\r\n\r\n\t\t\tvar el = document.createElement(\"div\");\r\n\r\n\t\t\tel.classList.add(\"tabulator-placeholder\");\r\n\r\n\t\t\tvar span = document.createElement(\"span\");\r\n\r\n\t\t\tspan.innerHTML = options.placeholder;\r\n\r\n\t\t\tel.appendChild(span);\r\n\r\n\t\t\toptions.placeholder = el;\r\n\t\t}\r\n\r\n\t\t//build table elements\r\n\r\n\t\telement.appendChild(this.columnManager.getElement());\r\n\r\n\t\telement.appendChild(this.rowManager.getElement());\r\n\r\n\t\tif (options.footerElement) {\r\n\r\n\t\t\tthis.footerManager.activate();\r\n\t\t}\r\n\r\n\t\tif (options.persistence && this.modExists(\"persistence\", true)) {\r\n\r\n\t\t\tmod.persistence.initialize();\r\n\t\t}\r\n\r\n\t\tif (options.movableRows && this.modExists(\"moveRow\")) {\r\n\r\n\t\t\tmod.moveRow.initialize();\r\n\t\t}\r\n\r\n\t\tif (options.autoColumns && this.options.data) {\r\n\r\n\t\t\tthis.columnManager.generateColumnsFromRowData(this.options.data);\r\n\t\t}\r\n\r\n\t\tif (this.modExists(\"columnCalcs\")) {\r\n\r\n\t\t\tmod.columnCalcs.initialize();\r\n\t\t}\r\n\r\n\t\tthis.columnManager.setColumns(options.columns);\r\n\r\n\t\tif (options.dataTree && this.modExists(\"dataTree\", true)) {\r\n\r\n\t\t\tmod.dataTree.initialize();\r\n\t\t}\r\n\r\n\t\tif (this.modExists(\"frozenRows\")) {\r\n\r\n\t\t\tthis.modules.frozenRows.initialize();\r\n\t\t}\r\n\r\n\t\tif ((options.persistence && this.modExists(\"persistence\", true) && mod.persistence.config.sort || options.initialSort) && this.modExists(\"sort\", true)) {\r\n\r\n\t\t\tvar sorters = [];\r\n\r\n\t\t\tif (options.persistence && this.modExists(\"persistence\", true) && mod.persistence.config.sort) {\r\n\r\n\t\t\t\tsorters = mod.persistence.load(\"sort\");\r\n\r\n\t\t\t\tif (sorters === false && options.initialSort) {\r\n\r\n\t\t\t\t\tsorters = options.initialSort;\r\n\t\t\t\t}\r\n\t\t\t} else if (options.initialSort) {\r\n\r\n\t\t\t\tsorters = options.initialSort;\r\n\t\t\t}\r\n\r\n\t\t\tmod.sort.setSort(sorters);\r\n\t\t}\r\n\r\n\t\tif ((options.persistence && this.modExists(\"persistence\", true) && mod.persistence.config.filter || options.initialFilter) && this.modExists(\"filter\", true)) {\r\n\r\n\t\t\tvar filters = [];\r\n\r\n\t\t\tif (options.persistence && this.modExists(\"persistence\", true) && mod.persistence.config.filter) {\r\n\r\n\t\t\t\tfilters = mod.persistence.load(\"filter\");\r\n\r\n\t\t\t\tif (filters === false && options.initialFilter) {\r\n\r\n\t\t\t\t\tfilters = options.initialFilter;\r\n\t\t\t\t}\r\n\t\t\t} else if (options.initialFilter) {\r\n\r\n\t\t\t\tfilters = options.initialFilter;\r\n\t\t\t}\r\n\r\n\t\t\tmod.filter.setFilter(filters);\r\n\t\t}\r\n\r\n\t\tif (options.initialHeaderFilter && this.modExists(\"filter\", true)) {\r\n\r\n\t\t\toptions.initialHeaderFilter.forEach(function (item) {\r\n\r\n\t\t\t\tvar column = _this24.columnManager.findColumn(item.field);\r\n\r\n\t\t\t\tif (column) {\r\n\r\n\t\t\t\t\tmod.filter.setHeaderFilterValue(column, item.value);\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.warn(\"Column Filter Error - No matching column found:\", item.field);\r\n\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (this.modExists(\"ajax\")) {\r\n\r\n\t\t\tmod.ajax.initialize();\r\n\t\t}\r\n\r\n\t\tif (options.pagination && this.modExists(\"page\", true)) {\r\n\r\n\t\t\tmod.page.initialize();\r\n\t\t}\r\n\r\n\t\tif (options.groupBy && this.modExists(\"groupRows\", true)) {\r\n\r\n\t\t\tmod.groupRows.initialize();\r\n\t\t}\r\n\r\n\t\tif (this.modExists(\"keybindings\")) {\r\n\r\n\t\t\tmod.keybindings.initialize();\r\n\t\t}\r\n\r\n\t\tif (this.modExists(\"selectRow\")) {\r\n\r\n\t\t\tmod.selectRow.clearSelectionData(true);\r\n\t\t}\r\n\r\n\t\tif (options.autoResize && this.modExists(\"resizeTable\")) {\r\n\r\n\t\t\tmod.resizeTable.initialize();\r\n\t\t}\r\n\r\n\t\tif (this.modExists(\"clipboard\")) {\r\n\r\n\t\t\tmod.clipboard.initialize();\r\n\t\t}\r\n\r\n\t\tif (options.printAsHtml && this.modExists(\"print\")) {\r\n\r\n\t\t\tmod.print.initialize();\r\n\t\t}\r\n\r\n\t\toptions.tableBuilt.call(this);\r\n\t};\r\n\r\n\tTabulator.prototype._loadInitialData = function () {\r\n\r\n\t\tvar self = this;\r\n\r\n\t\tif (self.options.pagination && self.modExists(\"page\")) {\r\n\r\n\t\t\tself.modules.page.reset(true, true);\r\n\r\n\t\t\tif (self.options.pagination == \"local\") {\r\n\r\n\t\t\t\tif (self.options.data.length) {\r\n\r\n\t\t\t\t\tself.rowManager.setData(self.options.data, false, true);\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ((self.options.ajaxURL || self.options.ajaxURLGenerator) && self.modExists(\"ajax\")) {\r\n\r\n\t\t\t\t\t\tself.modules.ajax.loadData(false, true).then(function () {}).catch(function () {\r\n\r\n\t\t\t\t\t\t\tif (self.options.paginationInitialPage) {\r\n\r\n\t\t\t\t\t\t\t\tself.modules.page.setPage(self.options.paginationInitialPage);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tself.rowManager.setData(self.options.data, false, true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (self.options.paginationInitialPage) {\r\n\r\n\t\t\t\t\tself.modules.page.setPage(self.options.paginationInitialPage);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (self.options.ajaxURL) {\r\n\r\n\t\t\t\t\tself.modules.page.setPage(self.options.paginationInitialPage).then(function () {}).catch(function () {});\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tself.rowManager.setData([], false, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\r\n\t\t\tif (self.options.data.length) {\r\n\r\n\t\t\t\tself.rowManager.setData(self.options.data);\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ((self.options.ajaxURL || self.options.ajaxURLGenerator) && self.modExists(\"ajax\")) {\r\n\r\n\t\t\t\t\tself.modules.ajax.loadData(false, true).then(function () {}).catch(function () {});\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tself.rowManager.setData(self.options.data, false, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//deconstructor\r\n\r\n\tTabulator.prototype.destroy = function () {\r\n\r\n\t\tvar element = this.element;\r\n\r\n\t\tTabulator.prototype.comms.deregister(this); //deregister table from inderdevice communication\r\n\r\n\r\n\t\tif (this.options.reactiveData && this.modExists(\"reactiveData\", true)) {\r\n\r\n\t\t\tthis.modules.reactiveData.unwatchData();\r\n\t\t}\r\n\r\n\t\t//clear row data\r\n\r\n\t\tthis.rowManager.rows.forEach(function (row) {\r\n\r\n\t\t\trow.wipe();\r\n\t\t});\r\n\r\n\t\tthis.rowManager.rows = [];\r\n\r\n\t\tthis.rowManager.activeRows = [];\r\n\r\n\t\tthis.rowManager.displayRows = [];\r\n\r\n\t\t//clear event bindings\r\n\r\n\t\tif (this.options.autoResize && this.modExists(\"resizeTable\")) {\r\n\r\n\t\t\tthis.modules.resizeTable.clearBindings();\r\n\t\t}\r\n\r\n\t\tif (this.modExists(\"keybindings\")) {\r\n\r\n\t\t\tthis.modules.keybindings.clearBindings();\r\n\t\t}\r\n\r\n\t\t//clear DOM\r\n\r\n\t\twhile (element.firstChild) {\r\n\t\t\telement.removeChild(element.firstChild);\r\n\t\t}element.classList.remove(\"tabulator\");\r\n\t};\r\n\r\n\tTabulator.prototype._detectBrowser = function () {\r\n\r\n\t\tvar ua = navigator.userAgent || navigator.vendor || window.opera;\r\n\r\n\t\tif (ua.indexOf(\"Trident\") > -1) {\r\n\r\n\t\t\tthis.browser = \"ie\";\r\n\r\n\t\t\tthis.browserSlow = true;\r\n\t\t} else if (ua.indexOf(\"Edge\") > -1) {\r\n\r\n\t\t\tthis.browser = \"edge\";\r\n\r\n\t\t\tthis.browserSlow = true;\r\n\t\t} else if (ua.indexOf(\"Firefox\") > -1) {\r\n\r\n\t\t\tthis.browser = \"firefox\";\r\n\r\n\t\t\tthis.browserSlow = false;\r\n\t\t} else {\r\n\r\n\t\t\tthis.browser = \"other\";\r\n\r\n\t\t\tthis.browserSlow = false;\r\n\t\t}\r\n\r\n\t\tthis.browserMobile = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(ua) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(ua.substr(0, 4));\r\n\t};\r\n\r\n\t////////////////// Data Handling //////////////////\r\n\r\n\r\n\t//block table redrawing\r\n\r\n\tTabulator.prototype.blockRedraw = function () {\r\n\r\n\t\treturn this.rowManager.blockRedraw();\r\n\t};\r\n\r\n\t//restore table redrawing\r\n\r\n\tTabulator.prototype.restoreRedraw = function () {\r\n\r\n\t\treturn this.rowManager.restoreRedraw();\r\n\t};\r\n\r\n\t//local data from local file\r\n\r\n\tTabulator.prototype.setDataFromLocalFile = function (extensions) {\r\n\t\tvar _this25 = this;\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\tvar input = document.createElement(\"input\");\r\n\r\n\t\t\tinput.type = \"file\";\r\n\r\n\t\t\tinput.accept = extensions || \".json,application/json\";\r\n\r\n\t\t\tinput.addEventListener(\"change\", function (e) {\r\n\r\n\t\t\t\tvar file = input.files[0],\r\n\t\t\t\t    reader = new FileReader(),\r\n\t\t\t\t    data;\r\n\r\n\t\t\t\treader.readAsText(file);\r\n\r\n\t\t\t\treader.onload = function (e) {\r\n\r\n\t\t\t\t\ttry {\r\n\r\n\t\t\t\t\t\tdata = JSON.parse(reader.result);\r\n\t\t\t\t\t} catch (e) {\r\n\r\n\t\t\t\t\t\tconsole.warn(\"File Load Error - File contents is invalid JSON\", e);\r\n\r\n\t\t\t\t\t\treject(e);\r\n\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t_this25.setData(data).then(function (data) {\r\n\r\n\t\t\t\t\t\tresolve(data);\r\n\t\t\t\t\t}).catch(function (err) {\r\n\r\n\t\t\t\t\t\tresolve(err);\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\r\n\t\t\t\treader.onerror = function (e) {\r\n\r\n\t\t\t\t\tconsole.warn(\"File Load Error - Unable to read file\");\r\n\r\n\t\t\t\t\treject();\r\n\t\t\t\t};\r\n\t\t\t});\r\n\r\n\t\t\tinput.click();\r\n\t\t});\r\n\t};\r\n\r\n\t//load data\r\n\r\n\tTabulator.prototype.setData = function (data, params, config) {\r\n\r\n\t\tif (this.modExists(\"ajax\")) {\r\n\r\n\t\t\tthis.modules.ajax.blockActiveRequest();\r\n\t\t}\r\n\r\n\t\treturn this._setData(data, params, config, false, true);\r\n\t};\r\n\r\n\tTabulator.prototype._setData = function (data, params, config, inPosition, columnsChanged) {\r\n\r\n\t\tvar self = this;\r\n\r\n\t\tif (typeof data === \"string\") {\r\n\r\n\t\t\tif (data.indexOf(\"{\") == 0 || data.indexOf(\"[\") == 0) {\r\n\r\n\t\t\t\t//data is a json encoded string\r\n\r\n\t\t\t\treturn self.rowManager.setData(JSON.parse(data), inPosition, columnsChanged);\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (self.modExists(\"ajax\", true)) {\r\n\r\n\t\t\t\t\tif (params) {\r\n\r\n\t\t\t\t\t\tself.modules.ajax.setParams(params);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (config) {\r\n\r\n\t\t\t\t\t\tself.modules.ajax.setConfig(config);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tself.modules.ajax.setUrl(data);\r\n\r\n\t\t\t\t\tif (self.options.pagination == \"remote\" && self.modExists(\"page\", true)) {\r\n\r\n\t\t\t\t\t\tself.modules.page.reset(true, true);\r\n\r\n\t\t\t\t\t\treturn self.modules.page.setPage(1);\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t//assume data is url, make ajax call to url to get data\r\n\r\n\t\t\t\t\t\treturn self.modules.ajax.loadData(inPosition, columnsChanged);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\r\n\t\t\tif (data) {\r\n\r\n\t\t\t\t//asume data is already an object\r\n\r\n\t\t\t\treturn self.rowManager.setData(data, inPosition, columnsChanged);\r\n\t\t\t} else {\r\n\r\n\t\t\t\t//no data provided, check if ajaxURL is present;\r\n\r\n\t\t\t\tif (self.modExists(\"ajax\") && (self.modules.ajax.getUrl || self.options.ajaxURLGenerator)) {\r\n\r\n\t\t\t\t\tif (self.options.pagination == \"remote\" && self.modExists(\"page\", true)) {\r\n\r\n\t\t\t\t\t\tself.modules.page.reset(true, true);\r\n\r\n\t\t\t\t\t\treturn self.modules.page.setPage(1);\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\treturn self.modules.ajax.loadData(inPosition, columnsChanged);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t//empty data\r\n\r\n\t\t\t\t\treturn self.rowManager.setData([], inPosition, columnsChanged);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//clear data\r\n\r\n\tTabulator.prototype.clearData = function () {\r\n\r\n\t\tif (this.modExists(\"ajax\")) {\r\n\r\n\t\t\tthis.modules.ajax.blockActiveRequest();\r\n\t\t}\r\n\r\n\t\tthis.rowManager.clearData();\r\n\t};\r\n\r\n\t//get table data array\r\n\r\n\tTabulator.prototype.getData = function (active) {\r\n\r\n\t\tif (active === true) {\r\n\r\n\t\t\tconsole.warn(\"passing a boolean to the getData function is deprecated, you should now pass the string 'active'\");\r\n\r\n\t\t\tactive = \"active\";\r\n\t\t}\r\n\r\n\t\treturn this.rowManager.getData(active);\r\n\t};\r\n\r\n\t//get table data array count\r\n\r\n\tTabulator.prototype.getDataCount = function (active) {\r\n\r\n\t\tif (active === true) {\r\n\r\n\t\t\tconsole.warn(\"passing a boolean to the getDataCount function is deprecated, you should now pass the string 'active'\");\r\n\r\n\t\t\tactive = \"active\";\r\n\t\t}\r\n\r\n\t\treturn this.rowManager.getDataCount(active);\r\n\t};\r\n\r\n\t//search for specific row components\r\n\r\n\tTabulator.prototype.searchRows = function (field, type, value) {\r\n\r\n\t\tif (this.modExists(\"filter\", true)) {\r\n\r\n\t\t\treturn this.modules.filter.search(\"rows\", field, type, value);\r\n\t\t}\r\n\t};\r\n\r\n\t//search for specific data\r\n\r\n\tTabulator.prototype.searchData = function (field, type, value) {\r\n\r\n\t\tif (this.modExists(\"filter\", true)) {\r\n\r\n\t\t\treturn this.modules.filter.search(\"data\", field, type, value);\r\n\t\t}\r\n\t};\r\n\r\n\t//get table html\r\n\r\n\tTabulator.prototype.getHtml = function (visible, style, config) {\r\n\r\n\t\tif (this.modExists(\"export\", true)) {\r\n\r\n\t\t\treturn this.modules.export.getHtml(visible, style, config);\r\n\t\t}\r\n\t};\r\n\r\n\t//get print html\r\n\r\n\tTabulator.prototype.print = function (visible, style, config) {\r\n\r\n\t\tif (this.modExists(\"print\", true)) {\r\n\r\n\t\t\treturn this.modules.print.printFullscreen(visible, style, config);\r\n\t\t}\r\n\t};\r\n\r\n\t//retrieve Ajax URL\r\n\r\n\tTabulator.prototype.getAjaxUrl = function () {\r\n\r\n\t\tif (this.modExists(\"ajax\", true)) {\r\n\r\n\t\t\treturn this.modules.ajax.getUrl();\r\n\t\t}\r\n\t};\r\n\r\n\t//replace data, keeping table in position with same sort\r\n\r\n\tTabulator.prototype.replaceData = function (data, params, config) {\r\n\r\n\t\tif (this.modExists(\"ajax\")) {\r\n\r\n\t\t\tthis.modules.ajax.blockActiveRequest();\r\n\t\t}\r\n\r\n\t\treturn this._setData(data, params, config, true);\r\n\t};\r\n\r\n\t//update table data\r\n\r\n\tTabulator.prototype.updateData = function (data) {\r\n\t\tvar _this26 = this;\r\n\r\n\t\tvar self = this;\r\n\r\n\t\tvar responses = 0;\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\tif (_this26.modExists(\"ajax\")) {\r\n\r\n\t\t\t\t_this26.modules.ajax.blockActiveRequest();\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof data === \"string\") {\r\n\r\n\t\t\t\tdata = JSON.parse(data);\r\n\t\t\t}\r\n\r\n\t\t\tif (data) {\r\n\r\n\t\t\t\tdata.forEach(function (item) {\r\n\r\n\t\t\t\t\tvar row = self.rowManager.findRow(item[self.options.index]);\r\n\r\n\t\t\t\t\tif (row) {\r\n\r\n\t\t\t\t\t\tresponses++;\r\n\r\n\t\t\t\t\t\trow.updateData(item).then(function () {\r\n\r\n\t\t\t\t\t\t\tresponses--;\r\n\r\n\t\t\t\t\t\t\tif (!responses) {\r\n\r\n\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn(\"Update Error - No data provided\");\r\n\r\n\t\t\t\treject(\"Update Error - No data provided\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tTabulator.prototype.addData = function (data, pos, index) {\r\n\t\tvar _this27 = this;\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\tif (_this27.modExists(\"ajax\")) {\r\n\r\n\t\t\t\t_this27.modules.ajax.blockActiveRequest();\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof data === \"string\") {\r\n\r\n\t\t\t\tdata = JSON.parse(data);\r\n\t\t\t}\r\n\r\n\t\t\tif (data) {\r\n\r\n\t\t\t\t_this27.rowManager.addRows(data, pos, index).then(function (rows) {\r\n\r\n\t\t\t\t\tvar output = [];\r\n\r\n\t\t\t\t\trows.forEach(function (row) {\r\n\r\n\t\t\t\t\t\toutput.push(row.getComponent());\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tresolve(output);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn(\"Update Error - No data provided\");\r\n\r\n\t\t\t\treject(\"Update Error - No data provided\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t//update table data\r\n\r\n\tTabulator.prototype.updateOrAddData = function (data) {\r\n\t\tvar _this28 = this;\r\n\r\n\t\tvar self = this,\r\n\t\t    rows = [],\r\n\t\t    responses = 0;\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\tif (_this28.modExists(\"ajax\")) {\r\n\r\n\t\t\t\t_this28.modules.ajax.blockActiveRequest();\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof data === \"string\") {\r\n\r\n\t\t\t\tdata = JSON.parse(data);\r\n\t\t\t}\r\n\r\n\t\t\tif (data) {\r\n\r\n\t\t\t\tdata.forEach(function (item) {\r\n\r\n\t\t\t\t\tvar row = self.rowManager.findRow(item[self.options.index]);\r\n\r\n\t\t\t\t\tresponses++;\r\n\r\n\t\t\t\t\tif (row) {\r\n\r\n\t\t\t\t\t\trow.updateData(item).then(function () {\r\n\r\n\t\t\t\t\t\t\tresponses--;\r\n\r\n\t\t\t\t\t\t\trows.push(row.getComponent());\r\n\r\n\t\t\t\t\t\t\tif (!responses) {\r\n\r\n\t\t\t\t\t\t\t\tresolve(rows);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tself.rowManager.addRows(item).then(function (newRows) {\r\n\r\n\t\t\t\t\t\t\tresponses--;\r\n\r\n\t\t\t\t\t\t\trows.push(newRows[0].getComponent());\r\n\r\n\t\t\t\t\t\t\tif (!responses) {\r\n\r\n\t\t\t\t\t\t\t\tresolve(rows);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn(\"Update Error - No data provided\");\r\n\r\n\t\t\t\treject(\"Update Error - No data provided\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t//get row object\r\n\r\n\tTabulator.prototype.getRow = function (index) {\r\n\r\n\t\tvar row = this.rowManager.findRow(index);\r\n\r\n\t\tif (row) {\r\n\r\n\t\t\treturn row.getComponent();\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn(\"Find Error - No matching row found:\", index);\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\t//get row object\r\n\r\n\tTabulator.prototype.getRowFromPosition = function (position, active) {\r\n\r\n\t\tvar row = this.rowManager.getRowFromPosition(position, active);\r\n\r\n\t\tif (row) {\r\n\r\n\t\t\treturn row.getComponent();\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn(\"Find Error - No matching row found:\", position);\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\t//delete row from table\r\n\r\n\tTabulator.prototype.deleteRow = function (index) {\r\n\t\tvar _this29 = this;\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\tvar self = _this29,\r\n\t\t\t    count = 0,\r\n\t\t\t    successCount = 0,\r\n\t\t\t    foundRows = [];\r\n\r\n\t\t\tfunction doneCheck() {\r\n\r\n\t\t\t\tcount++;\r\n\r\n\t\t\t\tif (count == index.length) {\r\n\r\n\t\t\t\t\tif (successCount) {\r\n\r\n\t\t\t\t\t\tself.rowManager.reRenderInPosition();\r\n\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!Array.isArray(index)) {\r\n\r\n\t\t\t\tindex = [index];\r\n\t\t\t}\r\n\r\n\t\t\t//find matching rows\r\n\r\n\t\t\tindex.forEach(function (item) {\r\n\r\n\t\t\t\tvar row = _this29.rowManager.findRow(item, true);\r\n\r\n\t\t\t\tif (row) {\r\n\r\n\t\t\t\t\tfoundRows.push(row);\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.warn(\"Delete Error - No matching row found:\", item);\r\n\r\n\t\t\t\t\treject(\"Delete Error - No matching row found\");\r\n\r\n\t\t\t\t\tdoneCheck();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t//sort rows into correct order to ensure smooth delete from table\r\n\r\n\t\t\tfoundRows.sort(function (a, b) {\r\n\r\n\t\t\t\treturn _this29.rowManager.rows.indexOf(a) > _this29.rowManager.rows.indexOf(b) ? 1 : -1;\r\n\t\t\t});\r\n\r\n\t\t\tfoundRows.forEach(function (row) {\r\n\r\n\t\t\t\trow.delete().then(function () {\r\n\r\n\t\t\t\t\tsuccessCount++;\r\n\r\n\t\t\t\t\tdoneCheck();\r\n\t\t\t\t}).catch(function (err) {\r\n\r\n\t\t\t\t\tdoneCheck();\r\n\r\n\t\t\t\t\treject(err);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\t//add row to table\r\n\r\n\tTabulator.prototype.addRow = function (data, pos, index) {\r\n\t\tvar _this30 = this;\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\tif (typeof data === \"string\") {\r\n\r\n\t\t\t\tdata = JSON.parse(data);\r\n\t\t\t}\r\n\r\n\t\t\t_this30.rowManager.addRows(data, pos, index).then(function (rows) {\r\n\r\n\t\t\t\t//recalc column calculations if present\r\n\r\n\t\t\t\tif (_this30.modExists(\"columnCalcs\")) {\r\n\r\n\t\t\t\t\t_this30.modules.columnCalcs.recalc(_this30.rowManager.activeRows);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tresolve(rows[0].getComponent());\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\t//update a row if it exitsts otherwise create it\r\n\r\n\tTabulator.prototype.updateOrAddRow = function (index, data) {\r\n\t\tvar _this31 = this;\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\tvar row = _this31.rowManager.findRow(index);\r\n\r\n\t\t\tif (typeof data === \"string\") {\r\n\r\n\t\t\t\tdata = JSON.parse(data);\r\n\t\t\t}\r\n\r\n\t\t\tif (row) {\r\n\r\n\t\t\t\trow.updateData(data).then(function () {\r\n\r\n\t\t\t\t\t//recalc column calculations if present\r\n\r\n\t\t\t\t\tif (_this31.modExists(\"columnCalcs\")) {\r\n\r\n\t\t\t\t\t\t_this31.modules.columnCalcs.recalc(_this31.rowManager.activeRows);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tresolve(row.getComponent());\r\n\t\t\t\t}).catch(function (err) {\r\n\r\n\t\t\t\t\treject(err);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\r\n\t\t\t\trow = _this31.rowManager.addRows(data).then(function (rows) {\r\n\r\n\t\t\t\t\t//recalc column calculations if present\r\n\r\n\t\t\t\t\tif (_this31.modExists(\"columnCalcs\")) {\r\n\r\n\t\t\t\t\t\t_this31.modules.columnCalcs.recalc(_this31.rowManager.activeRows);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tresolve(rows[0].getComponent());\r\n\t\t\t\t}).catch(function (err) {\r\n\r\n\t\t\t\t\treject(err);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t//update row data\r\n\r\n\tTabulator.prototype.updateRow = function (index, data) {\r\n\t\tvar _this32 = this;\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\tvar row = _this32.rowManager.findRow(index);\r\n\r\n\t\t\tif (typeof data === \"string\") {\r\n\r\n\t\t\t\tdata = JSON.parse(data);\r\n\t\t\t}\r\n\r\n\t\t\tif (row) {\r\n\r\n\t\t\t\trow.updateData(data).then(function () {\r\n\r\n\t\t\t\t\tresolve(row.getComponent());\r\n\t\t\t\t}).catch(function (err) {\r\n\r\n\t\t\t\t\treject(err);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn(\"Update Error - No matching row found:\", index);\r\n\r\n\t\t\t\treject(\"Update Error - No matching row found\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t//scroll to row in DOM\r\n\r\n\tTabulator.prototype.scrollToRow = function (index, position, ifVisible) {\r\n\t\tvar _this33 = this;\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\tvar row = _this33.rowManager.findRow(index);\r\n\r\n\t\t\tif (row) {\r\n\r\n\t\t\t\t_this33.rowManager.scrollToRow(row, position, ifVisible).then(function () {\r\n\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t}).catch(function (err) {\r\n\r\n\t\t\t\t\treject(err);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn(\"Scroll Error - No matching row found:\", index);\r\n\r\n\t\t\t\treject(\"Scroll Error - No matching row found\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tTabulator.prototype.moveRow = function (from, to, after) {\r\n\r\n\t\tvar fromRow = this.rowManager.findRow(from);\r\n\r\n\t\tif (fromRow) {\r\n\r\n\t\t\tfromRow.moveToRow(to, after);\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn(\"Move Error - No matching row found:\", from);\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.getRows = function (active) {\r\n\r\n\t\tif (active === true) {\r\n\r\n\t\t\tconsole.warn(\"passing a boolean to the getRows function is deprecated, you should now pass the string 'active'\");\r\n\r\n\t\t\tactive = \"active\";\r\n\t\t}\r\n\r\n\t\treturn this.rowManager.getComponents(active);\r\n\t};\r\n\r\n\t//get position of row in table\r\n\r\n\tTabulator.prototype.getRowPosition = function (index, active) {\r\n\r\n\t\tvar row = this.rowManager.findRow(index);\r\n\r\n\t\tif (row) {\r\n\r\n\t\t\treturn this.rowManager.getRowPosition(row, active);\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn(\"Position Error - No matching row found:\", index);\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\t//copy table data to clipboard\r\n\r\n\tTabulator.prototype.copyToClipboard = function (selector) {\r\n\r\n\t\tif (this.modExists(\"clipboard\", true)) {\r\n\r\n\t\t\tthis.modules.clipboard.copy(selector);\r\n\t\t}\r\n\t};\r\n\r\n\t/////////////// Column Functions  ///////////////\r\n\r\n\r\n\tTabulator.prototype.setColumns = function (definition) {\r\n\r\n\t\tthis.columnManager.setColumns(definition);\r\n\t};\r\n\r\n\tTabulator.prototype.getColumns = function (structured) {\r\n\r\n\t\treturn this.columnManager.getComponents(structured);\r\n\t};\r\n\r\n\tTabulator.prototype.getColumn = function (field) {\r\n\r\n\t\tvar col = this.columnManager.findColumn(field);\r\n\r\n\t\tif (col) {\r\n\r\n\t\t\treturn col.getComponent();\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn(\"Find Error - No matching column found:\", field);\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.getColumnDefinitions = function () {\r\n\r\n\t\treturn this.columnManager.getDefinitionTree();\r\n\t};\r\n\r\n\tTabulator.prototype.getColumnLayout = function () {\r\n\r\n\t\tif (this.modExists(\"persistence\", true)) {\r\n\r\n\t\t\treturn this.modules.persistence.parseColumns(this.columnManager.getColumns());\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.setColumnLayout = function (layout) {\r\n\r\n\t\tif (this.modExists(\"persistence\", true)) {\r\n\r\n\t\t\tthis.columnManager.setColumns(this.modules.persistence.mergeDefinition(this.options.columns, layout));\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n\tTabulator.prototype.showColumn = function (field) {\r\n\r\n\t\tvar column = this.columnManager.findColumn(field);\r\n\r\n\t\tif (column) {\r\n\r\n\t\t\tcolumn.show();\r\n\r\n\t\t\tif (this.options.responsiveLayout && this.modExists(\"responsiveLayout\", true)) {\r\n\r\n\t\t\t\tthis.modules.responsiveLayout.update();\r\n\t\t\t}\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn(\"Column Show Error - No matching column found:\", field);\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.hideColumn = function (field) {\r\n\r\n\t\tvar column = this.columnManager.findColumn(field);\r\n\r\n\t\tif (column) {\r\n\r\n\t\t\tcolumn.hide();\r\n\r\n\t\t\tif (this.options.responsiveLayout && this.modExists(\"responsiveLayout\", true)) {\r\n\r\n\t\t\t\tthis.modules.responsiveLayout.update();\r\n\t\t\t}\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn(\"Column Hide Error - No matching column found:\", field);\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.toggleColumn = function (field) {\r\n\r\n\t\tvar column = this.columnManager.findColumn(field);\r\n\r\n\t\tif (column) {\r\n\r\n\t\t\tif (column.visible) {\r\n\r\n\t\t\t\tcolumn.hide();\r\n\t\t\t} else {\r\n\r\n\t\t\t\tcolumn.show();\r\n\t\t\t}\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn(\"Column Visibility Toggle Error - No matching column found:\", field);\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.addColumn = function (definition, before, field) {\r\n\t\tvar _this34 = this;\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\tvar column = _this34.columnManager.findColumn(field);\r\n\r\n\t\t\t_this34.columnManager.addColumn(definition, before, column).then(function (column) {\r\n\r\n\t\t\t\tresolve(column.getComponent());\r\n\t\t\t}).catch(function (err) {\r\n\r\n\t\t\t\treject(err);\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tTabulator.prototype.deleteColumn = function (field) {\r\n\t\tvar _this35 = this;\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\tvar column = _this35.columnManager.findColumn(field);\r\n\r\n\t\t\tif (column) {\r\n\r\n\t\t\t\tcolumn.delete().then(function () {\r\n\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t}).catch(function (err) {\r\n\r\n\t\t\t\t\treject(err);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn(\"Column Delete Error - No matching column found:\", field);\r\n\r\n\t\t\t\treject();\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tTabulator.prototype.updateColumnDefinition = function (field, definition) {\r\n\t\tvar _this36 = this;\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\tvar column = _this36.columnManager.findColumn(field);\r\n\r\n\t\t\tif (column) {\r\n\r\n\t\t\t\tcolumn.updateDefinition(definition).then(function (col) {\r\n\r\n\t\t\t\t\tresolve(col);\r\n\t\t\t\t}).catch(function (err) {\r\n\r\n\t\t\t\t\treject(err);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn(\"Column Update Error - No matching column found:\", field);\r\n\r\n\t\t\t\treject();\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tTabulator.prototype.moveColumn = function (from, to, after) {\r\n\r\n\t\tvar fromColumn = this.columnManager.findColumn(from);\r\n\r\n\t\tvar toColumn = this.columnManager.findColumn(to);\r\n\r\n\t\tif (fromColumn) {\r\n\r\n\t\t\tif (toColumn) {\r\n\r\n\t\t\t\tthis.columnManager.moveColumn(fromColumn, toColumn, after);\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn(\"Move Error - No matching column found:\", toColumn);\r\n\t\t\t}\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn(\"Move Error - No matching column found:\", from);\r\n\t\t}\r\n\t};\r\n\r\n\t//scroll to column in DOM\r\n\r\n\tTabulator.prototype.scrollToColumn = function (field, position, ifVisible) {\r\n\t\tvar _this37 = this;\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\tvar column = _this37.columnManager.findColumn(field);\r\n\r\n\t\t\tif (column) {\r\n\r\n\t\t\t\t_this37.columnManager.scrollToColumn(column, position, ifVisible).then(function () {\r\n\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t}).catch(function (err) {\r\n\r\n\t\t\t\t\treject(err);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn(\"Scroll Error - No matching column found:\", field);\r\n\r\n\t\t\t\treject(\"Scroll Error - No matching column found\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t//////////// Localization Functions  ////////////\r\n\r\n\tTabulator.prototype.setLocale = function (locale) {\r\n\r\n\t\tthis.modules.localize.setLocale(locale);\r\n\t};\r\n\r\n\tTabulator.prototype.getLocale = function () {\r\n\r\n\t\treturn this.modules.localize.getLocale();\r\n\t};\r\n\r\n\tTabulator.prototype.getLang = function (locale) {\r\n\r\n\t\treturn this.modules.localize.getLang(locale);\r\n\t};\r\n\r\n\t//////////// General Public Functions ////////////\r\n\r\n\r\n\t//redraw list without updating data\r\n\r\n\tTabulator.prototype.redraw = function (force) {\r\n\r\n\t\tthis.columnManager.redraw(force);\r\n\r\n\t\tthis.rowManager.redraw(force);\r\n\t};\r\n\r\n\tTabulator.prototype.setHeight = function (height) {\r\n\r\n\t\tif (this.rowManager.renderMode !== \"classic\") {\r\n\r\n\t\t\tthis.options.height = isNaN(height) ? height : height + \"px\";\r\n\r\n\t\t\tthis.element.style.height = this.options.height;\r\n\r\n\t\t\tthis.rowManager.setRenderMode();\r\n\r\n\t\t\tthis.rowManager.redraw();\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn(\"setHeight function is not available in classic render mode\");\r\n\t\t}\r\n\t};\r\n\r\n\t///////////////////// Sorting ////////////////////\r\n\r\n\r\n\t//trigger sort\r\n\r\n\tTabulator.prototype.setSort = function (sortList, dir) {\r\n\r\n\t\tif (this.modExists(\"sort\", true)) {\r\n\r\n\t\t\tthis.modules.sort.setSort(sortList, dir);\r\n\r\n\t\t\tthis.rowManager.sorterRefresh();\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.getSorters = function () {\r\n\r\n\t\tif (this.modExists(\"sort\", true)) {\r\n\r\n\t\t\treturn this.modules.sort.getSort();\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.clearSort = function () {\r\n\r\n\t\tif (this.modExists(\"sort\", true)) {\r\n\r\n\t\t\tthis.modules.sort.clear();\r\n\r\n\t\t\tthis.rowManager.sorterRefresh();\r\n\t\t}\r\n\t};\r\n\r\n\t///////////////////// Filtering ////////////////////\r\n\r\n\r\n\t//set standard filters\r\n\r\n\tTabulator.prototype.setFilter = function (field, type, value, params) {\r\n\r\n\t\tif (this.modExists(\"filter\", true)) {\r\n\r\n\t\t\tthis.modules.filter.setFilter(field, type, value, params);\r\n\r\n\t\t\tthis.rowManager.filterRefresh();\r\n\t\t}\r\n\t};\r\n\r\n\t//set standard filters\r\n\r\n\tTabulator.prototype.refreshFilter = function () {\r\n\r\n\t\tif (this.modExists(\"filter\", true)) {\r\n\r\n\t\t\tthis.rowManager.filterRefresh();\r\n\t\t}\r\n\t};\r\n\r\n\t//add filter to array\r\n\r\n\tTabulator.prototype.addFilter = function (field, type, value, params) {\r\n\r\n\t\tif (this.modExists(\"filter\", true)) {\r\n\r\n\t\t\tthis.modules.filter.addFilter(field, type, value, params);\r\n\r\n\t\t\tthis.rowManager.filterRefresh();\r\n\t\t}\r\n\t};\r\n\r\n\t//get all filters\r\n\r\n\tTabulator.prototype.getFilters = function (all) {\r\n\r\n\t\tif (this.modExists(\"filter\", true)) {\r\n\r\n\t\t\treturn this.modules.filter.getFilters(all);\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.setHeaderFilterFocus = function (field) {\r\n\r\n\t\tif (this.modExists(\"filter\", true)) {\r\n\r\n\t\t\tvar column = this.columnManager.findColumn(field);\r\n\r\n\t\t\tif (column) {\r\n\r\n\t\t\t\tthis.modules.filter.setHeaderFilterFocus(column);\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn(\"Column Filter Focus Error - No matching column found:\", field);\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.getHeaderFilterValue = function (field) {\r\n\r\n\t\tif (this.modExists(\"filter\", true)) {\r\n\r\n\t\t\tvar column = this.columnManager.findColumn(field);\r\n\r\n\t\t\tif (column) {\r\n\r\n\t\t\t\treturn this.modules.filter.getHeaderFilterValue(column);\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn(\"Column Filter Error - No matching column found:\", field);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.setHeaderFilterValue = function (field, value) {\r\n\r\n\t\tif (this.modExists(\"filter\", true)) {\r\n\r\n\t\t\tvar column = this.columnManager.findColumn(field);\r\n\r\n\t\t\tif (column) {\r\n\r\n\t\t\t\tthis.modules.filter.setHeaderFilterValue(column, value);\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn(\"Column Filter Error - No matching column found:\", field);\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.getHeaderFilters = function () {\r\n\r\n\t\tif (this.modExists(\"filter\", true)) {\r\n\r\n\t\t\treturn this.modules.filter.getHeaderFilters();\r\n\t\t}\r\n\t};\r\n\r\n\t//remove filter from array\r\n\r\n\tTabulator.prototype.removeFilter = function (field, type, value) {\r\n\r\n\t\tif (this.modExists(\"filter\", true)) {\r\n\r\n\t\t\tthis.modules.filter.removeFilter(field, type, value);\r\n\r\n\t\t\tthis.rowManager.filterRefresh();\r\n\t\t}\r\n\t};\r\n\r\n\t//clear filters\r\n\r\n\tTabulator.prototype.clearFilter = function (all) {\r\n\r\n\t\tif (this.modExists(\"filter\", true)) {\r\n\r\n\t\t\tthis.modules.filter.clearFilter(all);\r\n\r\n\t\t\tthis.rowManager.filterRefresh();\r\n\t\t}\r\n\t};\r\n\r\n\t//clear header filters\r\n\r\n\tTabulator.prototype.clearHeaderFilter = function () {\r\n\r\n\t\tif (this.modExists(\"filter\", true)) {\r\n\r\n\t\t\tthis.modules.filter.clearHeaderFilter();\r\n\r\n\t\t\tthis.rowManager.filterRefresh();\r\n\t\t}\r\n\t};\r\n\r\n\t///////////////////// select ////////////////////\r\n\r\n\tTabulator.prototype.selectRow = function (rows) {\r\n\r\n\t\tif (this.modExists(\"selectRow\", true)) {\r\n\r\n\t\t\tif (rows === true) {\r\n\r\n\t\t\t\tconsole.warn(\"passing a boolean to the selectRowselectRow function is deprecated, you should now pass the string 'active'\");\r\n\r\n\t\t\t\trows = \"active\";\r\n\t\t\t}\r\n\r\n\t\t\tthis.modules.selectRow.selectRows(rows);\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.deselectRow = function (rows) {\r\n\r\n\t\tif (this.modExists(\"selectRow\", true)) {\r\n\r\n\t\t\tthis.modules.selectRow.deselectRows(rows);\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.toggleSelectRow = function (row) {\r\n\r\n\t\tif (this.modExists(\"selectRow\", true)) {\r\n\r\n\t\t\tthis.modules.selectRow.toggleRow(row);\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.getSelectedRows = function () {\r\n\r\n\t\tif (this.modExists(\"selectRow\", true)) {\r\n\r\n\t\t\treturn this.modules.selectRow.getSelectedRows();\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.getSelectedData = function () {\r\n\r\n\t\tif (this.modExists(\"selectRow\", true)) {\r\n\r\n\t\t\treturn this.modules.selectRow.getSelectedData();\r\n\t\t}\r\n\t};\r\n\r\n\t///////////////////// validation  ////////////////////\r\n\r\n\tTabulator.prototype.getInvalidCells = function () {\r\n\r\n\t\tif (this.modExists(\"validate\", true)) {\r\n\r\n\t\t\treturn this.modules.validate.getInvalidCells();\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.clearCellValidation = function (cells) {\r\n\t\tvar _this38 = this;\r\n\r\n\t\tif (this.modExists(\"validate\", true)) {\r\n\r\n\t\t\tif (!cells) {\r\n\r\n\t\t\t\tcells = this.modules.validate.getInvalidCells();\r\n\t\t\t}\r\n\r\n\t\t\tif (!Array.isArray(cells)) {\r\n\r\n\t\t\t\tcells = [cells];\r\n\t\t\t}\r\n\r\n\t\t\tcells.forEach(function (cell) {\r\n\r\n\t\t\t\t_this38.modules.validate.clearValidation(cell._getSelf());\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.validate = function (cells) {\r\n\r\n\t\tvar output = [];\r\n\r\n\t\t//clear row data\r\n\r\n\t\tthis.rowManager.rows.forEach(function (row) {\r\n\r\n\t\t\tvar valid = row.validate();\r\n\r\n\t\t\tif (valid !== true) {\r\n\r\n\t\t\t\toutput = output.concat(valid);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn output.length ? output : true;\r\n\t};\r\n\r\n\t//////////// Pagination Functions  ////////////\r\n\r\n\r\n\tTabulator.prototype.setMaxPage = function (max) {\r\n\r\n\t\tif (this.options.pagination && this.modExists(\"page\")) {\r\n\r\n\t\t\tthis.modules.page.setMaxPage(max);\r\n\t\t} else {\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.setPage = function (page) {\r\n\r\n\t\tif (this.options.pagination && this.modExists(\"page\")) {\r\n\r\n\t\t\treturn this.modules.page.setPage(page);\r\n\t\t} else {\r\n\r\n\t\t\treturn new Promise(function (resolve, reject) {\r\n\t\t\t\treject();\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.setPageToRow = function (row) {\r\n\t\tvar _this39 = this;\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\tif (_this39.options.pagination && _this39.modExists(\"page\")) {\r\n\r\n\t\t\t\trow = _this39.rowManager.findRow(row);\r\n\r\n\t\t\t\tif (row) {\r\n\r\n\t\t\t\t\t_this39.modules.page.setPageToRow(row).then(function () {\r\n\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t}).catch(function () {\r\n\r\n\t\t\t\t\t\treject();\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\treject();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\treject();\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tTabulator.prototype.setPageSize = function (size) {\r\n\r\n\t\tif (this.options.pagination && this.modExists(\"page\")) {\r\n\r\n\t\t\tthis.modules.page.setPageSize(size);\r\n\r\n\t\t\tthis.modules.page.setPage(1).then(function () {}).catch(function () {});\r\n\t\t} else {\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.getPageSize = function () {\r\n\r\n\t\tif (this.options.pagination && this.modExists(\"page\", true)) {\r\n\r\n\t\t\treturn this.modules.page.getPageSize();\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.previousPage = function () {\r\n\r\n\t\tif (this.options.pagination && this.modExists(\"page\")) {\r\n\r\n\t\t\tthis.modules.page.previousPage();\r\n\t\t} else {\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.nextPage = function () {\r\n\r\n\t\tif (this.options.pagination && this.modExists(\"page\")) {\r\n\r\n\t\t\tthis.modules.page.nextPage();\r\n\t\t} else {\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.getPage = function () {\r\n\r\n\t\tif (this.options.pagination && this.modExists(\"page\")) {\r\n\r\n\t\t\treturn this.modules.page.getPage();\r\n\t\t} else {\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.getPageMax = function () {\r\n\r\n\t\tif (this.options.pagination && this.modExists(\"page\")) {\r\n\r\n\t\t\treturn this.modules.page.getPageMax();\r\n\t\t} else {\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\t///////////////// Grouping Functions ///////////////\r\n\r\n\r\n\tTabulator.prototype.setGroupBy = function (groups) {\r\n\r\n\t\tif (this.modExists(\"groupRows\", true)) {\r\n\r\n\t\t\tthis.options.groupBy = groups;\r\n\r\n\t\t\tthis.modules.groupRows.initialize();\r\n\r\n\t\t\tthis.rowManager.refreshActiveData(\"display\");\r\n\r\n\t\t\tif (this.options.persistence && this.modExists(\"persistence\", true) && this.modules.persistence.config.group) {\r\n\r\n\t\t\t\tthis.modules.persistence.save(\"group\");\r\n\t\t\t}\r\n\t\t} else {\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.setGroupValues = function (groupValues) {\r\n\r\n\t\tif (this.modExists(\"groupRows\", true)) {\r\n\r\n\t\t\tthis.options.groupValues = groupValues;\r\n\r\n\t\t\tthis.modules.groupRows.initialize();\r\n\r\n\t\t\tthis.rowManager.refreshActiveData(\"display\");\r\n\r\n\t\t\tif (this.options.persistence && this.modExists(\"persistence\", true) && this.modules.persistence.config.group) {\r\n\r\n\t\t\t\tthis.modules.persistence.save(\"group\");\r\n\t\t\t}\r\n\t\t} else {\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.setGroupStartOpen = function (values) {\r\n\r\n\t\tif (this.modExists(\"groupRows\", true)) {\r\n\r\n\t\t\tthis.options.groupStartOpen = values;\r\n\r\n\t\t\tthis.modules.groupRows.initialize();\r\n\r\n\t\t\tif (this.options.groupBy) {\r\n\r\n\t\t\t\tthis.rowManager.refreshActiveData(\"group\");\r\n\r\n\t\t\t\tif (this.options.persistence && this.modExists(\"persistence\", true) && this.modules.persistence.config.group) {\r\n\r\n\t\t\t\t\tthis.modules.persistence.save(\"group\");\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn(\"Grouping Update - cant refresh view, no groups have been set\");\r\n\t\t\t}\r\n\t\t} else {\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.setGroupHeader = function (values) {\r\n\r\n\t\tif (this.modExists(\"groupRows\", true)) {\r\n\r\n\t\t\tthis.options.groupHeader = values;\r\n\r\n\t\t\tthis.modules.groupRows.initialize();\r\n\r\n\t\t\tif (this.options.groupBy) {\r\n\r\n\t\t\t\tthis.rowManager.refreshActiveData(\"group\");\r\n\r\n\t\t\t\tif (this.options.persistence && this.modExists(\"persistence\", true) && this.modules.persistence.config.group) {\r\n\r\n\t\t\t\t\tthis.modules.persistence.save(\"group\");\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn(\"Grouping Update - cant refresh view, no groups have been set\");\r\n\t\t\t}\r\n\t\t} else {\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.getGroups = function (values) {\r\n\r\n\t\tif (this.modExists(\"groupRows\", true)) {\r\n\r\n\t\t\treturn this.modules.groupRows.getGroups(true);\r\n\t\t} else {\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\t// get grouped table data in the same format as getData()\r\n\r\n\tTabulator.prototype.getGroupedData = function () {\r\n\r\n\t\tif (this.modExists(\"groupRows\", true)) {\r\n\r\n\t\t\treturn this.options.groupBy ? this.modules.groupRows.getGroupedData() : this.getData();\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.getEditedCells = function () {\r\n\r\n\t\tif (this.modExists(\"edit\", true)) {\r\n\r\n\t\t\treturn this.modules.edit.getEditedCells();\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.clearCellEdited = function (cells) {\r\n\t\tvar _this40 = this;\r\n\r\n\t\tif (this.modExists(\"edit\", true)) {\r\n\r\n\t\t\tif (!cells) {\r\n\r\n\t\t\t\tcells = this.modules.edit.getEditedCells();\r\n\t\t\t}\r\n\r\n\t\t\tif (!Array.isArray(cells)) {\r\n\r\n\t\t\t\tcells = [cells];\r\n\t\t\t}\r\n\r\n\t\t\tcells.forEach(function (cell) {\r\n\r\n\t\t\t\t_this40.modules.edit.clearEdited(cell._getSelf());\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t///////////////// Column Calculation Functions ///////////////\r\n\r\n\tTabulator.prototype.getCalcResults = function () {\r\n\r\n\t\tif (this.modExists(\"columnCalcs\", true)) {\r\n\r\n\t\t\treturn this.modules.columnCalcs.getResults();\r\n\t\t} else {\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.recalc = function () {\r\n\r\n\t\tif (this.modExists(\"columnCalcs\", true)) {\r\n\r\n\t\t\tthis.modules.columnCalcs.recalcAll(this.rowManager.activeRows);\r\n\t\t}\r\n\t};\r\n\r\n\t/////////////// Navigation Management //////////////\r\n\r\n\r\n\tTabulator.prototype.navigatePrev = function () {\r\n\r\n\t\tvar cell = false;\r\n\r\n\t\tif (this.modExists(\"edit\", true)) {\r\n\r\n\t\t\tcell = this.modules.edit.currentCell;\r\n\r\n\t\t\tif (cell) {\r\n\r\n\t\t\t\treturn cell.nav().prev();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n\tTabulator.prototype.navigateNext = function () {\r\n\r\n\t\tvar cell = false;\r\n\r\n\t\tif (this.modExists(\"edit\", true)) {\r\n\r\n\t\t\tcell = this.modules.edit.currentCell;\r\n\r\n\t\t\tif (cell) {\r\n\r\n\t\t\t\treturn cell.nav().next();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n\tTabulator.prototype.navigateLeft = function () {\r\n\r\n\t\tvar cell = false;\r\n\r\n\t\tif (this.modExists(\"edit\", true)) {\r\n\r\n\t\t\tcell = this.modules.edit.currentCell;\r\n\r\n\t\t\tif (cell) {\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\treturn cell.nav().left();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n\tTabulator.prototype.navigateRight = function () {\r\n\r\n\t\tvar cell = false;\r\n\r\n\t\tif (this.modExists(\"edit\", true)) {\r\n\r\n\t\t\tcell = this.modules.edit.currentCell;\r\n\r\n\t\t\tif (cell) {\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\treturn cell.nav().right();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n\tTabulator.prototype.navigateUp = function () {\r\n\r\n\t\tvar cell = false;\r\n\r\n\t\tif (this.modExists(\"edit\", true)) {\r\n\r\n\t\t\tcell = this.modules.edit.currentCell;\r\n\r\n\t\t\tif (cell) {\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\treturn cell.nav().up();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n\tTabulator.prototype.navigateDown = function () {\r\n\r\n\t\tvar cell = false;\r\n\r\n\t\tif (this.modExists(\"edit\", true)) {\r\n\r\n\t\t\tcell = this.modules.edit.currentCell;\r\n\r\n\t\t\tif (cell) {\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\treturn cell.nav().down();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n\t/////////////// History Management //////////////\r\n\r\n\tTabulator.prototype.undo = function () {\r\n\r\n\t\tif (this.options.history && this.modExists(\"history\", true)) {\r\n\r\n\t\t\treturn this.modules.history.undo();\r\n\t\t} else {\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.redo = function () {\r\n\r\n\t\tif (this.options.history && this.modExists(\"history\", true)) {\r\n\r\n\t\t\treturn this.modules.history.redo();\r\n\t\t} else {\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.getHistoryUndoSize = function () {\r\n\r\n\t\tif (this.options.history && this.modExists(\"history\", true)) {\r\n\r\n\t\t\treturn this.modules.history.getHistoryUndoSize();\r\n\t\t} else {\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.getHistoryRedoSize = function () {\r\n\r\n\t\tif (this.options.history && this.modExists(\"history\", true)) {\r\n\r\n\t\t\treturn this.modules.history.getHistoryRedoSize();\r\n\t\t} else {\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.clearHistory = function () {\r\n\r\n\t\tif (this.options.history && this.modExists(\"history\", true)) {\r\n\r\n\t\t\treturn this.modules.history.clear();\r\n\t\t} else {\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\t/////////////// Download Management //////////////\r\n\r\n\r\n\tTabulator.prototype.download = function (type, filename, options, active) {\r\n\r\n\t\tif (this.modExists(\"download\", true)) {\r\n\r\n\t\t\tthis.modules.download.download(type, filename, options, active);\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.downloadToTab = function (type, filename, options, active) {\r\n\r\n\t\tif (this.modExists(\"download\", true)) {\r\n\r\n\t\t\tthis.modules.download.download(type, filename, options, active, true);\r\n\t\t}\r\n\t};\r\n\r\n\t/////////// Inter Table Communications ///////////\r\n\r\n\r\n\tTabulator.prototype.tableComms = function (table, module, action, data) {\r\n\r\n\t\tthis.modules.comms.receive(table, module, action, data);\r\n\t};\r\n\r\n\t////////////// Extension Management //////////////\r\n\r\n\r\n\t//object to hold module\r\n\r\n\tTabulator.prototype.moduleBindings = {};\r\n\r\n\t//extend module\r\n\r\n\tTabulator.prototype.extendModule = function (name, property, values) {\r\n\r\n\t\tif (Tabulator.prototype.moduleBindings[name]) {\r\n\r\n\t\t\tvar source = Tabulator.prototype.moduleBindings[name].prototype[property];\r\n\r\n\t\t\tif (source) {\r\n\r\n\t\t\t\tif ((typeof values === 'undefined' ? 'undefined' : _typeof(values)) == \"object\") {\r\n\r\n\t\t\t\t\tfor (var key in values) {\r\n\r\n\t\t\t\t\t\tsource[key] = values[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.warn(\"Module Error - Invalid value type, it must be an object\");\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn(\"Module Error - property does not exist:\", property);\r\n\t\t\t}\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn(\"Module Error - module does not exist:\", name);\r\n\t\t}\r\n\t};\r\n\r\n\t//add module to tabulator\r\n\r\n\tTabulator.prototype.registerModule = function (name, module) {\r\n\r\n\t\tvar self = this;\r\n\r\n\t\tTabulator.prototype.moduleBindings[name] = module;\r\n\t};\r\n\r\n\t//ensure that module are bound to instantiated function\r\n\r\n\tTabulator.prototype.bindModules = function () {\r\n\r\n\t\tthis.modules = {};\r\n\r\n\t\tfor (var name in Tabulator.prototype.moduleBindings) {\r\n\r\n\t\t\tthis.modules[name] = new Tabulator.prototype.moduleBindings[name](this);\r\n\t\t}\r\n\t};\r\n\r\n\t//Check for module\r\n\r\n\tTabulator.prototype.modExists = function (plugin, required) {\r\n\r\n\t\tif (this.modules[plugin]) {\r\n\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\r\n\t\t\tif (required) {\r\n\r\n\t\t\t\tconsole.error(\"Tabulator Module Not Installed: \" + plugin);\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.helpers = {\r\n\r\n\t\telVisible: function elVisible(el) {\r\n\r\n\t\t\treturn !(el.offsetWidth <= 0 && el.offsetHeight <= 0);\r\n\t\t},\r\n\r\n\t\telOffset: function elOffset(el) {\r\n\r\n\t\t\tvar box = el.getBoundingClientRect();\r\n\r\n\t\t\treturn {\r\n\r\n\t\t\t\ttop: box.top + window.pageYOffset - document.documentElement.clientTop,\r\n\r\n\t\t\t\tleft: box.left + window.pageXOffset - document.documentElement.clientLeft\r\n\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tdeepClone: function deepClone(obj) {\r\n\r\n\t\t\tvar clone = Object.assign(Array.isArray(obj) ? [] : {}, obj);\r\n\r\n\t\t\tfor (var i in obj) {\r\n\r\n\t\t\t\tif (obj[i] != null && _typeof(obj[i]) === \"object\") {\r\n\r\n\t\t\t\t\tif (obj[i] instanceof Date) {\r\n\r\n\t\t\t\t\t\tclone[i] = new Date(obj[i]);\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tclone[i] = this.deepClone(obj[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn clone;\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tTabulator.prototype.comms = {\r\n\r\n\t\ttables: [],\r\n\r\n\t\tregister: function register(table) {\r\n\r\n\t\t\tTabulator.prototype.comms.tables.push(table);\r\n\t\t},\r\n\r\n\t\tderegister: function deregister(table) {\r\n\r\n\t\t\tvar index = Tabulator.prototype.comms.tables.indexOf(table);\r\n\r\n\t\t\tif (index > -1) {\r\n\r\n\t\t\t\tTabulator.prototype.comms.tables.splice(index, 1);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tlookupTable: function lookupTable(query, silent) {\r\n\r\n\t\t\tvar results = [],\r\n\t\t\t    matches,\r\n\t\t\t    match;\r\n\r\n\t\t\tif (typeof query === \"string\") {\r\n\r\n\t\t\t\tmatches = document.querySelectorAll(query);\r\n\r\n\t\t\t\tif (matches.length) {\r\n\r\n\t\t\t\t\tfor (var i = 0; i < matches.length; i++) {\r\n\r\n\t\t\t\t\t\tmatch = Tabulator.prototype.comms.matchElement(matches[i]);\r\n\r\n\t\t\t\t\t\tif (match) {\r\n\r\n\t\t\t\t\t\t\tresults.push(match);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (typeof HTMLElement !== \"undefined\" && query instanceof HTMLElement || query instanceof Tabulator) {\r\n\r\n\t\t\t\tmatch = Tabulator.prototype.comms.matchElement(query);\r\n\r\n\t\t\t\tif (match) {\r\n\r\n\t\t\t\t\tresults.push(match);\r\n\t\t\t\t}\r\n\t\t\t} else if (Array.isArray(query)) {\r\n\r\n\t\t\t\tquery.forEach(function (item) {\r\n\r\n\t\t\t\t\tresults = results.concat(Tabulator.prototype.comms.lookupTable(item));\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (!silent) {\r\n\r\n\t\t\t\t\tconsole.warn(\"Table Connection Error - Invalid Selector\", query);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn results;\r\n\t\t},\r\n\r\n\t\tmatchElement: function matchElement(element) {\r\n\r\n\t\t\treturn Tabulator.prototype.comms.tables.find(function (table) {\r\n\r\n\t\t\t\treturn element instanceof Tabulator ? table === element : table.element === element;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tTabulator.prototype.findTable = function (query) {\r\n\r\n\t\tvar results = Tabulator.prototype.comms.lookupTable(query, true);\r\n\r\n\t\treturn Array.isArray(results) && !results.length ? false : results;\r\n\t};\r\n\r\n\tvar Layout = function Layout(table) {\r\n\r\n\t\tthis.table = table;\r\n\r\n\t\tthis.mode = null;\r\n\t};\r\n\r\n\t//initialize layout system\r\n\r\n\r\n\tLayout.prototype.initialize = function (layout) {\r\n\r\n\t\tif (this.modes[layout]) {\r\n\r\n\t\t\tthis.mode = layout;\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn(\"Layout Error - invalid mode set, defaulting to 'fitData' : \" + layout);\r\n\r\n\t\t\tthis.mode = 'fitData';\r\n\t\t}\r\n\r\n\t\tthis.table.element.setAttribute(\"tabulator-layout\", this.mode);\r\n\t};\r\n\r\n\tLayout.prototype.getMode = function () {\r\n\r\n\t\treturn this.mode;\r\n\t};\r\n\r\n\t//trigger table layout\r\n\r\n\r\n\tLayout.prototype.layout = function () {\r\n\r\n\t\tthis.modes[this.mode].call(this, this.table.columnManager.columnsByIndex);\r\n\r\n\t\tif (this.mode.indexOf(\"fitData\") === 0 && this.table.options.persistence && this.table.modExists(\"persistence\", true) && this.table.modules.persistence.config.columns) {\r\n\r\n\t\t\tthis.table.modules.persistence.save(\"columns\");\r\n\t\t}\r\n\t};\r\n\r\n\t//layout render functions\r\n\r\n\r\n\tLayout.prototype.modes = {\r\n\r\n\t\t//resize columns to fit data they contain\r\n\r\n\r\n\t\t\"fitData\": function fitData(columns) {\r\n\r\n\t\t\tif (this.table.options.virtualDomHoz) {\r\n\r\n\t\t\t\tthis.table.vdomHoz.fitDataLayoutOverride();\r\n\t\t\t} else {\r\n\r\n\t\t\t\tcolumns.forEach(function (column) {\r\n\r\n\t\t\t\t\tcolumn.reinitializeWidth();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\r\n\r\n\t\t\t\tthis.table.modules.responsiveLayout.update();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t//resize columns to fit data they contain and stretch row to fill table\r\n\r\n\r\n\t\t\"fitDataFill\": function fitDataFill(columns) {\r\n\r\n\t\t\tcolumns.forEach(function (column) {\r\n\r\n\t\t\t\tcolumn.reinitializeWidth();\r\n\t\t\t});\r\n\r\n\t\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\r\n\r\n\t\t\t\tthis.table.modules.responsiveLayout.update();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t//resize columns to fit data they contain\r\n\r\n\r\n\t\t\"fitDataTable\": function fitDataTable(columns) {\r\n\r\n\t\t\tcolumns.forEach(function (column) {\r\n\r\n\t\t\t\tcolumn.reinitializeWidth();\r\n\t\t\t});\r\n\r\n\t\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\r\n\r\n\t\t\t\tthis.table.modules.responsiveLayout.update();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t//resize columns to fit data the contain and stretch last column to fill table\r\n\r\n\r\n\t\t\"fitDataStretch\": function fitDataStretch(columns) {\r\n\t\t\tvar _this41 = this;\r\n\r\n\t\t\tvar colsWidth = 0,\r\n\t\t\t    tableWidth = this.table.rowManager.element.clientWidth,\r\n\t\t\t    gap = 0,\r\n\t\t\t    lastCol = false;\r\n\r\n\t\t\tcolumns.forEach(function (column, i) {\r\n\r\n\t\t\t\tif (!column.widthFixed) {\r\n\r\n\t\t\t\t\tcolumn.reinitializeWidth();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (_this41.table.options.responsiveLayout ? column.modules.responsive.visible : column.visible) {\r\n\r\n\t\t\t\t\tlastCol = column;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (column.visible) {\r\n\r\n\t\t\t\t\tcolsWidth += column.getWidth();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (lastCol) {\r\n\r\n\t\t\t\tgap = tableWidth - colsWidth + lastCol.getWidth();\r\n\r\n\t\t\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\r\n\r\n\t\t\t\t\tlastCol.setWidth(0);\r\n\r\n\t\t\t\t\tthis.table.modules.responsiveLayout.update();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (gap > 0) {\r\n\r\n\t\t\t\t\tlastCol.setWidth(gap);\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tlastCol.reinitializeWidth();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\r\n\r\n\t\t\t\t\tthis.table.modules.responsiveLayout.update();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t//resize columns to fit\r\n\r\n\r\n\t\t\"fitColumns\": function fitColumns(columns) {\r\n\r\n\t\t\tvar self = this;\r\n\r\n\t\t\tvar totalWidth = self.table.element.clientWidth; //table element width\r\n\r\n\r\n\t\t\tvar fixedWidth = 0; //total width of columns with a defined width\r\n\r\n\r\n\t\t\tvar flexWidth = 0; //total width available to flexible columns\r\n\r\n\r\n\t\t\tvar flexGrowUnits = 0; //total number of widthGrow blocks accross all columns\r\n\r\n\r\n\t\t\tvar flexColWidth = 0; //desired width of flexible columns\r\n\r\n\r\n\t\t\tvar flexColumns = []; //array of flexible width columns\r\n\r\n\r\n\t\t\tvar fixedShrinkColumns = []; //array of fixed width columns that can shrink\r\n\r\n\r\n\t\t\tvar flexShrinkUnits = 0; //total number of widthShrink blocks accross all columns\r\n\r\n\r\n\t\t\tvar overflowWidth = 0; //horizontal overflow width\r\n\r\n\r\n\t\t\tvar gapFill = 0; //number of pixels to be added to final column to close and half pixel gaps\r\n\r\n\r\n\t\t\tfunction calcWidth(width) {\r\n\r\n\t\t\t\tvar colWidth;\r\n\r\n\t\t\t\tif (typeof width == \"string\") {\r\n\r\n\t\t\t\t\tif (width.indexOf(\"%\") > -1) {\r\n\r\n\t\t\t\t\t\tcolWidth = totalWidth / 100 * parseInt(width);\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tcolWidth = parseInt(width);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tcolWidth = width;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn colWidth;\r\n\t\t\t}\r\n\r\n\t\t\t//ensure columns resize to take up the correct amount of space\r\n\r\n\r\n\t\t\tfunction scaleColumns(columns, freeSpace, colWidth, shrinkCols) {\r\n\r\n\t\t\t\tvar oversizeCols = [],\r\n\t\t\t\t    oversizeSpace = 0,\r\n\t\t\t\t    remainingSpace = 0,\r\n\t\t\t\t    nextColWidth = 0,\r\n\t\t\t\t    remainingFlexGrowUnits = flexGrowUnits,\r\n\t\t\t\t    gap = 0,\r\n\t\t\t\t    changeUnits = 0,\r\n\t\t\t\t    undersizeCols = [];\r\n\r\n\t\t\t\tfunction calcGrow(col) {\r\n\r\n\t\t\t\t\treturn colWidth * (col.column.definition.widthGrow || 1);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction calcShrink(col) {\r\n\r\n\t\t\t\t\treturn calcWidth(col.width) - colWidth * (col.column.definition.widthShrink || 0);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcolumns.forEach(function (col, i) {\r\n\r\n\t\t\t\t\tvar width = shrinkCols ? calcShrink(col) : calcGrow(col);\r\n\r\n\t\t\t\t\tif (col.column.minWidth >= width) {\r\n\r\n\t\t\t\t\t\toversizeCols.push(col);\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tif (col.column.maxWidth && col.column.maxWidth < width) {\r\n\r\n\t\t\t\t\t\t\tcol.width = col.column.maxWidth;\r\n\r\n\t\t\t\t\t\t\tfreeSpace -= col.column.maxWidth;\r\n\r\n\t\t\t\t\t\t\tremainingFlexGrowUnits -= shrinkCols ? col.column.definition.widthShrink || 1 : col.column.definition.widthGrow || 1;\r\n\r\n\t\t\t\t\t\t\tif (remainingFlexGrowUnits) {\r\n\r\n\t\t\t\t\t\t\t\tcolWidth = Math.floor(freeSpace / remainingFlexGrowUnits);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tundersizeCols.push(col);\r\n\r\n\t\t\t\t\t\t\tchangeUnits += shrinkCols ? col.column.definition.widthShrink || 1 : col.column.definition.widthGrow || 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (oversizeCols.length) {\r\n\r\n\t\t\t\t\toversizeCols.forEach(function (col) {\r\n\r\n\t\t\t\t\t\toversizeSpace += shrinkCols ? col.width - col.column.minWidth : col.column.minWidth;\r\n\r\n\t\t\t\t\t\tcol.width = col.column.minWidth;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tremainingSpace = freeSpace - oversizeSpace;\r\n\r\n\t\t\t\t\tnextColWidth = changeUnits ? Math.floor(remainingSpace / changeUnits) : remainingSpace;\r\n\r\n\t\t\t\t\tgap = remainingSpace - nextColWidth * changeUnits;\r\n\r\n\t\t\t\t\tgap += scaleColumns(undersizeCols, remainingSpace, nextColWidth, shrinkCols);\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tgap = changeUnits ? freeSpace - Math.floor(freeSpace / changeUnits) * changeUnits : freeSpace;\r\n\r\n\t\t\t\t\tundersizeCols.forEach(function (column) {\r\n\r\n\t\t\t\t\t\tcolumn.width = shrinkCols ? calcShrink(column) : calcGrow(column);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn gap;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\r\n\r\n\t\t\t\tthis.table.modules.responsiveLayout.update();\r\n\t\t\t}\r\n\r\n\t\t\t//adjust for vertical scrollbar if present\r\n\r\n\r\n\t\t\tif (this.table.rowManager.element.scrollHeight > this.table.rowManager.element.clientHeight) {\r\n\r\n\t\t\t\ttotalWidth -= this.table.rowManager.element.offsetWidth - this.table.rowManager.element.clientWidth;\r\n\t\t\t}\r\n\r\n\t\t\tcolumns.forEach(function (column) {\r\n\r\n\t\t\t\tvar width, minWidth, colWidth;\r\n\r\n\t\t\t\tif (column.visible) {\r\n\r\n\t\t\t\t\twidth = column.definition.width;\r\n\r\n\t\t\t\t\tminWidth = parseInt(column.minWidth);\r\n\r\n\t\t\t\t\tif (width) {\r\n\r\n\t\t\t\t\t\tcolWidth = calcWidth(width);\r\n\r\n\t\t\t\t\t\tfixedWidth += colWidth > minWidth ? colWidth : minWidth;\r\n\r\n\t\t\t\t\t\tif (column.definition.widthShrink) {\r\n\r\n\t\t\t\t\t\t\tfixedShrinkColumns.push({\r\n\r\n\t\t\t\t\t\t\t\tcolumn: column,\r\n\r\n\t\t\t\t\t\t\t\twidth: colWidth > minWidth ? colWidth : minWidth\r\n\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\tflexShrinkUnits += column.definition.widthShrink;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tflexColumns.push({\r\n\r\n\t\t\t\t\t\t\tcolumn: column,\r\n\r\n\t\t\t\t\t\t\twidth: 0\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tflexGrowUnits += column.definition.widthGrow || 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t//calculate available space\r\n\r\n\r\n\t\t\tflexWidth = totalWidth - fixedWidth;\r\n\r\n\t\t\t//calculate correct column size\r\n\r\n\r\n\t\t\tflexColWidth = Math.floor(flexWidth / flexGrowUnits);\r\n\r\n\t\t\t//generate column widths\r\n\r\n\r\n\t\t\tvar gapFill = scaleColumns(flexColumns, flexWidth, flexColWidth, false);\r\n\r\n\t\t\t//increase width of last column to account for rounding errors\r\n\r\n\r\n\t\t\tif (flexColumns.length && gapFill > 0) {\r\n\r\n\t\t\t\tflexColumns[flexColumns.length - 1].width += +gapFill;\r\n\t\t\t}\r\n\r\n\t\t\t//caculate space for columns to be shrunk into\r\n\r\n\r\n\t\t\tflexColumns.forEach(function (col) {\r\n\r\n\t\t\t\tflexWidth -= col.width;\r\n\t\t\t});\r\n\r\n\t\t\toverflowWidth = Math.abs(gapFill) + flexWidth;\r\n\r\n\t\t\t//shrink oversize columns if there is no available space\r\n\r\n\r\n\t\t\tif (overflowWidth > 0 && flexShrinkUnits) {\r\n\r\n\t\t\t\tgapFill = scaleColumns(fixedShrinkColumns, overflowWidth, Math.floor(overflowWidth / flexShrinkUnits), true);\r\n\t\t\t}\r\n\r\n\t\t\t//decrease width of last column to account for rounding errors\r\n\r\n\r\n\t\t\tif (fixedShrinkColumns.length) {\r\n\r\n\t\t\t\tfixedShrinkColumns[fixedShrinkColumns.length - 1].width -= gapFill;\r\n\t\t\t}\r\n\r\n\t\t\tflexColumns.forEach(function (col) {\r\n\r\n\t\t\t\tcol.column.setWidth(col.width);\r\n\t\t\t});\r\n\r\n\t\t\tfixedShrinkColumns.forEach(function (col) {\r\n\r\n\t\t\t\tcol.column.setWidth(col.width);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"layout\", Layout);\r\n\r\n\tvar Localize = function Localize(table) {\r\n\r\n\t\tthis.table = table; //hold Tabulator object\r\n\r\n\t\tthis.locale = \"default\"; //current locale\r\n\r\n\t\tthis.lang = false; //current language\r\n\r\n\t\tthis.bindings = {}; //update events to call when locale is changed\r\n\r\n\t\tthis.langList = {};\r\n\t};\r\n\r\n\tLocalize.prototype.initialize = function () {\r\n\r\n\t\tthis.langList = Tabulator.prototype.helpers.deepClone(this.langs);\r\n\t};\r\n\r\n\t//set header placehoder\r\n\r\n\tLocalize.prototype.setHeaderFilterPlaceholder = function (placeholder) {\r\n\r\n\t\tthis.langList.default.headerFilters.default = placeholder;\r\n\t};\r\n\r\n\t//set header filter placeholder by column\r\n\r\n\tLocalize.prototype.setHeaderFilterColumnPlaceholder = function (column, placeholder) {\r\n\r\n\t\tthis.langList.default.headerFilters.columns[column] = placeholder;\r\n\r\n\t\tif (this.lang && !this.lang.headerFilters.columns[column]) {\r\n\r\n\t\t\tthis.lang.headerFilters.columns[column] = placeholder;\r\n\t\t}\r\n\t};\r\n\r\n\t//setup a lang description object\r\n\r\n\tLocalize.prototype.installLang = function (locale, lang) {\r\n\r\n\t\tif (this.langList[locale]) {\r\n\r\n\t\t\tthis._setLangProp(this.langList[locale], lang);\r\n\t\t} else {\r\n\r\n\t\t\tthis.langList[locale] = lang;\r\n\t\t}\r\n\t};\r\n\r\n\tLocalize.prototype._setLangProp = function (lang, values) {\r\n\r\n\t\tfor (var key in values) {\r\n\r\n\t\t\tif (lang[key] && _typeof(lang[key]) == \"object\") {\r\n\r\n\t\t\t\tthis._setLangProp(lang[key], values[key]);\r\n\t\t\t} else {\r\n\r\n\t\t\t\tlang[key] = values[key];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//set current locale\r\n\r\n\tLocalize.prototype.setLocale = function (desiredLocale) {\r\n\r\n\t\tvar self = this;\r\n\r\n\t\tdesiredLocale = desiredLocale || \"default\";\r\n\r\n\t\t//fill in any matching languge values\r\n\r\n\t\tfunction traverseLang(trans, path) {\r\n\r\n\t\t\tfor (var prop in trans) {\r\n\r\n\t\t\t\tif (_typeof(trans[prop]) == \"object\") {\r\n\r\n\t\t\t\t\tif (!path[prop]) {\r\n\r\n\t\t\t\t\t\tpath[prop] = {};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttraverseLang(trans[prop], path[prop]);\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tpath[prop] = trans[prop];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//determing correct locale to load\r\n\r\n\t\tif (desiredLocale === true && navigator.language) {\r\n\r\n\t\t\t//get local from system\r\n\r\n\t\t\tdesiredLocale = navigator.language.toLowerCase();\r\n\t\t}\r\n\r\n\t\tif (desiredLocale) {\r\n\r\n\t\t\t//if locale is not set, check for matching top level locale else use default\r\n\r\n\t\t\tif (!self.langList[desiredLocale]) {\r\n\r\n\t\t\t\tvar prefix = desiredLocale.split(\"-\")[0];\r\n\r\n\t\t\t\tif (self.langList[prefix]) {\r\n\r\n\t\t\t\t\tconsole.warn(\"Localization Error - Exact matching locale not found, using closest match: \", desiredLocale, prefix);\r\n\r\n\t\t\t\t\tdesiredLocale = prefix;\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.warn(\"Localization Error - Matching locale not found, using default: \", desiredLocale);\r\n\r\n\t\t\t\t\tdesiredLocale = \"default\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tself.locale = desiredLocale;\r\n\r\n\t\t//load default lang template\r\n\r\n\t\tself.lang = Tabulator.prototype.helpers.deepClone(self.langList.default || {});\r\n\r\n\t\tif (desiredLocale != \"default\") {\r\n\r\n\t\t\ttraverseLang(self.langList[desiredLocale], self.lang);\r\n\t\t}\r\n\r\n\t\tself.table.options.localized.call(self.table, self.locale, self.lang);\r\n\r\n\t\tself._executeBindings();\r\n\t};\r\n\r\n\t//get current locale\r\n\r\n\tLocalize.prototype.getLocale = function (locale) {\r\n\r\n\t\treturn self.locale;\r\n\t};\r\n\r\n\t//get lang object for given local or current if none provided\r\n\r\n\tLocalize.prototype.getLang = function (locale) {\r\n\r\n\t\treturn locale ? this.langList[locale] : this.lang;\r\n\t};\r\n\r\n\t//get text for current locale\r\n\r\n\tLocalize.prototype.getText = function (path, value) {\r\n\r\n\t\tvar path = value ? path + \"|\" + value : path,\r\n\t\t    pathArray = path.split(\"|\"),\r\n\t\t    text = this._getLangElement(pathArray, this.locale);\r\n\r\n\t\t// if(text === false){\r\n\r\n\t\t// \tconsole.warn(\"Localization Error - Matching localized text not found for given path: \", path);\r\n\r\n\t\t// }\r\n\r\n\r\n\t\treturn text || \"\";\r\n\t};\r\n\r\n\t//traverse langs object and find localized copy\r\n\r\n\tLocalize.prototype._getLangElement = function (path, locale) {\r\n\r\n\t\tvar self = this;\r\n\r\n\t\tvar root = self.lang;\r\n\r\n\t\tpath.forEach(function (level) {\r\n\r\n\t\t\tvar rootPath;\r\n\r\n\t\t\tif (root) {\r\n\r\n\t\t\t\trootPath = root[level];\r\n\r\n\t\t\t\tif (typeof rootPath != \"undefined\") {\r\n\r\n\t\t\t\t\troot = rootPath;\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\troot = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn root;\r\n\t};\r\n\r\n\t//set update binding\r\n\r\n\tLocalize.prototype.bind = function (path, callback) {\r\n\r\n\t\tif (!this.bindings[path]) {\r\n\r\n\t\t\tthis.bindings[path] = [];\r\n\t\t}\r\n\r\n\t\tthis.bindings[path].push(callback);\r\n\r\n\t\tcallback(this.getText(path), this.lang);\r\n\t};\r\n\r\n\t//itterate through bindings and trigger updates\r\n\r\n\tLocalize.prototype._executeBindings = function () {\r\n\r\n\t\tvar self = this;\r\n\r\n\t\tvar _loop = function _loop(path) {\r\n\r\n\t\t\tself.bindings[path].forEach(function (binding) {\r\n\r\n\t\t\t\tbinding(self.getText(path), self.lang);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tfor (var path in self.bindings) {\r\n\t\t\t_loop(path);\r\n\t\t}\r\n\t};\r\n\r\n\t//Localized text listings\r\n\r\n\tLocalize.prototype.langs = {\r\n\r\n\t\t\"default\": { //hold default locale text\r\n\r\n\t\t\t\"groups\": {\r\n\r\n\t\t\t\t\"item\": \"item\",\r\n\r\n\t\t\t\t\"items\": \"items\"\r\n\r\n\t\t\t},\r\n\r\n\t\t\t\"columns\": {},\r\n\r\n\t\t\t\"ajax\": {\r\n\r\n\t\t\t\t\"loading\": \"Loading\",\r\n\r\n\t\t\t\t\"error\": \"Error\"\r\n\r\n\t\t\t},\r\n\r\n\t\t\t\"pagination\": {\r\n\r\n\t\t\t\t\"page_size\": \"Page Size\",\r\n\r\n\t\t\t\t\"page_title\": \"Show Page\",\r\n\r\n\t\t\t\t\"first\": \"First\",\r\n\r\n\t\t\t\t\"first_title\": \"First Page\",\r\n\r\n\t\t\t\t\"last\": \"Last\",\r\n\r\n\t\t\t\t\"last_title\": \"Last Page\",\r\n\r\n\t\t\t\t\"prev\": \"Prev\",\r\n\r\n\t\t\t\t\"prev_title\": \"Prev Page\",\r\n\r\n\t\t\t\t\"next\": \"Next\",\r\n\r\n\t\t\t\t\"next_title\": \"Next Page\",\r\n\r\n\t\t\t\t\"all\": \"All\"\r\n\r\n\t\t\t},\r\n\r\n\t\t\t\"headerFilters\": {\r\n\r\n\t\t\t\t\"default\": \"filter column...\",\r\n\r\n\t\t\t\t\"columns\": {}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"localize\", Localize);\r\n\r\n\tvar Comms = function Comms(table) {\r\n\r\n\t\tthis.table = table;\r\n\t};\r\n\r\n\tComms.prototype.getConnections = function (selectors) {\r\n\r\n\t\tvar self = this,\r\n\t\t    connections = [],\r\n\t\t    connection;\r\n\r\n\t\tconnection = Tabulator.prototype.comms.lookupTable(selectors);\r\n\r\n\t\tconnection.forEach(function (con) {\r\n\r\n\t\t\tif (self.table !== con) {\r\n\r\n\t\t\t\tconnections.push(con);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn connections;\r\n\t};\r\n\r\n\tComms.prototype.send = function (selectors, module, action, data) {\r\n\r\n\t\tvar self = this,\r\n\t\t    connections = this.getConnections(selectors);\r\n\r\n\t\tconnections.forEach(function (connection) {\r\n\r\n\t\t\tconnection.tableComms(self.table.element, module, action, data);\r\n\t\t});\r\n\r\n\t\tif (!connections.length && selectors) {\r\n\r\n\t\t\tconsole.warn(\"Table Connection Error - No tables matching selector found\", selectors);\r\n\t\t}\r\n\t};\r\n\r\n\tComms.prototype.receive = function (table, module, action, data) {\r\n\r\n\t\tif (this.table.modExists(module)) {\r\n\r\n\t\t\treturn this.table.modules[module].commsReceived(table, action, data);\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn(\"Inter-table Comms Error - no such module:\", module);\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"comms\", Comms);\r\n\r\n\tvar Accessor = function Accessor(table) {\r\n\t\tthis.table = table; //hold Tabulator object\r\n\t\tthis.allowedTypes = [\"\", \"data\", \"download\", \"clipboard\", \"print\", \"htmlOutput\"]; //list of accessor types\r\n\t};\r\n\r\n\t//initialize column accessor\r\n\tAccessor.prototype.initializeColumn = function (column) {\r\n\t\tvar self = this,\r\n\t\t    match = false,\r\n\t\t    config = {};\r\n\r\n\t\tthis.allowedTypes.forEach(function (type) {\r\n\t\t\tvar key = \"accessor\" + (type.charAt(0).toUpperCase() + type.slice(1)),\r\n\t\t\t    accessor;\r\n\r\n\t\t\tif (column.definition[key]) {\r\n\t\t\t\taccessor = self.lookupAccessor(column.definition[key]);\r\n\r\n\t\t\t\tif (accessor) {\r\n\t\t\t\t\tmatch = true;\r\n\r\n\t\t\t\t\tconfig[key] = {\r\n\t\t\t\t\t\taccessor: accessor,\r\n\t\t\t\t\t\tparams: column.definition[key + \"Params\"] || {}\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (match) {\r\n\t\t\tcolumn.modules.accessor = config;\r\n\t\t}\r\n\t};\r\n\r\n\tAccessor.prototype.lookupAccessor = function (value) {\r\n\t\tvar accessor = false;\r\n\r\n\t\t//set column accessor\r\n\t\tswitch (typeof value === 'undefined' ? 'undefined' : _typeof(value)) {\r\n\t\t\tcase \"string\":\r\n\t\t\t\tif (this.accessors[value]) {\r\n\t\t\t\t\taccessor = this.accessors[value];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.warn(\"Accessor Error - No such accessor found, ignoring: \", value);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"function\":\r\n\t\t\t\taccessor = value;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn accessor;\r\n\t};\r\n\r\n\t//apply accessor to row\r\n\tAccessor.prototype.transformRow = function (row, type) {\r\n\t\tvar key = \"accessor\" + (type.charAt(0).toUpperCase() + type.slice(1)),\r\n\t\t    rowComponent = row.getComponent();\r\n\r\n\t\t//clone data object with deep copy to isolate internal data from returned result\r\n\t\tvar data = Tabulator.prototype.helpers.deepClone(row.data || {});\r\n\r\n\t\tthis.table.columnManager.traverse(function (column) {\r\n\t\t\tvar value, accessor, params, colCompnent;\r\n\r\n\t\t\tif (column.modules.accessor) {\r\n\r\n\t\t\t\taccessor = column.modules.accessor[key] || column.modules.accessor.accessor || false;\r\n\r\n\t\t\t\tif (accessor) {\r\n\t\t\t\t\tvalue = column.getFieldValue(data);\r\n\r\n\t\t\t\t\tif (value != \"undefined\") {\r\n\t\t\t\t\t\tcolCompnent = column.getComponent();\r\n\t\t\t\t\t\tparams = typeof accessor.params === \"function\" ? accessor.params(value, data, type, colCompnent, rowComponent) : accessor.params;\r\n\t\t\t\t\t\tcolumn.setFieldValue(data, accessor.accessor(value, data, type, params, colCompnent, rowComponent));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn data;\r\n\t},\r\n\r\n\t//default accessors\r\n\tAccessor.prototype.accessors = {};\r\n\r\n\tTabulator.prototype.registerModule(\"accessor\", Accessor);\r\n\tvar Ajax = function Ajax(table) {\r\n\r\n\t\tthis.table = table; //hold Tabulator object\r\n\t\tthis.config = false; //hold config object for ajax request\r\n\t\tthis.url = \"\"; //request URL\r\n\t\tthis.urlGenerator = false;\r\n\t\tthis.params = false; //request parameters\r\n\r\n\t\tthis.loaderElement = this.createLoaderElement(); //loader message div\r\n\t\tthis.msgElement = this.createMsgElement(); //message element\r\n\t\tthis.loadingElement = false;\r\n\t\tthis.errorElement = false;\r\n\t\tthis.loaderPromise = false;\r\n\r\n\t\tthis.progressiveLoad = false;\r\n\t\tthis.loading = false;\r\n\r\n\t\tthis.requestOrder = 0; //prevent requests comming out of sequence if overridden by another load request\r\n\t};\r\n\r\n\t//initialize setup options\r\n\tAjax.prototype.initialize = function () {\r\n\t\tvar template;\r\n\r\n\t\tthis.loaderElement.appendChild(this.msgElement);\r\n\r\n\t\tif (this.table.options.ajaxLoaderLoading) {\r\n\t\t\tif (typeof this.table.options.ajaxLoaderLoading == \"string\") {\r\n\t\t\t\ttemplate = document.createElement('template');\r\n\t\t\t\ttemplate.innerHTML = this.table.options.ajaxLoaderLoading.trim();\r\n\t\t\t\tthis.loadingElement = template.content.firstChild;\r\n\t\t\t} else {\r\n\t\t\t\tthis.loadingElement = this.table.options.ajaxLoaderLoading;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.loaderPromise = this.table.options.ajaxRequestFunc || this.defaultLoaderPromise;\r\n\r\n\t\tthis.urlGenerator = this.table.options.ajaxURLGenerator || this.defaultURLGenerator;\r\n\r\n\t\tif (this.table.options.ajaxLoaderError) {\r\n\t\t\tif (typeof this.table.options.ajaxLoaderError == \"string\") {\r\n\t\t\t\ttemplate = document.createElement('template');\r\n\t\t\t\ttemplate.innerHTML = this.table.options.ajaxLoaderError.trim();\r\n\t\t\t\tthis.errorElement = template.content.firstChild;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorElement = this.table.options.ajaxLoaderError;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.table.options.ajaxParams) {\r\n\t\t\tthis.setParams(this.table.options.ajaxParams);\r\n\t\t}\r\n\r\n\t\tif (this.table.options.ajaxConfig) {\r\n\t\t\tthis.setConfig(this.table.options.ajaxConfig);\r\n\t\t}\r\n\r\n\t\tif (this.table.options.ajaxURL) {\r\n\t\t\tthis.setUrl(this.table.options.ajaxURL);\r\n\t\t}\r\n\r\n\t\tif (this.table.options.ajaxProgressiveLoad) {\r\n\t\t\tif (this.table.options.pagination) {\r\n\t\t\t\tthis.progressiveLoad = false;\r\n\t\t\t\tconsole.error(\"Progressive Load Error - Pagination and progressive load cannot be used at the same time\");\r\n\t\t\t} else {\r\n\t\t\t\tif (this.table.modExists(\"page\")) {\r\n\t\t\t\t\tthis.progressiveLoad = this.table.options.ajaxProgressiveLoad;\r\n\t\t\t\t\tthis.table.modules.page.initializeProgressive(this.progressiveLoad);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.error(\"Pagination plugin is required for progressive ajax loading\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tAjax.prototype.createLoaderElement = function () {\r\n\t\tvar el = document.createElement(\"div\");\r\n\t\tel.classList.add(\"tabulator-loader\");\r\n\t\treturn el;\r\n\t};\r\n\r\n\tAjax.prototype.createMsgElement = function () {\r\n\t\tvar el = document.createElement(\"div\");\r\n\r\n\t\tel.classList.add(\"tabulator-loader-msg\");\r\n\t\tel.setAttribute(\"role\", \"alert\");\r\n\r\n\t\treturn el;\r\n\t};\r\n\r\n\t//set ajax params\r\n\tAjax.prototype.setParams = function (params, update) {\r\n\t\tif (update) {\r\n\t\t\tthis.params = this.params || {};\r\n\r\n\t\t\tfor (var key in params) {\r\n\t\t\t\tthis.params[key] = params[key];\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.params = params;\r\n\t\t}\r\n\t};\r\n\r\n\tAjax.prototype.getParams = function () {\r\n\t\treturn this.params || {};\r\n\t};\r\n\r\n\t//load config object\r\n\tAjax.prototype.setConfig = function (config) {\r\n\t\tthis._loadDefaultConfig();\r\n\r\n\t\tif (typeof config == \"string\") {\r\n\t\t\tthis.config.method = config;\r\n\t\t} else {\r\n\t\t\tfor (var key in config) {\r\n\t\t\t\tthis.config[key] = config[key];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//create config object from default\r\n\tAjax.prototype._loadDefaultConfig = function (force) {\r\n\t\tvar self = this;\r\n\t\tif (!self.config || force) {\r\n\r\n\t\t\tself.config = {};\r\n\r\n\t\t\t//load base config from defaults\r\n\t\t\tfor (var key in self.defaultConfig) {\r\n\t\t\t\tself.config[key] = self.defaultConfig[key];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//set request url\r\n\tAjax.prototype.setUrl = function (url) {\r\n\t\tthis.url = url;\r\n\t};\r\n\r\n\t//get request url\r\n\tAjax.prototype.getUrl = function () {\r\n\t\treturn this.url;\r\n\t};\r\n\r\n\t//lstandard loading function\r\n\tAjax.prototype.loadData = function (inPosition, columnsChanged) {\r\n\t\tvar self = this;\r\n\r\n\t\tif (this.progressiveLoad) {\r\n\t\t\treturn this._loadDataProgressive();\r\n\t\t} else {\r\n\t\t\treturn this._loadDataStandard(inPosition, columnsChanged);\r\n\t\t}\r\n\t};\r\n\r\n\tAjax.prototype.nextPage = function (diff) {\r\n\t\tvar margin;\r\n\r\n\t\tif (!this.loading) {\r\n\r\n\t\t\tmargin = this.table.options.ajaxProgressiveLoadScrollMargin || this.table.rowManager.getElement().clientHeight * 2;\r\n\r\n\t\t\tif (diff < margin) {\r\n\t\t\t\tthis.table.modules.page.nextPage().then(function () {}).catch(function () {});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tAjax.prototype.blockActiveRequest = function () {\r\n\t\tthis.requestOrder++;\r\n\t};\r\n\r\n\tAjax.prototype._loadDataProgressive = function () {\r\n\t\tthis.table.rowManager.setData([]);\r\n\t\treturn this.table.modules.page.setPage(1);\r\n\t};\r\n\r\n\tAjax.prototype._loadDataStandard = function (inPosition, columnsChanged) {\r\n\t\tvar _this42 = this;\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\t\t\t_this42.sendRequest(inPosition).then(function (data) {\r\n\t\t\t\t_this42.table.rowManager.setData(data, inPosition, columnsChanged).then(function () {\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t}).catch(function (e) {\r\n\t\t\t\t\treject(e);\r\n\t\t\t\t});\r\n\t\t\t}).catch(function (e) {\r\n\t\t\t\treject(e);\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tAjax.prototype.generateParamsList = function (data, prefix) {\r\n\t\tvar self = this,\r\n\t\t    output = [];\r\n\r\n\t\tprefix = prefix || \"\";\r\n\r\n\t\tif (Array.isArray(data)) {\r\n\t\t\tdata.forEach(function (item, i) {\r\n\t\t\t\toutput = output.concat(self.generateParamsList(item, prefix ? prefix + \"[\" + i + \"]\" : i));\r\n\t\t\t});\r\n\t\t} else if ((typeof data === 'undefined' ? 'undefined' : _typeof(data)) === \"object\") {\r\n\t\t\tfor (var key in data) {\r\n\t\t\t\toutput = output.concat(self.generateParamsList(data[key], prefix ? prefix + \"[\" + key + \"]\" : key));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\toutput.push({ key: prefix, value: data });\r\n\t\t}\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\tAjax.prototype.serializeParams = function (params) {\r\n\t\tvar output = this.generateParamsList(params),\r\n\t\t    encoded = [];\r\n\r\n\t\toutput.forEach(function (item) {\r\n\t\t\tencoded.push(encodeURIComponent(item.key) + \"=\" + encodeURIComponent(item.value));\r\n\t\t});\r\n\r\n\t\treturn encoded.join(\"&\");\r\n\t};\r\n\r\n\t//send ajax request\r\n\tAjax.prototype.sendRequest = function (silent) {\r\n\t\tvar _this43 = this;\r\n\r\n\t\tvar self = this,\r\n\t\t    url = self.url,\r\n\t\t    requestNo,\r\n\t\t    esc,\r\n\t\t    query;\r\n\r\n\t\tself.requestOrder++;\r\n\t\trequestNo = self.requestOrder;\r\n\r\n\t\tself._loadDefaultConfig();\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\t\t\tif (self.table.options.ajaxRequesting.call(_this43.table, self.url, self.params) !== false) {\r\n\r\n\t\t\t\tself.loading = true;\r\n\r\n\t\t\t\tif (!silent) {\r\n\t\t\t\t\tself.showLoader();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_this43.loaderPromise(url, self.config, self.params).then(function (data) {\r\n\t\t\t\t\tif (requestNo === self.requestOrder) {\r\n\t\t\t\t\t\tif (self.table.options.ajaxResponse) {\r\n\t\t\t\t\t\t\tdata = self.table.options.ajaxResponse.call(self.table, self.url, self.params, data);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve(data);\r\n\r\n\t\t\t\t\t\tself.hideLoader();\r\n\t\t\t\t\t\tself.loading = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.warn(\"Ajax Response Blocked - An active ajax request was blocked by an attempt to change table data while the request was being made\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function (error) {\r\n\t\t\t\t\tconsole.error(\"Ajax Load Error: \", error);\r\n\t\t\t\t\tself.table.options.ajaxError.call(self.table, error);\r\n\r\n\t\t\t\t\tself.showError();\r\n\r\n\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\tself.hideLoader();\r\n\t\t\t\t\t}, 3000);\r\n\r\n\t\t\t\t\tself.loading = false;\r\n\r\n\t\t\t\t\treject(error);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treject();\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tAjax.prototype.showLoader = function () {\r\n\t\tvar shouldLoad = typeof this.table.options.ajaxLoader === \"function\" ? this.table.options.ajaxLoader() : this.table.options.ajaxLoader;\r\n\r\n\t\tif (shouldLoad) {\r\n\r\n\t\t\tthis.hideLoader();\r\n\r\n\t\t\twhile (this.msgElement.firstChild) {\r\n\t\t\t\tthis.msgElement.removeChild(this.msgElement.firstChild);\r\n\t\t\t}this.msgElement.classList.remove(\"tabulator-error\");\r\n\t\t\tthis.msgElement.classList.add(\"tabulator-loading\");\r\n\r\n\t\t\tif (this.loadingElement) {\r\n\t\t\t\tthis.msgElement.appendChild(this.loadingElement);\r\n\t\t\t} else {\r\n\t\t\t\tthis.msgElement.innerHTML = this.table.modules.localize.getText(\"ajax|loading\");\r\n\t\t\t}\r\n\r\n\t\t\tthis.table.element.appendChild(this.loaderElement);\r\n\t\t}\r\n\t};\r\n\r\n\tAjax.prototype.showError = function () {\r\n\t\tthis.hideLoader();\r\n\r\n\t\twhile (this.msgElement.firstChild) {\r\n\t\t\tthis.msgElement.removeChild(this.msgElement.firstChild);\r\n\t\t}this.msgElement.classList.remove(\"tabulator-loading\");\r\n\t\tthis.msgElement.classList.add(\"tabulator-error\");\r\n\r\n\t\tif (this.errorElement) {\r\n\t\t\tthis.msgElement.appendChild(this.errorElement);\r\n\t\t} else {\r\n\t\t\tthis.msgElement.innerHTML = this.table.modules.localize.getText(\"ajax|error\");\r\n\t\t}\r\n\r\n\t\tthis.table.element.appendChild(this.loaderElement);\r\n\t};\r\n\r\n\tAjax.prototype.hideLoader = function () {\r\n\t\tif (this.loaderElement.parentNode) {\r\n\t\t\tthis.loaderElement.parentNode.removeChild(this.loaderElement);\r\n\t\t}\r\n\t};\r\n\r\n\t//default ajax config object\r\n\tAjax.prototype.defaultConfig = {\r\n\t\tmethod: \"GET\"\r\n\t};\r\n\r\n\tAjax.prototype.defaultURLGenerator = function (url, config, params) {\r\n\r\n\t\tif (url) {\r\n\t\t\tif (params && Object.keys(params).length) {\r\n\t\t\t\tif (!config.method || config.method.toLowerCase() == \"get\") {\r\n\t\t\t\t\tconfig.method = \"get\";\r\n\r\n\t\t\t\t\turl += (url.includes(\"?\") ? \"&\" : \"?\") + this.modules.ajax.serializeParams(params);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn url;\r\n\t};\r\n\r\n\tAjax.prototype.defaultLoaderPromise = function (url, config, params) {\r\n\t\tvar self = this,\r\n\t\t    contentType;\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\t//set url\r\n\t\t\turl = self.urlGenerator.call(self.table, url, config, params);\r\n\r\n\t\t\t//set body content if not GET request\r\n\t\t\tif (config.method.toUpperCase() != \"GET\") {\r\n\t\t\t\tcontentType = _typeof(self.table.options.ajaxContentType) === \"object\" ? self.table.options.ajaxContentType : self.contentTypeFormatters[self.table.options.ajaxContentType];\r\n\t\t\t\tif (contentType) {\r\n\r\n\t\t\t\t\tfor (var key in contentType.headers) {\r\n\t\t\t\t\t\tif (!config.headers) {\r\n\t\t\t\t\t\t\tconfig.headers = {};\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (typeof config.headers[key] === \"undefined\") {\r\n\t\t\t\t\t\t\tconfig.headers[key] = contentType.headers[key];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconfig.body = contentType.body.call(self, url, config, params);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.warn(\"Ajax Error - Invalid ajaxContentType value:\", self.table.options.ajaxContentType);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (url) {\r\n\r\n\t\t\t\t//configure headers\r\n\t\t\t\tif (typeof config.headers === \"undefined\") {\r\n\t\t\t\t\tconfig.headers = {};\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (typeof config.headers.Accept === \"undefined\") {\r\n\t\t\t\t\tconfig.headers.Accept = \"application/json\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (typeof config.headers[\"X-Requested-With\"] === \"undefined\") {\r\n\t\t\t\t\tconfig.headers[\"X-Requested-With\"] = \"XMLHttpRequest\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (typeof config.mode === \"undefined\") {\r\n\t\t\t\t\tconfig.mode = \"cors\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (config.mode == \"cors\") {\r\n\r\n\t\t\t\t\tif (typeof config.headers[\"Access-Control-Allow-Origin\"] === \"undefined\") {\r\n\t\t\t\t\t\tconfig.headers[\"Access-Control-Allow-Origin\"] = window.location.origin;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (typeof config.credentials === \"undefined\") {\r\n\t\t\t\t\t\tconfig.credentials = 'same-origin';\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (typeof config.credentials === \"undefined\") {\r\n\t\t\t\t\t\tconfig.credentials = 'include';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//send request\r\n\t\t\t\tfetch(url, config).then(function (response) {\r\n\t\t\t\t\tif (response.ok) {\r\n\t\t\t\t\t\tresponse.json().then(function (data) {\r\n\t\t\t\t\t\t\tresolve(data);\r\n\t\t\t\t\t\t}).catch(function (error) {\r\n\t\t\t\t\t\t\treject(error);\r\n\t\t\t\t\t\t\tconsole.warn(\"Ajax Load Error - Invalid JSON returned\", error);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.error(\"Ajax Load Error - Connection Error: \" + response.status, response.statusText);\r\n\t\t\t\t\t\treject(response);\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function (error) {\r\n\t\t\t\t\tconsole.error(\"Ajax Load Error - Connection Error: \", error);\r\n\t\t\t\t\treject(error);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn(\"Ajax Load Error - No URL Set\");\r\n\t\t\t\tresolve([]);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tAjax.prototype.contentTypeFormatters = {\r\n\t\t\"json\": {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t},\r\n\t\t\tbody: function body(url, config, params) {\r\n\t\t\t\treturn JSON.stringify(params);\r\n\t\t\t}\r\n\t\t},\r\n\t\t\"form\": {\r\n\t\t\theaders: {},\r\n\t\t\tbody: function body(url, config, params) {\r\n\t\t\t\tvar output = this.generateParamsList(params),\r\n\t\t\t\t    form = new FormData();\r\n\r\n\t\t\t\toutput.forEach(function (item) {\r\n\t\t\t\t\tform.append(item.key, item.value);\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn form;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"ajax\", Ajax);\r\n\r\n\t//public calc object\r\n\tvar CalcComponent = function CalcComponent(row) {\r\n\t\tthis._row = row;\r\n\t};\r\n\r\n\tCalcComponent.prototype.getData = function (transform) {\r\n\t\treturn this._row.getData(transform);\r\n\t};\r\n\r\n\tCalcComponent.prototype.getElement = function () {\r\n\t\treturn this._row.getElement();\r\n\t};\r\n\r\n\tCalcComponent.prototype.getTable = function () {\r\n\t\treturn this._row.table;\r\n\t};\r\n\r\n\tCalcComponent.prototype.getCells = function () {\r\n\t\tvar cells = [];\r\n\r\n\t\tthis._row.getCells().forEach(function (cell) {\r\n\t\t\tcells.push(cell.getComponent());\r\n\t\t});\r\n\r\n\t\treturn cells;\r\n\t};\r\n\r\n\tCalcComponent.prototype.getCell = function (column) {\r\n\t\tvar cell = this._row.getCell(column);\r\n\t\treturn cell ? cell.getComponent() : false;\r\n\t};\r\n\r\n\tCalcComponent.prototype._getSelf = function () {\r\n\t\treturn this._row;\r\n\t};\r\n\r\n\tvar ColumnCalcs = function ColumnCalcs(table) {\r\n\t\tthis.table = table; //hold Tabulator object\r\n\t\tthis.topCalcs = [];\r\n\t\tthis.botCalcs = [];\r\n\t\tthis.genColumn = false;\r\n\t\tthis.topElement = this.createElement();\r\n\t\tthis.botElement = this.createElement();\r\n\t\tthis.topRow = false;\r\n\t\tthis.botRow = false;\r\n\t\tthis.topInitialized = false;\r\n\t\tthis.botInitialized = false;\r\n\r\n\t\tthis.initialize();\r\n\t};\r\n\r\n\tColumnCalcs.prototype.createElement = function () {\r\n\t\tvar el = document.createElement(\"div\");\r\n\t\tel.classList.add(\"tabulator-calcs-holder\");\r\n\t\treturn el;\r\n\t};\r\n\r\n\tColumnCalcs.prototype.initialize = function () {\r\n\t\tthis.genColumn = new Column({ field: \"value\" }, this);\r\n\t};\r\n\r\n\t//dummy functions to handle being mock column manager\r\n\tColumnCalcs.prototype.registerColumnField = function () {};\r\n\r\n\t//initialize column calcs\r\n\tColumnCalcs.prototype.initializeColumn = function (column) {\r\n\t\tvar def = column.definition;\r\n\r\n\t\tvar config = {\r\n\t\t\ttopCalcParams: def.topCalcParams || {},\r\n\t\t\tbotCalcParams: def.bottomCalcParams || {}\r\n\t\t};\r\n\r\n\t\tif (def.topCalc) {\r\n\r\n\t\t\tswitch (_typeof(def.topCalc)) {\r\n\t\t\t\tcase \"string\":\r\n\t\t\t\t\tif (this.calculations[def.topCalc]) {\r\n\t\t\t\t\t\tconfig.topCalc = this.calculations[def.topCalc];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.warn(\"Column Calc Error - No such calculation found, ignoring: \", def.topCalc);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"function\":\r\n\t\t\t\t\tconfig.topCalc = def.topCalc;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (config.topCalc) {\r\n\t\t\t\tcolumn.modules.columnCalcs = config;\r\n\t\t\t\tthis.topCalcs.push(column);\r\n\r\n\t\t\t\tif (this.table.options.columnCalcs != \"group\") {\r\n\t\t\t\t\tthis.initializeTopRow();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (def.bottomCalc) {\r\n\t\t\tswitch (_typeof(def.bottomCalc)) {\r\n\t\t\t\tcase \"string\":\r\n\t\t\t\t\tif (this.calculations[def.bottomCalc]) {\r\n\t\t\t\t\t\tconfig.botCalc = this.calculations[def.bottomCalc];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.warn(\"Column Calc Error - No such calculation found, ignoring: \", def.bottomCalc);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"function\":\r\n\t\t\t\t\tconfig.botCalc = def.bottomCalc;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (config.botCalc) {\r\n\t\t\t\tcolumn.modules.columnCalcs = config;\r\n\t\t\t\tthis.botCalcs.push(column);\r\n\r\n\t\t\t\tif (this.table.options.columnCalcs != \"group\") {\r\n\t\t\t\t\tthis.initializeBottomRow();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tColumnCalcs.prototype.removeCalcs = function () {\r\n\t\tvar changed = false;\r\n\r\n\t\tif (this.topInitialized) {\r\n\t\t\tthis.topInitialized = false;\r\n\t\t\tthis.topElement.parentNode.removeChild(this.topElement);\r\n\t\t\tchanged = true;\r\n\t\t}\r\n\r\n\t\tif (this.botInitialized) {\r\n\t\t\tthis.botInitialized = false;\r\n\t\t\tthis.table.footerManager.remove(this.botElement);\r\n\t\t\tchanged = true;\r\n\t\t}\r\n\r\n\t\tif (changed) {\r\n\t\t\tthis.table.rowManager.adjustTableSize();\r\n\t\t}\r\n\t};\r\n\r\n\tColumnCalcs.prototype.initializeTopRow = function () {\r\n\t\tif (!this.topInitialized) {\r\n\t\t\tthis.table.columnManager.getElement().insertBefore(this.topElement, this.table.columnManager.headersElement.nextSibling);\r\n\t\t\tthis.topInitialized = true;\r\n\t\t}\r\n\t};\r\n\r\n\tColumnCalcs.prototype.initializeBottomRow = function () {\r\n\t\tif (!this.botInitialized) {\r\n\t\t\tthis.table.footerManager.prepend(this.botElement);\r\n\t\t\tthis.botInitialized = true;\r\n\t\t}\r\n\t};\r\n\r\n\tColumnCalcs.prototype.scrollHorizontal = function (left) {\r\n\t\tif (this.botInitialized && this.botRow) {\r\n\t\t\tthis.botRow.getElement().style.marginLeft = -left + \"px\";\r\n\t\t}\r\n\t};\r\n\r\n\tColumnCalcs.prototype.recalc = function (rows) {\r\n\t\tvar data, row;\r\n\r\n\t\tif (this.topInitialized || this.botInitialized) {\r\n\t\t\tdata = this.rowsToData(rows);\r\n\r\n\t\t\tif (this.topInitialized) {\r\n\t\t\t\tif (this.topRow) {\r\n\t\t\t\t\tthis.topRow.deleteCells();\r\n\t\t\t\t}\r\n\r\n\t\t\t\trow = this.generateRow(\"top\", this.rowsToData(rows));\r\n\t\t\t\tthis.topRow = row;\r\n\t\t\t\twhile (this.topElement.firstChild) {\r\n\t\t\t\t\tthis.topElement.removeChild(this.topElement.firstChild);\r\n\t\t\t\t}this.topElement.appendChild(row.getElement());\r\n\t\t\t\trow.initialize(true);\r\n\t\t\t}\r\n\r\n\t\t\tif (this.botInitialized) {\r\n\t\t\t\tif (this.botRow) {\r\n\t\t\t\t\tthis.botRow.deleteCells();\r\n\t\t\t\t}\r\n\r\n\t\t\t\trow = this.generateRow(\"bottom\", this.rowsToData(rows));\r\n\t\t\t\tthis.botRow = row;\r\n\t\t\t\twhile (this.botElement.firstChild) {\r\n\t\t\t\t\tthis.botElement.removeChild(this.botElement.firstChild);\r\n\t\t\t\t}this.botElement.appendChild(row.getElement());\r\n\t\t\t\trow.initialize(true);\r\n\t\t\t}\r\n\r\n\t\t\tthis.table.rowManager.adjustTableSize();\r\n\r\n\t\t\t//set resizable handles\r\n\t\t\tif (this.table.modExists(\"frozenColumns\")) {\r\n\t\t\t\tthis.table.modules.frozenColumns.layout();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tColumnCalcs.prototype.recalcRowGroup = function (row) {\r\n\t\tthis.recalcGroup(this.table.modules.groupRows.getRowGroup(row));\r\n\t};\r\n\r\n\tColumnCalcs.prototype.recalcAll = function () {\r\n\t\tvar _this44 = this;\r\n\r\n\t\tif (this.topCalcs.length || this.botCalcs.length) {\r\n\t\t\tif (this.table.options.columnCalcs !== \"group\") {\r\n\t\t\t\tthis.recalc(this.table.rowManager.activeRows);\r\n\t\t\t}\r\n\r\n\t\t\tif (this.table.options.groupBy && this.table.options.columnCalcs !== \"table\") {\r\n\r\n\t\t\t\tvar groups = table.modules.groupRows.getChildGroups();\r\n\r\n\t\t\t\tgroups.forEach(function (group) {\r\n\t\t\t\t\t_this44.recalcGroup(group);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tColumnCalcs.prototype.recalcGroup = function (group) {\r\n\t\tvar data, rowData;\r\n\r\n\t\tif (group) {\r\n\t\t\tif (group.calcs) {\r\n\t\t\t\tif (group.calcs.bottom) {\r\n\t\t\t\t\tdata = this.rowsToData(group.rows);\r\n\t\t\t\t\trowData = this.generateRowData(\"bottom\", data);\r\n\r\n\t\t\t\t\tgroup.calcs.bottom.updateData(rowData);\r\n\t\t\t\t\tgroup.calcs.bottom.reinitialize();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (group.calcs.top) {\r\n\t\t\t\t\tdata = this.rowsToData(group.rows);\r\n\t\t\t\t\trowData = this.generateRowData(\"top\", data);\r\n\r\n\t\t\t\t\tgroup.calcs.top.updateData(rowData);\r\n\t\t\t\t\tgroup.calcs.top.reinitialize();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//generate top stats row\r\n\tColumnCalcs.prototype.generateTopRow = function (rows) {\r\n\t\treturn this.generateRow(\"top\", this.rowsToData(rows));\r\n\t};\r\n\t//generate bottom stats row\r\n\tColumnCalcs.prototype.generateBottomRow = function (rows) {\r\n\t\treturn this.generateRow(\"bottom\", this.rowsToData(rows));\r\n\t};\r\n\r\n\tColumnCalcs.prototype.rowsToData = function (rows) {\r\n\t\tvar _this45 = this;\r\n\r\n\t\tvar data = [];\r\n\r\n\t\trows.forEach(function (row) {\r\n\t\t\tdata.push(row.getData());\r\n\r\n\t\t\tif (_this45.table.options.dataTree && _this45.table.options.dataTreeChildColumnCalcs) {\r\n\t\t\t\tif (row.modules.dataTree.open) {\r\n\t\t\t\t\tvar children = _this45.rowsToData(_this45.table.modules.dataTree.getFilteredTreeChildren(row));\r\n\t\t\t\t\tdata = data.concat(children);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn data;\r\n\t};\r\n\r\n\t//generate stats row\r\n\tColumnCalcs.prototype.generateRow = function (pos, data) {\r\n\t\tvar self = this,\r\n\t\t    rowData = this.generateRowData(pos, data),\r\n\t\t    row;\r\n\r\n\t\tif (self.table.modExists(\"mutator\")) {\r\n\t\t\tself.table.modules.mutator.disable();\r\n\t\t}\r\n\r\n\t\trow = new Row(rowData, this, \"calc\");\r\n\r\n\t\tif (self.table.modExists(\"mutator\")) {\r\n\t\t\tself.table.modules.mutator.enable();\r\n\t\t}\r\n\r\n\t\trow.getElement().classList.add(\"tabulator-calcs\", \"tabulator-calcs-\" + pos);\r\n\r\n\t\trow.component = false;\r\n\r\n\t\trow.getComponent = function () {\r\n\t\t\tif (!this.component) {\r\n\t\t\t\tthis.component = new CalcComponent(this);\r\n\t\t\t}\r\n\r\n\t\t\treturn this.component;\r\n\t\t};\r\n\r\n\t\trow.generateCells = function () {\r\n\r\n\t\t\tvar cells = [];\r\n\r\n\t\t\tself.table.columnManager.columnsByIndex.forEach(function (column) {\r\n\r\n\t\t\t\t//set field name of mock column\r\n\t\t\t\tself.genColumn.setField(column.getField());\r\n\t\t\t\tself.genColumn.hozAlign = column.hozAlign;\r\n\r\n\t\t\t\tif (column.definition[pos + \"CalcFormatter\"] && self.table.modExists(\"format\")) {\r\n\t\t\t\t\tself.genColumn.modules.format = {\r\n\t\t\t\t\t\tformatter: self.table.modules.format.getFormatter(column.definition[pos + \"CalcFormatter\"]),\r\n\t\t\t\t\t\tparams: column.definition[pos + \"CalcFormatterParams\"] || {}\r\n\t\t\t\t\t};\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.genColumn.modules.format = {\r\n\t\t\t\t\t\tformatter: self.table.modules.format.getFormatter(\"plaintext\"),\r\n\t\t\t\t\t\tparams: {}\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//ensure css class defintion is replicated to calculation cell\r\n\t\t\t\tself.genColumn.definition.cssClass = column.definition.cssClass;\r\n\r\n\t\t\t\t//generate cell and assign to correct column\r\n\t\t\t\tvar cell = new Cell(self.genColumn, row);\r\n\t\t\t\tcell.getElement();\r\n\t\t\t\tcell.column = column;\r\n\t\t\t\tcell.setWidth();\r\n\r\n\t\t\t\tcolumn.cells.push(cell);\r\n\t\t\t\tcells.push(cell);\r\n\r\n\t\t\t\tif (!column.visible) {\r\n\t\t\t\t\tcell.hide();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.cells = cells;\r\n\t\t};\r\n\r\n\t\treturn row;\r\n\t};\r\n\r\n\t//generate stats row\r\n\tColumnCalcs.prototype.generateRowData = function (pos, data) {\r\n\t\tvar rowData = {},\r\n\t\t    calcs = pos == \"top\" ? this.topCalcs : this.botCalcs,\r\n\t\t    type = pos == \"top\" ? \"topCalc\" : \"botCalc\",\r\n\t\t    params,\r\n\t\t    paramKey;\r\n\r\n\t\tcalcs.forEach(function (column) {\r\n\t\t\tvar values = [];\r\n\r\n\t\t\tif (column.modules.columnCalcs && column.modules.columnCalcs[type]) {\r\n\t\t\t\tdata.forEach(function (item) {\r\n\t\t\t\t\tvalues.push(column.getFieldValue(item));\r\n\t\t\t\t});\r\n\r\n\t\t\t\tparamKey = type + \"Params\";\r\n\t\t\t\tparams = typeof column.modules.columnCalcs[paramKey] === \"function\" ? column.modules.columnCalcs[paramKey](values, data) : column.modules.columnCalcs[paramKey];\r\n\r\n\t\t\t\tcolumn.setFieldValue(rowData, column.modules.columnCalcs[type](values, data, params));\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn rowData;\r\n\t};\r\n\r\n\tColumnCalcs.prototype.hasTopCalcs = function () {\r\n\t\treturn !!this.topCalcs.length;\r\n\t};\r\n\r\n\tColumnCalcs.prototype.hasBottomCalcs = function () {\r\n\t\treturn !!this.botCalcs.length;\r\n\t};\r\n\r\n\t//handle table redraw\r\n\tColumnCalcs.prototype.redraw = function () {\r\n\t\tif (this.topRow) {\r\n\t\t\tthis.topRow.normalizeHeight(true);\r\n\t\t}\r\n\t\tif (this.botRow) {\r\n\t\t\tthis.botRow.normalizeHeight(true);\r\n\t\t}\r\n\t};\r\n\r\n\t//return the calculated\r\n\tColumnCalcs.prototype.getResults = function () {\r\n\t\tvar self = this,\r\n\t\t    results = {},\r\n\t\t    groups;\r\n\r\n\t\tif (this.table.options.groupBy && this.table.modExists(\"groupRows\")) {\r\n\t\t\tgroups = this.table.modules.groupRows.getGroups(true);\r\n\r\n\t\t\tgroups.forEach(function (group) {\r\n\t\t\t\tresults[group.getKey()] = self.getGroupResults(group);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tresults = {\r\n\t\t\t\ttop: this.topRow ? this.topRow.getData() : {},\r\n\t\t\t\tbottom: this.botRow ? this.botRow.getData() : {}\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\treturn results;\r\n\t};\r\n\r\n\t//get results from a group\r\n\tColumnCalcs.prototype.getGroupResults = function (group) {\r\n\t\tvar self = this,\r\n\t\t    groupObj = group._getSelf(),\r\n\t\t    subGroups = group.getSubGroups(),\r\n\t\t    subGroupResults = {},\r\n\t\t    results = {};\r\n\r\n\t\tsubGroups.forEach(function (subgroup) {\r\n\t\t\tsubGroupResults[subgroup.getKey()] = self.getGroupResults(subgroup);\r\n\t\t});\r\n\r\n\t\tresults = {\r\n\t\t\ttop: groupObj.calcs.top ? groupObj.calcs.top.getData() : {},\r\n\t\t\tbottom: groupObj.calcs.bottom ? groupObj.calcs.bottom.getData() : {},\r\n\t\t\tgroups: subGroupResults\r\n\t\t};\r\n\r\n\t\treturn results;\r\n\t};\r\n\r\n\t//default calculations\r\n\tColumnCalcs.prototype.calculations = {\r\n\t\t\"avg\": function avg(values, data, calcParams) {\r\n\t\t\tvar output = 0,\r\n\t\t\t    precision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : 2;\r\n\r\n\t\t\tif (values.length) {\r\n\t\t\t\toutput = values.reduce(function (sum, value) {\r\n\t\t\t\t\treturn Number(sum) + Number(value);\r\n\t\t\t\t});\r\n\r\n\t\t\t\toutput = output / values.length;\r\n\r\n\t\t\t\toutput = precision !== false ? output.toFixed(precision) : output;\r\n\t\t\t}\r\n\r\n\t\t\treturn parseFloat(output).toString();\r\n\t\t},\r\n\t\t\"max\": function max(values, data, calcParams) {\r\n\t\t\tvar output = null,\r\n\t\t\t    precision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : false;\r\n\r\n\t\t\tvalues.forEach(function (value) {\r\n\r\n\t\t\t\tvalue = Number(value);\r\n\r\n\t\t\t\tif (value > output || output === null) {\r\n\t\t\t\t\toutput = value;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn output !== null ? precision !== false ? output.toFixed(precision) : output : \"\";\r\n\t\t},\r\n\t\t\"min\": function min(values, data, calcParams) {\r\n\t\t\tvar output = null,\r\n\t\t\t    precision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : false;\r\n\r\n\t\t\tvalues.forEach(function (value) {\r\n\r\n\t\t\t\tvalue = Number(value);\r\n\r\n\t\t\t\tif (value < output || output === null) {\r\n\t\t\t\t\toutput = value;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn output !== null ? precision !== false ? output.toFixed(precision) : output : \"\";\r\n\t\t},\r\n\t\t\"sum\": function sum(values, data, calcParams) {\r\n\t\t\tvar output = 0,\r\n\t\t\t    precision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : false;\r\n\r\n\t\t\tif (values.length) {\r\n\t\t\t\tvalues.forEach(function (value) {\r\n\t\t\t\t\tvalue = Number(value);\r\n\r\n\t\t\t\t\toutput += !isNaN(value) ? Number(value) : 0;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn precision !== false ? output.toFixed(precision) : output;\r\n\t\t},\r\n\t\t\"concat\": function concat(values, data, calcParams) {\r\n\t\t\tvar output = 0;\r\n\r\n\t\t\tif (values.length) {\r\n\t\t\t\toutput = values.reduce(function (sum, value) {\r\n\t\t\t\t\treturn String(sum) + String(value);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn output;\r\n\t\t},\r\n\t\t\"count\": function count(values, data, calcParams) {\r\n\t\t\tvar output = 0;\r\n\r\n\t\t\tif (values.length) {\r\n\t\t\t\tvalues.forEach(function (value) {\r\n\t\t\t\t\tif (value) {\r\n\t\t\t\t\t\toutput++;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn output;\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"columnCalcs\", ColumnCalcs);\r\n\r\n\tvar Clipboard = function Clipboard(table) {\r\n\t\tthis.table = table;\r\n\t\tthis.mode = true;\r\n\r\n\t\tthis.pasteParser = function () {};\r\n\t\tthis.pasteAction = function () {};\r\n\t\tthis.customSelection = false;\r\n\t\tthis.rowRange = false;\r\n\t\tthis.blocked = true; //block copy actions not originating from this command\r\n\t};\r\n\r\n\tClipboard.prototype.initialize = function () {\r\n\t\tvar _this46 = this;\r\n\r\n\t\tthis.mode = this.table.options.clipboard;\r\n\r\n\t\tthis.rowRange = this.table.options.clipboardCopyRowRange;\r\n\r\n\t\tif (this.mode === true || this.mode === \"copy\") {\r\n\t\t\tthis.table.element.addEventListener(\"copy\", function (e) {\r\n\t\t\t\tvar plain, html, list;\r\n\r\n\t\t\t\tif (!_this46.blocked) {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tif (_this46.customSelection) {\r\n\t\t\t\t\t\tplain = _this46.customSelection;\r\n\r\n\t\t\t\t\t\tif (_this46.table.options.clipboardCopyFormatter) {\r\n\t\t\t\t\t\t\tplain = _this46.table.options.clipboardCopyFormatter(\"plain\", plain);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tvar list = _this46.table.modules.export.generateExportList(_this46.table.options.clipboardCopyConfig, _this46.table.options.clipboardCopyStyled, _this46.rowRange, \"clipboard\");\r\n\r\n\t\t\t\t\t\thtml = _this46.table.modules.export.genereateHTMLTable(list);\r\n\t\t\t\t\t\tplain = html ? _this46.generatePlainContent(list) : \"\";\r\n\r\n\t\t\t\t\t\tif (_this46.table.options.clipboardCopyFormatter) {\r\n\t\t\t\t\t\t\tplain = _this46.table.options.clipboardCopyFormatter(\"plain\", plain);\r\n\t\t\t\t\t\t\thtml = _this46.table.options.clipboardCopyFormatter(\"html\", html);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (window.clipboardData && window.clipboardData.setData) {\r\n\t\t\t\t\t\twindow.clipboardData.setData('Text', plain);\r\n\t\t\t\t\t} else if (e.clipboardData && e.clipboardData.setData) {\r\n\t\t\t\t\t\te.clipboardData.setData('text/plain', plain);\r\n\t\t\t\t\t\tif (html) {\r\n\t\t\t\t\t\t\te.clipboardData.setData('text/html', html);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (e.originalEvent && e.originalEvent.clipboardData.setData) {\r\n\t\t\t\t\t\te.originalEvent.clipboardData.setData('text/plain', plain);\r\n\t\t\t\t\t\tif (html) {\r\n\t\t\t\t\t\t\te.originalEvent.clipboardData.setData('text/html', html);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t_this46.table.options.clipboardCopied.call(_this46.table, plain, html);\r\n\r\n\t\t\t\t\t_this46.reset();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (this.mode === true || this.mode === \"paste\") {\r\n\t\t\tthis.table.element.addEventListener(\"paste\", function (e) {\r\n\t\t\t\t_this46.paste(e);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.setPasteParser(this.table.options.clipboardPasteParser);\r\n\t\tthis.setPasteAction(this.table.options.clipboardPasteAction);\r\n\t};\r\n\r\n\tClipboard.prototype.reset = function () {\r\n\t\tthis.blocked = true;\r\n\t\tthis.customSelection = false;\r\n\t};\r\n\r\n\tClipboard.prototype.generatePlainContent = function (list) {\r\n\t\tvar output = [];\r\n\r\n\t\tlist.forEach(function (row) {\r\n\t\t\tvar rowData = [];\r\n\r\n\t\t\trow.columns.forEach(function (col) {\r\n\t\t\t\tvar value = \"\";\r\n\r\n\t\t\t\tif (col) {\r\n\r\n\t\t\t\t\tif (row.type === \"group\") {\r\n\t\t\t\t\t\tcol.value = col.component.getKey();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (col.value === null) {\r\n\t\t\t\t\t\tvalue = \"\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tswitch (_typeof(col.value)) {\r\n\t\t\t\t\t\t\tcase \"object\":\r\n\t\t\t\t\t\t\t\tvalue = JSON.stringify(col.value);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase \"undefined\":\r\n\t\t\t\t\t\t\t\tvalue = \"\";\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tvalue = col.value;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\trowData.push(value);\r\n\t\t\t});\r\n\r\n\t\t\toutput.push(rowData.join(\"\\t\"));\r\n\t\t});\r\n\r\n\t\treturn output.join(\"\\n\");\r\n\t};\r\n\r\n\tClipboard.prototype.copy = function (range, internal) {\r\n\t\tvar range, sel, textRange;\r\n\t\tthis.blocked = false;\r\n\t\tthis.customSelection = false;\r\n\r\n\t\tif (this.mode === true || this.mode === \"copy\") {\r\n\r\n\t\t\tthis.rowRange = range || this.table.options.clipboardCopyRowRange;\r\n\r\n\t\t\tif (typeof window.getSelection != \"undefined\" && typeof document.createRange != \"undefined\") {\r\n\t\t\t\trange = document.createRange();\r\n\t\t\t\trange.selectNodeContents(this.table.element);\r\n\t\t\t\tsel = window.getSelection();\r\n\r\n\t\t\t\tif (sel.toString() && internal) {\r\n\t\t\t\t\tthis.customSelection = sel.toString();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsel.removeAllRanges();\r\n\t\t\t\tsel.addRange(range);\r\n\t\t\t} else if (typeof document.selection != \"undefined\" && typeof document.body.createTextRange != \"undefined\") {\r\n\t\t\t\ttextRange = document.body.createTextRange();\r\n\t\t\t\ttextRange.moveToElementText(this.table.element);\r\n\t\t\t\ttextRange.select();\r\n\t\t\t}\r\n\r\n\t\t\tdocument.execCommand('copy');\r\n\r\n\t\t\tif (sel) {\r\n\t\t\t\tsel.removeAllRanges();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//PASTE EVENT HANDLING\r\n\r\n\tClipboard.prototype.setPasteAction = function (action) {\r\n\r\n\t\tswitch (typeof action === 'undefined' ? 'undefined' : _typeof(action)) {\r\n\t\t\tcase \"string\":\r\n\t\t\t\tthis.pasteAction = this.pasteActions[action];\r\n\r\n\t\t\t\tif (!this.pasteAction) {\r\n\t\t\t\t\tconsole.warn(\"Clipboard Error - No such paste action found:\", action);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"function\":\r\n\t\t\t\tthis.pasteAction = action;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\tClipboard.prototype.setPasteParser = function (parser) {\r\n\t\tswitch (typeof parser === 'undefined' ? 'undefined' : _typeof(parser)) {\r\n\t\t\tcase \"string\":\r\n\t\t\t\tthis.pasteParser = this.pasteParsers[parser];\r\n\r\n\t\t\t\tif (!this.pasteParser) {\r\n\t\t\t\t\tconsole.warn(\"Clipboard Error - No such paste parser found:\", parser);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"function\":\r\n\t\t\t\tthis.pasteParser = parser;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\tClipboard.prototype.paste = function (e) {\r\n\t\tvar data, rowData, rows;\r\n\r\n\t\tif (this.checkPaseOrigin(e)) {\r\n\r\n\t\t\tdata = this.getPasteData(e);\r\n\r\n\t\t\trowData = this.pasteParser.call(this, data);\r\n\r\n\t\t\tif (rowData) {\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tif (this.table.modExists(\"mutator\")) {\r\n\t\t\t\t\trowData = this.mutateData(rowData);\r\n\t\t\t\t}\r\n\r\n\t\t\t\trows = this.pasteAction.call(this, rowData);\r\n\t\t\t\tthis.table.options.clipboardPasted.call(this.table, data, rowData, rows);\r\n\t\t\t} else {\r\n\t\t\t\tthis.table.options.clipboardPasteError.call(this.table, data);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tClipboard.prototype.mutateData = function (data) {\r\n\t\tvar self = this,\r\n\t\t    output = [];\r\n\r\n\t\tif (Array.isArray(data)) {\r\n\t\t\tdata.forEach(function (row) {\r\n\t\t\t\toutput.push(self.table.modules.mutator.transformRow(row, \"clipboard\"));\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\toutput = data;\r\n\t\t}\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\tClipboard.prototype.checkPaseOrigin = function (e) {\r\n\t\tvar valid = true;\r\n\r\n\t\tif (e.target.tagName != \"DIV\" || this.table.modules.edit.currentCell) {\r\n\t\t\tvalid = false;\r\n\t\t}\r\n\r\n\t\treturn valid;\r\n\t};\r\n\r\n\tClipboard.prototype.getPasteData = function (e) {\r\n\t\tvar data;\r\n\r\n\t\tif (window.clipboardData && window.clipboardData.getData) {\r\n\t\t\tdata = window.clipboardData.getData('Text');\r\n\t\t} else if (e.clipboardData && e.clipboardData.getData) {\r\n\t\t\tdata = e.clipboardData.getData('text/plain');\r\n\t\t} else if (e.originalEvent && e.originalEvent.clipboardData.getData) {\r\n\t\t\tdata = e.originalEvent.clipboardData.getData('text/plain');\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t};\r\n\r\n\tClipboard.prototype.pasteParsers = {\r\n\t\ttable: function table(clipboard) {\r\n\t\t\tvar data = [],\r\n\t\t\t    success = false,\r\n\t\t\t    headerFindSuccess = true,\r\n\t\t\t    columns = this.table.columnManager.columns,\r\n\t\t\t    columnMap = [],\r\n\t\t\t    rows = [];\r\n\r\n\t\t\t//get data from clipboard into array of columns and rows.\r\n\t\t\tclipboard = clipboard.split(\"\\n\");\r\n\r\n\t\t\tclipboard.forEach(function (row) {\r\n\t\t\t\tdata.push(row.split(\"\\t\"));\r\n\t\t\t});\r\n\r\n\t\t\tif (data.length && !(data.length === 1 && data[0].length < 2)) {\r\n\t\t\t\tsuccess = true;\r\n\r\n\t\t\t\t//check if headers are present by title\r\n\t\t\t\tdata[0].forEach(function (value) {\r\n\t\t\t\t\tvar column = columns.find(function (column) {\r\n\t\t\t\t\t\treturn value && column.definition.title && value.trim() && column.definition.title.trim() === value.trim();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (column) {\r\n\t\t\t\t\t\tcolumnMap.push(column);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\theaderFindSuccess = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t//check if column headers are present by field\r\n\t\t\t\tif (!headerFindSuccess) {\r\n\t\t\t\t\theaderFindSuccess = true;\r\n\t\t\t\t\tcolumnMap = [];\r\n\r\n\t\t\t\t\tdata[0].forEach(function (value) {\r\n\t\t\t\t\t\tvar column = columns.find(function (column) {\r\n\t\t\t\t\t\t\treturn value && column.field && value.trim() && column.field.trim() === value.trim();\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tif (column) {\r\n\t\t\t\t\t\t\tcolumnMap.push(column);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\theaderFindSuccess = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (!headerFindSuccess) {\r\n\t\t\t\t\t\tcolumnMap = this.table.columnManager.columnsByIndex;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//remove header row if found\r\n\t\t\t\tif (headerFindSuccess) {\r\n\t\t\t\t\tdata.shift();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdata.forEach(function (item) {\r\n\t\t\t\t\tvar row = {};\r\n\r\n\t\t\t\t\titem.forEach(function (value, i) {\r\n\t\t\t\t\t\tif (columnMap[i]) {\r\n\t\t\t\t\t\t\trow[columnMap[i].field] = value;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\trows.push(row);\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn rows;\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tClipboard.prototype.pasteActions = {\r\n\t\treplace: function replace(rows) {\r\n\t\t\treturn this.table.setData(rows);\r\n\t\t},\r\n\t\tupdate: function update(rows) {\r\n\t\t\treturn this.table.updateOrAddData(rows);\r\n\t\t},\r\n\t\tinsert: function insert(rows) {\r\n\t\t\treturn this.table.addData(rows);\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"clipboard\", Clipboard);\r\n\r\n\tvar DataTree = function DataTree(table) {\r\n\t\tthis.table = table;\r\n\t\tthis.indent = 10;\r\n\t\tthis.field = \"\";\r\n\t\tthis.collapseEl = null;\r\n\t\tthis.expandEl = null;\r\n\t\tthis.branchEl = null;\r\n\t\tthis.elementField = false;\r\n\r\n\t\tthis.startOpen = function () {};\r\n\r\n\t\tthis.displayIndex = 0;\r\n\t};\r\n\r\n\tDataTree.prototype.initialize = function () {\r\n\t\tvar dummyEl = null,\r\n\t\t    firstCol = this.table.columnManager.getFirstVisibileColumn(),\r\n\t\t    options = this.table.options;\r\n\r\n\t\tthis.field = options.dataTreeChildField;\r\n\t\tthis.indent = options.dataTreeChildIndent;\r\n\t\tthis.elementField = options.dataTreeElementColumn || (firstCol ? firstCol.field : false);\r\n\r\n\t\tif (options.dataTreeBranchElement) {\r\n\r\n\t\t\tif (options.dataTreeBranchElement === true) {\r\n\t\t\t\tthis.branchEl = document.createElement(\"div\");\r\n\t\t\t\tthis.branchEl.classList.add(\"tabulator-data-tree-branch\");\r\n\t\t\t} else {\r\n\t\t\t\tif (typeof options.dataTreeBranchElement === \"string\") {\r\n\t\t\t\t\tdummyEl = document.createElement(\"div\");\r\n\t\t\t\t\tdummyEl.innerHTML = options.dataTreeBranchElement;\r\n\t\t\t\t\tthis.branchEl = dummyEl.firstChild;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.branchEl = options.dataTreeBranchElement;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (options.dataTreeCollapseElement) {\r\n\t\t\tif (typeof options.dataTreeCollapseElement === \"string\") {\r\n\t\t\t\tdummyEl = document.createElement(\"div\");\r\n\t\t\t\tdummyEl.innerHTML = options.dataTreeCollapseElement;\r\n\t\t\t\tthis.collapseEl = dummyEl.firstChild;\r\n\t\t\t} else {\r\n\t\t\t\tthis.collapseEl = options.dataTreeCollapseElement;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.collapseEl = document.createElement(\"div\");\r\n\t\t\tthis.collapseEl.classList.add(\"tabulator-data-tree-control\");\r\n\t\t\tthis.collapseEl.tabIndex = 0;\r\n\t\t\tthis.collapseEl.innerHTML = \"<div class='tabulator-data-tree-control-collapse'></div>\";\r\n\t\t}\r\n\r\n\t\tif (options.dataTreeExpandElement) {\r\n\t\t\tif (typeof options.dataTreeExpandElement === \"string\") {\r\n\t\t\t\tdummyEl = document.createElement(\"div\");\r\n\t\t\t\tdummyEl.innerHTML = options.dataTreeExpandElement;\r\n\t\t\t\tthis.expandEl = dummyEl.firstChild;\r\n\t\t\t} else {\r\n\t\t\t\tthis.expandEl = options.dataTreeExpandElement;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.expandEl = document.createElement(\"div\");\r\n\t\t\tthis.expandEl.classList.add(\"tabulator-data-tree-control\");\r\n\t\t\tthis.expandEl.tabIndex = 0;\r\n\t\t\tthis.expandEl.innerHTML = \"<div class='tabulator-data-tree-control-expand'></div>\";\r\n\t\t}\r\n\r\n\t\tswitch (_typeof(options.dataTreeStartExpanded)) {\r\n\t\t\tcase \"boolean\":\r\n\t\t\t\tthis.startOpen = function (row, index) {\r\n\t\t\t\t\treturn options.dataTreeStartExpanded;\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"function\":\r\n\t\t\t\tthis.startOpen = options.dataTreeStartExpanded;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tthis.startOpen = function (row, index) {\r\n\t\t\t\t\treturn options.dataTreeStartExpanded[index];\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\tDataTree.prototype.initializeRow = function (row) {\r\n\t\tvar childArray = row.getData()[this.field];\r\n\t\tvar isArray = Array.isArray(childArray);\r\n\r\n\t\tvar children = isArray || !isArray && (typeof childArray === 'undefined' ? 'undefined' : _typeof(childArray)) === \"object\" && childArray !== null;\r\n\r\n\t\tif (!children && row.modules.dataTree && row.modules.dataTree.branchEl) {\r\n\t\t\trow.modules.dataTree.branchEl.parentNode.removeChild(row.modules.dataTree.branchEl);\r\n\t\t}\r\n\r\n\t\tif (!children && row.modules.dataTree && row.modules.dataTree.controlEl) {\r\n\t\t\trow.modules.dataTree.controlEl.parentNode.removeChild(row.modules.dataTree.controlEl);\r\n\t\t}\r\n\r\n\t\trow.modules.dataTree = {\r\n\t\t\tindex: row.modules.dataTree ? row.modules.dataTree.index : 0,\r\n\t\t\topen: children ? row.modules.dataTree ? row.modules.dataTree.open : this.startOpen(row.getComponent(), 0) : false,\r\n\t\t\tcontrolEl: row.modules.dataTree && children ? row.modules.dataTree.controlEl : false,\r\n\t\t\tbranchEl: row.modules.dataTree && children ? row.modules.dataTree.branchEl : false,\r\n\t\t\tparent: row.modules.dataTree ? row.modules.dataTree.parent : false,\r\n\t\t\tchildren: children\r\n\t\t};\r\n\t};\r\n\r\n\tDataTree.prototype.layoutRow = function (row) {\r\n\t\tvar cell = this.elementField ? row.getCell(this.elementField) : row.getCells()[0],\r\n\t\t    el = cell.getElement(),\r\n\t\t    config = row.modules.dataTree;\r\n\r\n\t\tif (config.branchEl) {\r\n\t\t\tif (config.branchEl.parentNode) {\r\n\t\t\t\tconfig.branchEl.parentNode.removeChild(config.branchEl);\r\n\t\t\t}\r\n\t\t\tconfig.branchEl = false;\r\n\t\t}\r\n\r\n\t\tif (config.controlEl) {\r\n\t\t\tif (config.controlEl.parentNode) {\r\n\t\t\t\tconfig.controlEl.parentNode.removeChild(config.controlEl);\r\n\t\t\t}\r\n\t\t\tconfig.controlEl = false;\r\n\t\t}\r\n\r\n\t\tthis.generateControlElement(row, el);\r\n\r\n\t\trow.getElement().classList.add(\"tabulator-tree-level-\" + config.index);\r\n\r\n\t\tif (config.index) {\r\n\t\t\tif (this.branchEl) {\r\n\t\t\t\tconfig.branchEl = this.branchEl.cloneNode(true);\r\n\t\t\t\tel.insertBefore(config.branchEl, el.firstChild);\r\n\r\n\t\t\t\tif (this.table.rtl) {\r\n\t\t\t\t\tconfig.branchEl.style.marginRight = (config.branchEl.offsetWidth + config.branchEl.style.marginLeft) * (config.index - 1) + config.index * this.indent + \"px\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconfig.branchEl.style.marginLeft = (config.branchEl.offsetWidth + config.branchEl.style.marginRight) * (config.index - 1) + config.index * this.indent + \"px\";\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (this.table.rtl) {\r\n\t\t\t\t\tel.style.paddingRight = parseInt(window.getComputedStyle(el, null).getPropertyValue('padding-right')) + config.index * this.indent + \"px\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tel.style.paddingLeft = parseInt(window.getComputedStyle(el, null).getPropertyValue('padding-left')) + config.index * this.indent + \"px\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tDataTree.prototype.generateControlElement = function (row, el) {\r\n\t\tvar _this47 = this;\r\n\r\n\t\tvar config = row.modules.dataTree,\r\n\t\t    el = el || row.getCells()[0].getElement(),\r\n\t\t    oldControl = config.controlEl;\r\n\r\n\t\tif (config.children !== false) {\r\n\r\n\t\t\tif (config.open) {\r\n\t\t\t\tconfig.controlEl = this.collapseEl.cloneNode(true);\r\n\t\t\t\tconfig.controlEl.addEventListener(\"click\", function (e) {\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t_this47.collapseRow(row);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tconfig.controlEl = this.expandEl.cloneNode(true);\r\n\t\t\t\tconfig.controlEl.addEventListener(\"click\", function (e) {\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t_this47.expandRow(row);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tconfig.controlEl.addEventListener(\"mousedown\", function (e) {\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t});\r\n\r\n\t\t\tif (oldControl && oldControl.parentNode === el) {\r\n\t\t\t\toldControl.parentNode.replaceChild(config.controlEl, oldControl);\r\n\t\t\t} else {\r\n\t\t\t\tel.insertBefore(config.controlEl, el.firstChild);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tDataTree.prototype.setDisplayIndex = function (index) {\r\n\t\tthis.displayIndex = index;\r\n\t};\r\n\r\n\tDataTree.prototype.getDisplayIndex = function () {\r\n\t\treturn this.displayIndex;\r\n\t};\r\n\r\n\tDataTree.prototype.getRows = function (rows) {\r\n\t\tvar _this48 = this;\r\n\r\n\t\tvar output = [];\r\n\r\n\t\trows.forEach(function (row, i) {\r\n\t\t\tvar config, children;\r\n\r\n\t\t\toutput.push(row);\r\n\r\n\t\t\tif (row instanceof Row) {\r\n\r\n\t\t\t\trow.create();\r\n\r\n\t\t\t\tconfig = row.modules.dataTree.children;\r\n\r\n\t\t\t\tif (!config.index && config.children !== false) {\r\n\t\t\t\t\tchildren = _this48.getChildren(row);\r\n\r\n\t\t\t\t\tchildren.forEach(function (child) {\r\n\t\t\t\t\t\tchild.create();\r\n\t\t\t\t\t\toutput.push(child);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\tDataTree.prototype.getChildren = function (row, allChildren) {\r\n\t\tvar _this49 = this;\r\n\r\n\t\tvar config = row.modules.dataTree,\r\n\t\t    children = [],\r\n\t\t    output = [];\r\n\r\n\t\tif (config.children !== false && (config.open || allChildren)) {\r\n\t\t\tif (!Array.isArray(config.children)) {\r\n\t\t\t\tconfig.children = this.generateChildren(row);\r\n\t\t\t}\r\n\r\n\t\t\tif (this.table.modExists(\"filter\") && this.table.options.dataTreeFilter) {\r\n\t\t\t\tchildren = this.table.modules.filter.filter(config.children);\r\n\t\t\t} else {\r\n\t\t\t\tchildren = config.children;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.table.modExists(\"sort\") && this.table.options.dataTreeSort) {\r\n\t\t\t\tthis.table.modules.sort.sort(children);\r\n\t\t\t}\r\n\r\n\t\t\tchildren.forEach(function (child) {\r\n\t\t\t\toutput.push(child);\r\n\r\n\t\t\t\tvar subChildren = _this49.getChildren(child);\r\n\r\n\t\t\t\tsubChildren.forEach(function (sub) {\r\n\t\t\t\t\toutput.push(sub);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\tDataTree.prototype.generateChildren = function (row) {\r\n\t\tvar _this50 = this;\r\n\r\n\t\tvar children = [];\r\n\r\n\t\tvar childArray = row.getData()[this.field];\r\n\r\n\t\tif (!Array.isArray(childArray)) {\r\n\t\t\tchildArray = [childArray];\r\n\t\t}\r\n\r\n\t\tchildArray.forEach(function (childData) {\r\n\t\t\tvar childRow = new Row(childData || {}, _this50.table.rowManager);\r\n\r\n\t\t\tchildRow.create();\r\n\r\n\t\t\tchildRow.modules.dataTree.index = row.modules.dataTree.index + 1;\r\n\t\t\tchildRow.modules.dataTree.parent = row;\r\n\r\n\t\t\tif (childRow.modules.dataTree.children) {\r\n\t\t\t\tchildRow.modules.dataTree.open = _this50.startOpen(childRow.getComponent(), childRow.modules.dataTree.index);\r\n\t\t\t}\r\n\t\t\tchildren.push(childRow);\r\n\t\t});\r\n\r\n\t\treturn children;\r\n\t};\r\n\r\n\tDataTree.prototype.expandRow = function (row, silent) {\r\n\t\tvar config = row.modules.dataTree;\r\n\r\n\t\tif (config.children !== false) {\r\n\t\t\tconfig.open = true;\r\n\r\n\t\t\trow.reinitialize();\r\n\r\n\t\t\tthis.table.rowManager.refreshActiveData(\"tree\", false, true);\r\n\r\n\t\t\tthis.table.options.dataTreeRowExpanded(row.getComponent(), row.modules.dataTree.index);\r\n\t\t}\r\n\t};\r\n\r\n\tDataTree.prototype.collapseRow = function (row) {\r\n\t\tvar config = row.modules.dataTree;\r\n\r\n\t\tif (config.children !== false) {\r\n\t\t\tconfig.open = false;\r\n\r\n\t\t\trow.reinitialize();\r\n\r\n\t\t\tthis.table.rowManager.refreshActiveData(\"tree\", false, true);\r\n\r\n\t\t\tthis.table.options.dataTreeRowCollapsed(row.getComponent(), row.modules.dataTree.index);\r\n\t\t}\r\n\t};\r\n\r\n\tDataTree.prototype.toggleRow = function (row) {\r\n\t\tvar config = row.modules.dataTree;\r\n\r\n\t\tif (config.children !== false) {\r\n\t\t\tif (config.open) {\r\n\t\t\t\tthis.collapseRow(row);\r\n\t\t\t} else {\r\n\t\t\t\tthis.expandRow(row);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tDataTree.prototype.getTreeParent = function (row) {\r\n\t\treturn row.modules.dataTree.parent ? row.modules.dataTree.parent.getComponent() : false;\r\n\t};\r\n\r\n\tDataTree.prototype.getFilteredTreeChildren = function (row) {\r\n\t\tvar config = row.modules.dataTree,\r\n\t\t    output = [],\r\n\t\t    children;\r\n\r\n\t\tif (config.children) {\r\n\r\n\t\t\tif (!Array.isArray(config.children)) {\r\n\t\t\t\tconfig.children = this.generateChildren(row);\r\n\t\t\t}\r\n\r\n\t\t\tif (this.table.modExists(\"filter\") && this.table.options.dataTreeFilter) {\r\n\t\t\t\tchildren = this.table.modules.filter.filter(config.children);\r\n\t\t\t} else {\r\n\t\t\t\tchildren = config.children;\r\n\t\t\t}\r\n\r\n\t\t\tchildren.forEach(function (childRow) {\r\n\t\t\t\tif (childRow instanceof Row) {\r\n\t\t\t\t\toutput.push(childRow);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\tDataTree.prototype.rowDelete = function (row) {\r\n\t\tvar parent = row.modules.dataTree.parent,\r\n\t\t    childIndex;\r\n\r\n\t\tif (parent) {\r\n\t\t\tchildIndex = this.findChildIndex(row, parent);\r\n\r\n\t\t\tif (childIndex !== false) {\r\n\t\t\t\tparent.data[this.field].splice(childIndex, 1);\r\n\t\t\t}\r\n\r\n\t\t\tif (!parent.data[this.field].length) {\r\n\t\t\t\tdelete parent.data[this.field];\r\n\t\t\t}\r\n\r\n\t\t\tthis.initializeRow(parent);\r\n\t\t\tthis.layoutRow(parent);\r\n\t\t}\r\n\r\n\t\tthis.table.rowManager.refreshActiveData(\"tree\", false, true);\r\n\t};\r\n\r\n\tDataTree.prototype.addTreeChildRow = function (row, data, top, index) {\r\n\t\tvar childIndex = false;\r\n\r\n\t\tif (typeof data === \"string\") {\r\n\t\t\tdata = JSON.parse(data);\r\n\t\t}\r\n\r\n\t\tif (!Array.isArray(row.data[this.field])) {\r\n\t\t\trow.data[this.field] = [];\r\n\r\n\t\t\trow.modules.dataTree.open = this.startOpen(row.getComponent(), row.modules.dataTree.index);\r\n\t\t}\r\n\r\n\t\tif (typeof index !== \"undefined\") {\r\n\t\t\tchildIndex = this.findChildIndex(index, row);\r\n\r\n\t\t\tif (childIndex !== false) {\r\n\t\t\t\trow.data[this.field].splice(top ? childIndex : childIndex + 1, 0, data);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (childIndex === false) {\r\n\t\t\tif (top) {\r\n\t\t\t\trow.data[this.field].unshift(data);\r\n\t\t\t} else {\r\n\t\t\t\trow.data[this.field].push(data);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.initializeRow(row);\r\n\t\tthis.layoutRow(row);\r\n\r\n\t\tthis.table.rowManager.refreshActiveData(\"tree\", false, true);\r\n\t};\r\n\r\n\tDataTree.prototype.findChildIndex = function (subject, parent) {\r\n\t\tvar _this51 = this;\r\n\r\n\t\tvar match = false;\r\n\r\n\t\tif ((typeof subject === 'undefined' ? 'undefined' : _typeof(subject)) == \"object\") {\r\n\r\n\t\t\tif (subject instanceof Row) {\r\n\t\t\t\t//subject is row element\r\n\t\t\t\tmatch = subject.data;\r\n\t\t\t} else if (subject instanceof RowComponent) {\r\n\t\t\t\t//subject is public row component\r\n\t\t\t\tmatch = subject._getSelf().data;\r\n\t\t\t} else if (typeof HTMLElement !== \"undefined\" && subject instanceof HTMLElement) {\r\n\t\t\t\tif (parent.modules.dataTree) {\r\n\t\t\t\t\tmatch = parent.modules.dataTree.children.find(function (childRow) {\r\n\t\t\t\t\t\treturn childRow instanceof Row ? childRow.element === subject : false;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (match) {\r\n\t\t\t\t\t\tmatch = match.data;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (typeof subject == \"undefined\" || subject === null) {\r\n\t\t\tmatch = false;\r\n\t\t} else {\r\n\t\t\t//subject should be treated as the index of the row\r\n\t\t\tmatch = parent.data[this.field].find(function (row) {\r\n\t\t\t\treturn row.data[_this51.table.options.index] == subject;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (match) {\r\n\r\n\t\t\tif (Array.isArray(parent.data[this.field])) {\r\n\t\t\t\tmatch = parent.data[this.field].indexOf(match);\r\n\t\t\t}\r\n\r\n\t\t\tif (match == -1) {\r\n\t\t\t\tmatch = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//catch all for any other type of input\r\n\r\n\t\treturn match;\r\n\t};\r\n\r\n\tDataTree.prototype.getTreeChildren = function (row, component, recurse) {\r\n\t\tvar _this52 = this;\r\n\r\n\t\tvar config = row.modules.dataTree,\r\n\t\t    output = [];\r\n\r\n\t\tif (config.children) {\r\n\r\n\t\t\tif (!Array.isArray(config.children)) {\r\n\t\t\t\tconfig.children = this.generateChildren(row);\r\n\t\t\t}\r\n\r\n\t\t\tconfig.children.forEach(function (childRow) {\r\n\t\t\t\tif (childRow instanceof Row) {\r\n\t\t\t\t\toutput.push(component ? childRow.getComponent() : childRow);\r\n\r\n\t\t\t\t\tif (recurse) {\r\n\t\t\t\t\t\toutput = output.concat(_this52.getTreeChildren(childRow, component, recurse));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\tDataTree.prototype.checkForRestyle = function (cell) {\r\n\t\tif (!cell.row.cells.indexOf(cell)) {\r\n\t\t\tcell.row.reinitialize();\r\n\t\t}\r\n\t};\r\n\r\n\tDataTree.prototype.getChildField = function () {\r\n\t\treturn this.field;\r\n\t};\r\n\r\n\tDataTree.prototype.redrawNeeded = function (data) {\r\n\t\treturn (this.field ? typeof data[this.field] !== \"undefined\" : false) || (this.elementField ? typeof data[this.elementField] !== \"undefined\" : false);\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"dataTree\", DataTree);\r\n\r\n\tvar Download = function Download(table) {\r\n\t\tthis.table = table; //hold Tabulator object\r\n\t};\r\n\r\n\t//trigger file download\r\n\tDownload.prototype.download = function (type, filename, options, range, interceptCallback) {\r\n\t\tvar self = this,\r\n\t\t    downloadFunc = false;\r\n\r\n\t\tfunction buildLink(data, mime) {\r\n\t\t\tif (interceptCallback) {\r\n\t\t\t\tif (interceptCallback === true) {\r\n\t\t\t\t\tself.triggerDownload(data, mime, type, filename, true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tinterceptCallback(data);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tself.triggerDownload(data, mime, type, filename);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (typeof type == \"function\") {\r\n\t\t\tdownloadFunc = type;\r\n\t\t} else {\r\n\t\t\tif (self.downloaders[type]) {\r\n\t\t\t\tdownloadFunc = self.downloaders[type];\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn(\"Download Error - No such download type found: \", type);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (downloadFunc) {\r\n\t\t\tvar list = this.generateExportList(range);\r\n\r\n\t\t\tdownloadFunc.call(this.table, list, options || {}, buildLink);\r\n\t\t}\r\n\t};\r\n\r\n\tDownload.prototype.generateExportList = function (range) {\r\n\t\tvar list = this.table.modules.export.generateExportList(this.table.options.downloadConfig, false, range || this.table.options.downloadRowRange, \"download\");\r\n\r\n\t\t//assign group header formatter\r\n\t\tvar groupHeader = this.table.options.groupHeaderDownload;\r\n\r\n\t\tif (groupHeader && !Array.isArray(groupHeader)) {\r\n\t\t\tgroupHeader = [groupHeader];\r\n\t\t}\r\n\r\n\t\tlist.forEach(function (row) {\r\n\t\t\tvar group;\r\n\r\n\t\t\tif (row.type === \"group\") {\r\n\t\t\t\tgroup = row.columns[0];\r\n\r\n\t\t\t\tif (groupHeader && groupHeader[row.indent]) {\r\n\t\t\t\t\tgroup.value = groupHeader[row.indent](group.value, row.component._group.getRowCount(), row.component._group.getData(), row.component);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn list;\r\n\t};\r\n\r\n\tDownload.prototype.triggerDownload = function (data, mime, type, filename, newTab) {\r\n\t\tvar element = document.createElement('a'),\r\n\t\t    blob = new Blob([data], { type: mime }),\r\n\t\t    filename = filename || \"Tabulator.\" + (typeof type === \"function\" ? \"txt\" : type);\r\n\r\n\t\tblob = this.table.options.downloadReady.call(this.table, data, blob);\r\n\r\n\t\tif (blob) {\r\n\r\n\t\t\tif (newTab) {\r\n\t\t\t\twindow.open(window.URL.createObjectURL(blob));\r\n\t\t\t} else {\r\n\t\t\t\tif (navigator.msSaveOrOpenBlob) {\r\n\t\t\t\t\tnavigator.msSaveOrOpenBlob(blob, filename);\r\n\t\t\t\t} else {\r\n\t\t\t\t\telement.setAttribute('href', window.URL.createObjectURL(blob));\r\n\r\n\t\t\t\t\t//set file title\r\n\t\t\t\t\telement.setAttribute('download', filename);\r\n\r\n\t\t\t\t\t//trigger download\r\n\t\t\t\t\telement.style.display = 'none';\r\n\t\t\t\t\tdocument.body.appendChild(element);\r\n\t\t\t\t\telement.click();\r\n\r\n\t\t\t\t\t//remove temporary link element\r\n\t\t\t\t\tdocument.body.removeChild(element);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (this.table.options.downloadComplete) {\r\n\t\t\t\tthis.table.options.downloadComplete();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tDownload.prototype.commsReceived = function (table, action, data) {\r\n\t\tswitch (action) {\r\n\t\t\tcase \"intercept\":\r\n\t\t\t\tthis.download(data.type, \"\", data.options, data.active, data.intercept);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\t//downloaders\r\n\tDownload.prototype.downloaders = {\r\n\t\tcsv: function csv(list, options, setFileContents) {\r\n\t\t\tvar delimiter = options && options.delimiter ? options.delimiter : \",\",\r\n\t\t\t    fileContents = [],\r\n\t\t\t    headers = [];\r\n\r\n\t\t\tlist.forEach(function (row) {\r\n\t\t\t\tvar item = [];\r\n\r\n\t\t\t\tswitch (row.type) {\r\n\t\t\t\t\tcase \"group\":\r\n\t\t\t\t\t\tconsole.warn(\"Download Warning - CSV downloader cannot process row groups\");\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"calc\":\r\n\t\t\t\t\t\tconsole.warn(\"Download Warning - CSV downloader cannot process column calculations\");\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"header\":\r\n\t\t\t\t\t\trow.columns.forEach(function (col, i) {\r\n\t\t\t\t\t\t\tif (col && col.depth === 1) {\r\n\t\t\t\t\t\t\t\theaders[i] = typeof col.value == \"undefined\" || col.value === null ? \"\" : '\"' + String(col.value).split('\"').join('\"\"') + '\"';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"row\":\r\n\t\t\t\t\t\trow.columns.forEach(function (col) {\r\n\r\n\t\t\t\t\t\t\tif (col) {\r\n\r\n\t\t\t\t\t\t\t\tswitch (_typeof(col.value)) {\r\n\t\t\t\t\t\t\t\t\tcase \"object\":\r\n\t\t\t\t\t\t\t\t\t\tcol.value = JSON.stringify(col.value);\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\tcase \"undefined\":\r\n\t\t\t\t\t\t\t\t\tcase \"null\":\r\n\t\t\t\t\t\t\t\t\t\tcol.value = \"\";\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\titem.push('\"' + String(col.value).split('\"').join('\"\"') + '\"');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tfileContents.push(item.join(delimiter));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (headers.length) {\r\n\t\t\t\tfileContents.unshift(headers.join(delimiter));\r\n\t\t\t}\r\n\r\n\t\t\tfileContents = fileContents.join(\"\\n\");\r\n\r\n\t\t\tif (options.bom) {\r\n\t\t\t\tfileContents = '\\uFEFF' + fileContents;\r\n\t\t\t}\r\n\r\n\t\t\tsetFileContents(fileContents, \"text/csv\");\r\n\t\t},\r\n\r\n\t\tjson: function json(list, options, setFileContents) {\r\n\t\t\tvar fileContents = [];\r\n\r\n\t\t\tlist.forEach(function (row) {\r\n\t\t\t\tvar item = {};\r\n\r\n\t\t\t\tswitch (row.type) {\r\n\t\t\t\t\tcase \"header\":\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"group\":\r\n\t\t\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process row groups\");\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"calc\":\r\n\t\t\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process column calculations\");\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"row\":\r\n\t\t\t\t\t\trow.columns.forEach(function (col) {\r\n\t\t\t\t\t\t\tif (col) {\r\n\t\t\t\t\t\t\t\titem[col.component.getField()] = col.value;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tfileContents.push(item);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tfileContents = JSON.stringify(fileContents, null, '\\t');\r\n\r\n\t\t\tsetFileContents(fileContents, \"application/json\");\r\n\t\t},\r\n\r\n\t\tpdf: function pdf(list, options, setFileContents) {\r\n\t\t\tvar header = [],\r\n\t\t\t    body = [],\r\n\t\t\t    autoTableParams = {},\r\n\t\t\t    rowGroupStyles = options.rowGroupStyles || {\r\n\t\t\t\tfontStyle: \"bold\",\r\n\t\t\t\tfontSize: 12,\r\n\t\t\t\tcellPadding: 6,\r\n\t\t\t\tfillColor: 220\r\n\t\t\t},\r\n\t\t\t    rowCalcStyles = options.rowCalcStyles || {\r\n\t\t\t\tfontStyle: \"bold\",\r\n\t\t\t\tfontSize: 10,\r\n\t\t\t\tcellPadding: 4,\r\n\t\t\t\tfillColor: 232\r\n\t\t\t},\r\n\t\t\t    jsPDFParams = options.jsPDF || {},\r\n\t\t\t    title = options && options.title ? options.title : \"\";\r\n\r\n\t\t\tif (!jsPDFParams.orientation) {\r\n\t\t\t\tjsPDFParams.orientation = options.orientation || \"landscape\";\r\n\t\t\t}\r\n\r\n\t\t\tif (!jsPDFParams.unit) {\r\n\t\t\t\tjsPDFParams.unit = \"pt\";\r\n\t\t\t}\r\n\r\n\t\t\t//parse row list\r\n\t\t\tlist.forEach(function (row) {\r\n\t\t\t\tvar item = {};\r\n\r\n\t\t\t\tswitch (row.type) {\r\n\t\t\t\t\tcase \"header\":\r\n\t\t\t\t\t\theader.push(parseRow(row));\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"group\":\r\n\t\t\t\t\t\tbody.push(parseRow(row, rowGroupStyles));\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"calc\":\r\n\t\t\t\t\t\tbody.push(parseRow(row, rowCalcStyles));\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"row\":\r\n\t\t\t\t\t\tbody.push(parseRow(row));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tfunction parseRow(row, styles) {\r\n\t\t\t\tvar rowData = [];\r\n\r\n\t\t\t\trow.columns.forEach(function (col) {\r\n\t\t\t\t\tvar cell;\r\n\r\n\t\t\t\t\tif (col) {\r\n\t\t\t\t\t\tswitch (_typeof(col.value)) {\r\n\t\t\t\t\t\t\tcase \"object\":\r\n\t\t\t\t\t\t\t\tcol.value = JSON.stringify(col.value);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase \"undefined\":\r\n\t\t\t\t\t\t\tcase \"null\":\r\n\t\t\t\t\t\t\t\tcol.value = \"\";\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcell = {\r\n\t\t\t\t\t\t\tcontent: col.value,\r\n\t\t\t\t\t\t\tcolSpan: col.width,\r\n\t\t\t\t\t\t\trowSpan: col.height\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tif (styles) {\r\n\t\t\t\t\t\t\tcell.styles = styles;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\trowData.push(cell);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\trowData.push(\"\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn rowData;\r\n\t\t\t}\r\n\r\n\t\t\t//configure PDF\r\n\t\t\tvar doc = new jsPDF(jsPDFParams); //set document to landscape, better for most tables\r\n\r\n\t\t\tif (options && options.autoTable) {\r\n\t\t\t\tif (typeof options.autoTable === \"function\") {\r\n\t\t\t\t\tautoTableParams = options.autoTable(doc) || {};\r\n\t\t\t\t} else {\r\n\t\t\t\t\tautoTableParams = options.autoTable;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (title) {\r\n\t\t\t\tautoTableParams.addPageContent = function (data) {\r\n\t\t\t\t\tdoc.text(title, 40, 30);\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tautoTableParams.head = header;\r\n\t\t\tautoTableParams.body = body;\r\n\r\n\t\t\tdoc.autoTable(autoTableParams);\r\n\r\n\t\t\tif (options && options.documentProcessing) {\r\n\t\t\t\toptions.documentProcessing(doc);\r\n\t\t\t}\r\n\r\n\t\t\tsetFileContents(doc.output(\"arraybuffer\"), \"application/pdf\");\r\n\t\t},\r\n\r\n\t\txlsx: function xlsx(list, options, setFileContents) {\r\n\t\t\tvar self = this,\r\n\t\t\t    sheetName = options.sheetName || \"Sheet1\",\r\n\t\t\t    workbook = XLSX.utils.book_new(),\r\n\t\t\t    output;\r\n\r\n\t\t\tworkbook.SheetNames = [];\r\n\t\t\tworkbook.Sheets = {};\r\n\r\n\t\t\tfunction generateSheet() {\r\n\t\t\t\tvar rows = [],\r\n\t\t\t\t    merges = [],\r\n\t\t\t\t    worksheet = {},\r\n\t\t\t\t    range = { s: { c: 0, r: 0 }, e: { c: list[0] ? list[0].columns.reduce(function (a, b) {\r\n\t\t\t\t\t\t\treturn a + (b && b.width ? b.width : 1);\r\n\t\t\t\t\t\t}, 0) : 0, r: list.length } };\r\n\r\n\t\t\t\t//parse row list\r\n\t\t\t\tlist.forEach(function (row, i) {\r\n\t\t\t\t\tvar rowData = [];\r\n\r\n\t\t\t\t\trow.columns.forEach(function (col, j) {\r\n\r\n\t\t\t\t\t\tif (col) {\r\n\t\t\t\t\t\t\trowData.push(!(col.value instanceof Date) && _typeof(col.value) === \"object\" ? JSON.stringify(col.value) : col.value);\r\n\r\n\t\t\t\t\t\t\tif (col.width > 1 || col.height > -1) {\r\n\t\t\t\t\t\t\t\tmerges.push({ s: { r: i, c: j }, e: { r: i + col.height - 1, c: j + col.width - 1 } });\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\trowData.push(\"\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\trows.push(rowData);\r\n\t\t\t\t});\r\n\r\n\t\t\t\t//convert rows to worksheet\r\n\t\t\t\tXLSX.utils.sheet_add_aoa(worksheet, rows);\r\n\r\n\t\t\t\tworksheet['!ref'] = XLSX.utils.encode_range(range);\r\n\r\n\t\t\t\tif (merges.length) {\r\n\t\t\t\t\tworksheet[\"!merges\"] = merges;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn worksheet;\r\n\t\t\t}\r\n\r\n\t\t\tif (options.sheetOnly) {\r\n\t\t\t\tsetFileContents(generateSheet());\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (options.sheets) {\r\n\t\t\t\tfor (var sheet in options.sheets) {\r\n\r\n\t\t\t\t\tif (options.sheets[sheet] === true) {\r\n\t\t\t\t\t\tworkbook.SheetNames.push(sheet);\r\n\t\t\t\t\t\tworkbook.Sheets[sheet] = generateSheet();\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tworkbook.SheetNames.push(sheet);\r\n\r\n\t\t\t\t\t\tthis.modules.comms.send(options.sheets[sheet], \"download\", \"intercept\", {\r\n\t\t\t\t\t\t\ttype: \"xlsx\",\r\n\t\t\t\t\t\t\toptions: { sheetOnly: true },\r\n\t\t\t\t\t\t\tactive: self.active,\r\n\t\t\t\t\t\t\tintercept: function intercept(data) {\r\n\t\t\t\t\t\t\t\tworkbook.Sheets[sheet] = data;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tworkbook.SheetNames.push(sheetName);\r\n\t\t\t\tworkbook.Sheets[sheetName] = generateSheet();\r\n\t\t\t}\r\n\r\n\t\t\tif (options.documentProcessing) {\r\n\t\t\t\tworkbook = options.documentProcessing(workbook);\r\n\t\t\t}\r\n\r\n\t\t\t//convert workbook to binary array\r\n\t\t\tfunction s2ab(s) {\r\n\t\t\t\tvar buf = new ArrayBuffer(s.length);\r\n\t\t\t\tvar view = new Uint8Array(buf);\r\n\t\t\t\tfor (var i = 0; i != s.length; ++i) {\r\n\t\t\t\t\tview[i] = s.charCodeAt(i) & 0xFF;\r\n\t\t\t\t}return buf;\r\n\t\t\t}\r\n\r\n\t\t\toutput = XLSX.write(workbook, { bookType: 'xlsx', bookSST: true, type: 'binary' });\r\n\r\n\t\t\tsetFileContents(s2ab(output), \"application/octet-stream\");\r\n\t\t},\r\n\r\n\t\thtml: function html(list, options, setFileContents) {\r\n\t\t\tif (this.modExists(\"export\", true)) {\r\n\t\t\t\tsetFileContents(this.modules.export.genereateHTMLTable(list), \"text/html\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"download\", Download);\r\n\r\n\tvar Edit = function Edit(table) {\r\n\t\tthis.table = table; //hold Tabulator object\r\n\t\tthis.currentCell = false; //hold currently editing cell\r\n\t\tthis.mouseClick = false; //hold mousedown state to prevent click binding being overriden by editor opening\r\n\t\tthis.recursionBlock = false; //prevent focus recursion\r\n\t\tthis.invalidEdit = false;\r\n\t\tthis.editedCells = [];\r\n\t};\r\n\r\n\t//initialize column editor\r\n\tEdit.prototype.initializeColumn = function (column) {\r\n\t\tvar self = this,\r\n\t\t    config = {\r\n\t\t\teditor: false,\r\n\t\t\tblocked: false,\r\n\t\t\tcheck: column.definition.editable,\r\n\t\t\tparams: column.definition.editorParams || {}\r\n\t\t};\r\n\r\n\t\t//set column editor\r\n\t\tswitch (_typeof(column.definition.editor)) {\r\n\t\t\tcase \"string\":\r\n\r\n\t\t\t\tif (column.definition.editor === \"tick\") {\r\n\t\t\t\t\tcolumn.definition.editor = \"tickCross\";\r\n\t\t\t\t\tconsole.warn(\"DEPRECATION WARNING - the tick editor has been deprecated, please use the tickCross editor\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (self.editors[column.definition.editor]) {\r\n\t\t\t\t\tconfig.editor = self.editors[column.definition.editor];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.warn(\"Editor Error - No such editor found: \", column.definition.editor);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"function\":\r\n\t\t\t\tconfig.editor = column.definition.editor;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"boolean\":\r\n\r\n\t\t\t\tif (column.definition.editor === true) {\r\n\r\n\t\t\t\t\tif (typeof column.definition.formatter !== \"function\") {\r\n\r\n\t\t\t\t\t\tif (column.definition.formatter === \"tick\") {\r\n\t\t\t\t\t\t\tcolumn.definition.formatter = \"tickCross\";\r\n\t\t\t\t\t\t\tconsole.warn(\"DEPRECATION WARNING - the tick editor has been deprecated, please use the tickCross editor\");\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (self.editors[column.definition.formatter]) {\r\n\t\t\t\t\t\t\tconfig.editor = self.editors[column.definition.formatter];\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconfig.editor = self.editors[\"input\"];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.warn(\"Editor Error - Cannot auto lookup editor for a custom formatter: \", column.definition.formatter);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tif (config.editor) {\r\n\t\t\tcolumn.modules.edit = config;\r\n\t\t}\r\n\t};\r\n\r\n\tEdit.prototype.getCurrentCell = function () {\r\n\t\treturn this.currentCell ? this.currentCell.getComponent() : false;\r\n\t};\r\n\r\n\tEdit.prototype.clearEditor = function (cancel) {\r\n\t\tvar cell = this.currentCell,\r\n\t\t    cellEl;\r\n\r\n\t\tthis.invalidEdit = false;\r\n\r\n\t\tif (cell) {\r\n\t\t\tthis.currentCell = false;\r\n\r\n\t\t\tcellEl = cell.getElement();\r\n\r\n\t\t\tif (cancel) {\r\n\t\t\t\tcell.validate();\r\n\t\t\t} else {\r\n\t\t\t\tcellEl.classList.remove(\"tabulator-validation-fail\");\r\n\t\t\t}\r\n\r\n\t\t\tcellEl.classList.remove(\"tabulator-editing\");\r\n\t\t\twhile (cellEl.firstChild) {\r\n\t\t\t\tcellEl.removeChild(cellEl.firstChild);\r\n\t\t\t}cell.row.getElement().classList.remove(\"tabulator-row-editing\");\r\n\t\t}\r\n\t};\r\n\r\n\tEdit.prototype.cancelEdit = function () {\r\n\r\n\t\tif (this.currentCell) {\r\n\t\t\tvar cell = this.currentCell;\r\n\t\t\tvar component = this.currentCell.getComponent();\r\n\r\n\t\t\tthis.clearEditor(true);\r\n\t\t\tcell.setValueActual(cell.getValue());\r\n\t\t\tcell.cellRendered();\r\n\r\n\t\t\tif (cell.column.definition.editor == \"textarea\" || cell.column.definition.variableHeight) {\r\n\t\t\t\tcell.row.normalizeHeight(true);\r\n\t\t\t}\r\n\r\n\t\t\tif (cell.column.cellEvents.cellEditCancelled) {\r\n\t\t\t\tcell.column.cellEvents.cellEditCancelled.call(this.table, component);\r\n\t\t\t}\r\n\r\n\t\t\tthis.table.options.cellEditCancelled.call(this.table, component);\r\n\t\t}\r\n\t};\r\n\r\n\t//return a formatted value for a cell\r\n\tEdit.prototype.bindEditor = function (cell) {\r\n\t\tvar self = this,\r\n\t\t    element = cell.getElement(true);\r\n\r\n\t\telement.setAttribute(\"tabindex\", 0);\r\n\r\n\t\telement.addEventListener(\"click\", function (e) {\r\n\t\t\tif (!element.classList.contains(\"tabulator-editing\")) {\r\n\t\t\t\telement.focus({ preventScroll: true });\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\telement.addEventListener(\"mousedown\", function (e) {\r\n\t\t\tif (e.button === 2) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t} else {\r\n\t\t\t\tself.mouseClick = true;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\telement.addEventListener(\"focus\", function (e) {\r\n\t\t\tif (!self.recursionBlock) {\r\n\t\t\t\tself.edit(cell, e, false);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tEdit.prototype.focusCellNoEvent = function (cell, block) {\r\n\t\tthis.recursionBlock = true;\r\n\t\tif (!(block && this.table.browser === \"ie\")) {\r\n\t\t\tcell.getElement().focus({ preventScroll: true });\r\n\t\t}\r\n\t\tthis.recursionBlock = false;\r\n\t};\r\n\r\n\tEdit.prototype.editCell = function (cell, forceEdit) {\r\n\t\tthis.focusCellNoEvent(cell);\r\n\t\tthis.edit(cell, false, forceEdit);\r\n\t};\r\n\r\n\tEdit.prototype.focusScrollAdjust = function (cell) {\r\n\t\tif (this.table.rowManager.getRenderMode() == \"virtual\") {\r\n\t\t\tvar topEdge = this.table.rowManager.element.scrollTop,\r\n\t\t\t    bottomEdge = this.table.rowManager.element.clientHeight + this.table.rowManager.element.scrollTop,\r\n\t\t\t    rowEl = cell.row.getElement(),\r\n\t\t\t    offset = rowEl.offsetTop;\r\n\r\n\t\t\tif (rowEl.offsetTop < topEdge) {\r\n\t\t\t\tthis.table.rowManager.element.scrollTop -= topEdge - rowEl.offsetTop;\r\n\t\t\t} else {\r\n\t\t\t\tif (rowEl.offsetTop + rowEl.offsetHeight > bottomEdge) {\r\n\t\t\t\t\tthis.table.rowManager.element.scrollTop += rowEl.offsetTop + rowEl.offsetHeight - bottomEdge;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar leftEdge = this.table.rowManager.element.scrollLeft,\r\n\t\t\t    rightEdge = this.table.rowManager.element.clientWidth + this.table.rowManager.element.scrollLeft,\r\n\t\t\t    cellEl = cell.getElement(),\r\n\t\t\t    offset = cellEl.offsetLeft;\r\n\r\n\t\t\tif (this.table.modExists(\"frozenColumns\")) {\r\n\t\t\t\tleftEdge += parseInt(this.table.modules.frozenColumns.leftMargin);\r\n\t\t\t\trightEdge -= parseInt(this.table.modules.frozenColumns.rightMargin);\r\n\t\t\t}\r\n\r\n\t\t\tif (this.table.options.virtualDomHoz) {\r\n\t\t\t\tleftEdge -= parseInt(this.table.vdomHoz.vDomPadLeft);\r\n\t\t\t\trightEdge -= parseInt(this.table.vdomHoz.vDomPadLeft);\r\n\t\t\t}\r\n\r\n\t\t\tif (cellEl.offsetLeft < leftEdge) {\r\n\r\n\t\t\t\tthis.table.rowManager.element.scrollLeft -= leftEdge - cellEl.offsetLeft;\r\n\t\t\t} else {\r\n\t\t\t\tif (cellEl.offsetLeft + cellEl.offsetWidth > rightEdge) {\r\n\t\t\t\t\tthis.table.rowManager.element.scrollLeft += cellEl.offsetLeft + cellEl.offsetWidth - rightEdge;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tEdit.prototype.edit = function (cell, e, forceEdit) {\r\n\t\tvar self = this,\r\n\t\t    allowEdit = true,\r\n\t\t    rendered = function rendered() {},\r\n\t\t    element = cell.getElement(),\r\n\t\t    cellEditor,\r\n\t\t    component,\r\n\t\t    params;\r\n\r\n\t\t//prevent editing if another cell is refusing to leave focus (eg. validation fail)\r\n\t\tif (this.currentCell) {\r\n\t\t\tif (!this.invalidEdit) {\r\n\t\t\t\tthis.cancelEdit();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t//handle successfull value change\r\n\t\tfunction success(value) {\r\n\t\t\tif (self.currentCell === cell) {\r\n\t\t\t\tvar valid = true;\r\n\r\n\t\t\t\tif (cell.column.modules.validate && self.table.modExists(\"validate\") && self.table.options.validationMode != \"manual\") {\r\n\t\t\t\t\tvalid = self.table.modules.validate.validate(cell.column.modules.validate, cell, value);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (valid === true || self.table.options.validationMode === \"highlight\") {\r\n\t\t\t\t\tself.clearEditor();\r\n\r\n\t\t\t\t\tif (!cell.modules.edit) {\r\n\t\t\t\t\t\tcell.modules.edit = {};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcell.modules.edit.edited = true;\r\n\r\n\t\t\t\t\tif (self.editedCells.indexOf(cell) == -1) {\r\n\t\t\t\t\t\tself.editedCells.push(cell);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcell.setValue(value, true);\r\n\r\n\t\t\t\t\tif (self.table.options.dataTree && self.table.modExists(\"dataTree\")) {\r\n\t\t\t\t\t\tself.table.modules.dataTree.checkForRestyle(cell);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (valid !== true) {\r\n\t\t\t\t\t\telement.classList.add(\"tabulator-validation-fail\");\r\n\t\t\t\t\t\tself.table.options.validationFailed.call(self.table, cell.getComponent(), value, valid);\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.invalidEdit = true;\r\n\t\t\t\t\telement.classList.add(\"tabulator-validation-fail\");\r\n\t\t\t\t\tself.focusCellNoEvent(cell, true);\r\n\t\t\t\t\trendered();\r\n\t\t\t\t\tself.table.options.validationFailed.call(self.table, cell.getComponent(), value, valid);\r\n\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// console.warn(\"Edit Success Error - cannot call success on a cell that is no longer being edited\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//handle aborted edit\r\n\t\tfunction cancel() {\r\n\t\t\tif (self.currentCell === cell) {\r\n\t\t\t\tself.cancelEdit();\r\n\r\n\t\t\t\tif (self.table.options.dataTree && self.table.modExists(\"dataTree\")) {\r\n\t\t\t\t\tself.table.modules.dataTree.checkForRestyle(cell);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// console.warn(\"Edit Success Error - cannot call cancel on a cell that is no longer being edited\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction onRendered(callback) {\r\n\t\t\trendered = callback;\r\n\t\t}\r\n\r\n\t\tif (!cell.column.modules.edit.blocked) {\r\n\t\t\tif (e) {\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t}\r\n\r\n\t\t\tswitch (_typeof(cell.column.modules.edit.check)) {\r\n\t\t\t\tcase \"function\":\r\n\t\t\t\t\tallowEdit = cell.column.modules.edit.check(cell.getComponent());\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"boolean\":\r\n\t\t\t\t\tallowEdit = cell.column.modules.edit.check;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif (allowEdit || forceEdit) {\r\n\r\n\t\t\t\tself.cancelEdit();\r\n\r\n\t\t\t\tself.currentCell = cell;\r\n\r\n\t\t\t\tthis.focusScrollAdjust(cell);\r\n\r\n\t\t\t\tcomponent = cell.getComponent();\r\n\r\n\t\t\t\tif (this.mouseClick) {\r\n\t\t\t\t\tthis.mouseClick = false;\r\n\r\n\t\t\t\t\tif (cell.column.cellEvents.cellClick) {\r\n\t\t\t\t\t\tcell.column.cellEvents.cellClick.call(this.table, e, component);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (cell.column.cellEvents.cellEditing) {\r\n\t\t\t\t\tcell.column.cellEvents.cellEditing.call(this.table, component);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tself.table.options.cellEditing.call(this.table, component);\r\n\r\n\t\t\t\tparams = typeof cell.column.modules.edit.params === \"function\" ? cell.column.modules.edit.params(component) : cell.column.modules.edit.params;\r\n\r\n\t\t\t\tcellEditor = cell.column.modules.edit.editor.call(self, component, onRendered, success, cancel, params);\r\n\r\n\t\t\t\t//if editor returned, add to DOM, if false, abort edit\r\n\t\t\t\tif (cellEditor !== false) {\r\n\r\n\t\t\t\t\tif (cellEditor instanceof Node) {\r\n\t\t\t\t\t\telement.classList.add(\"tabulator-editing\");\r\n\t\t\t\t\t\tcell.row.getElement().classList.add(\"tabulator-row-editing\");\r\n\t\t\t\t\t\twhile (element.firstChild) {\r\n\t\t\t\t\t\t\telement.removeChild(element.firstChild);\r\n\t\t\t\t\t\t}element.appendChild(cellEditor);\r\n\r\n\t\t\t\t\t\t//trigger onRendered Callback\r\n\t\t\t\t\t\trendered();\r\n\r\n\t\t\t\t\t\t//prevent editing from triggering rowClick event\r\n\t\t\t\t\t\tvar children = element.children;\r\n\r\n\t\t\t\t\t\tfor (var i = 0; i < children.length; i++) {\r\n\t\t\t\t\t\t\tchildren[i].addEventListener(\"click\", function (e) {\r\n\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.warn(\"Edit Error - Editor should return an instance of Node, the editor returned:\", cellEditor);\r\n\t\t\t\t\t\telement.blur();\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\telement.blur();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.mouseClick = false;\r\n\t\t\t\telement.blur();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.mouseClick = false;\r\n\t\t\telement.blur();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tEdit.prototype.maskInput = function (el, options) {\r\n\t\tvar mask = options.mask,\r\n\t\t    maskLetter = typeof options.maskLetterChar !== \"undefined\" ? options.maskLetterChar : \"A\",\r\n\t\t    maskNumber = typeof options.maskNumberChar !== \"undefined\" ? options.maskNumberChar : \"9\",\r\n\t\t    maskWildcard = typeof options.maskWildcardChar !== \"undefined\" ? options.maskWildcardChar : \"*\",\r\n\t\t    success = false;\r\n\r\n\t\tfunction fillSymbols(index) {\r\n\t\t\tvar symbol = mask[index];\r\n\t\t\tif (typeof symbol !== \"undefined\" && symbol !== maskWildcard && symbol !== maskLetter && symbol !== maskNumber) {\r\n\t\t\t\tel.value = el.value + \"\" + symbol;\r\n\t\t\t\tfillSymbols(index + 1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tel.addEventListener(\"keydown\", function (e) {\r\n\t\t\tvar index = el.value.length,\r\n\t\t\t    char = e.key;\r\n\r\n\t\t\tif (e.keyCode > 46) {\r\n\t\t\t\tif (index >= mask.length) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\tsuccess = false;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tswitch (mask[index]) {\r\n\t\t\t\t\t\tcase maskLetter:\r\n\t\t\t\t\t\t\tif (char.toUpperCase() == char.toLowerCase()) {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\tsuccess = false;\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase maskNumber:\r\n\t\t\t\t\t\t\tif (isNaN(char)) {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\tsuccess = false;\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase maskWildcard:\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tif (char !== mask[index]) {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\tsuccess = false;\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsuccess = true;\r\n\t\t\t}\r\n\r\n\t\t\treturn;\r\n\t\t});\r\n\r\n\t\tel.addEventListener(\"keyup\", function (e) {\r\n\t\t\tif (e.keyCode > 46) {\r\n\t\t\t\tif (options.maskAutoFill) {\r\n\t\t\t\t\tfillSymbols(el.value.length);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (!el.placeholder) {\r\n\t\t\tel.placeholder = mask;\r\n\t\t}\r\n\r\n\t\tif (options.maskAutoFill) {\r\n\t\t\tfillSymbols(el.value.length);\r\n\t\t}\r\n\t};\r\n\r\n\tEdit.prototype.getEditedCells = function () {\r\n\t\tvar output = [];\r\n\r\n\t\tthis.editedCells.forEach(function (cell) {\r\n\t\t\toutput.push(cell.getComponent());\r\n\t\t});\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\tEdit.prototype.clearEdited = function (cell) {\r\n\t\tvar editIndex;\r\n\r\n\t\tif (cell.modules.edit && cell.modules.edit.edited) {\r\n\t\t\tcell.modules.edit.edited = false;\r\n\r\n\t\t\tif (cell.modules.validate) {\r\n\t\t\t\tcell.modules.validate.invalid = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\teditIndex = this.editedCells.indexOf(cell);\r\n\r\n\t\tif (editIndex > -1) {\r\n\t\t\tthis.editedCells.splice(editIndex, 1);\r\n\t\t}\r\n\t};\r\n\r\n\t//default data editors\r\n\tEdit.prototype.editors = {\r\n\r\n\t\t//input element\r\n\t\tinput: function input(cell, onRendered, success, cancel, editorParams) {\r\n\r\n\t\t\t//create and style input\r\n\t\t\tvar cellValue = cell.getValue(),\r\n\t\t\t    input = document.createElement(\"input\");\r\n\r\n\t\t\tinput.setAttribute(\"type\", editorParams.search ? \"search\" : \"text\");\r\n\r\n\t\t\tinput.style.padding = \"4px\";\r\n\t\t\tinput.style.width = \"100%\";\r\n\t\t\tinput.style.boxSizing = \"border-box\";\r\n\r\n\t\t\tif (editorParams.elementAttributes && _typeof(editorParams.elementAttributes) == \"object\") {\r\n\t\t\t\tfor (var key in editorParams.elementAttributes) {\r\n\t\t\t\t\tif (key.charAt(0) == \"+\") {\r\n\t\t\t\t\t\tkey = key.slice(1);\r\n\t\t\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tinput.value = typeof cellValue !== \"undefined\" ? cellValue : \"\";\r\n\r\n\t\t\tonRendered(function () {\r\n\t\t\t\tinput.focus({ preventScroll: true });\r\n\t\t\t\tinput.style.height = \"100%\";\r\n\t\t\t});\r\n\r\n\t\t\tfunction onChange(e) {\r\n\t\t\t\tif ((cellValue === null || typeof cellValue === \"undefined\") && input.value !== \"\" || input.value !== cellValue) {\r\n\t\t\t\t\tif (success(input.value)) {\r\n\t\t\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcancel();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//submit new value on blur or change\r\n\t\t\tinput.addEventListener(\"change\", onChange);\r\n\t\t\tinput.addEventListener(\"blur\", onChange);\r\n\r\n\t\t\t//submit new value on enter\r\n\t\t\tinput.addEventListener(\"keydown\", function (e) {\r\n\t\t\t\tswitch (e.keyCode) {\r\n\t\t\t\t\t// case 9:\r\n\t\t\t\t\tcase 13:\r\n\t\t\t\t\t\tonChange(e);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 27:\r\n\t\t\t\t\t\tcancel();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 35:\r\n\t\t\t\t\tcase 36:\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (editorParams.mask) {\r\n\t\t\t\tthis.table.modules.edit.maskInput(input, editorParams);\r\n\t\t\t}\r\n\r\n\t\t\treturn input;\r\n\t\t},\r\n\r\n\t\t//resizable text area element\r\n\t\ttextarea: function textarea(cell, onRendered, success, cancel, editorParams) {\r\n\t\t\tvar self = this,\r\n\t\t\t    cellValue = cell.getValue(),\r\n\t\t\t    vertNav = editorParams.verticalNavigation || \"hybrid\",\r\n\t\t\t    value = String(cellValue !== null && typeof cellValue !== \"undefined\" ? cellValue : \"\"),\r\n\t\t\t    count = (value.match(/(?:\\r\\n|\\r|\\n)/g) || []).length + 1,\r\n\t\t\t    input = document.createElement(\"textarea\"),\r\n\t\t\t    scrollHeight = 0;\r\n\r\n\t\t\t//create and style input\r\n\t\t\tinput.style.display = \"block\";\r\n\t\t\tinput.style.padding = \"2px\";\r\n\t\t\tinput.style.height = \"100%\";\r\n\t\t\tinput.style.width = \"100%\";\r\n\t\t\tinput.style.boxSizing = \"border-box\";\r\n\t\t\tinput.style.whiteSpace = \"pre-wrap\";\r\n\t\t\tinput.style.resize = \"none\";\r\n\r\n\t\t\tif (editorParams.elementAttributes && _typeof(editorParams.elementAttributes) == \"object\") {\r\n\t\t\t\tfor (var key in editorParams.elementAttributes) {\r\n\t\t\t\t\tif (key.charAt(0) == \"+\") {\r\n\t\t\t\t\t\tkey = key.slice(1);\r\n\t\t\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tinput.value = value;\r\n\r\n\t\t\tonRendered(function () {\r\n\t\t\t\tinput.focus({ preventScroll: true });\r\n\t\t\t\tinput.style.height = \"100%\";\r\n\r\n\t\t\t\tinput.scrollHeight;\r\n\t\t\t\tinput.style.height = input.scrollHeight + \"px\";\r\n\t\t\t\tcell.getRow().normalizeHeight();\r\n\t\t\t});\r\n\r\n\t\t\tfunction onChange(e) {\r\n\r\n\t\t\t\tif ((cellValue === null || typeof cellValue === \"undefined\") && input.value !== \"\" || input.value !== cellValue) {\r\n\r\n\t\t\t\t\tif (success(input.value)) {\r\n\t\t\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\tcell.getRow().normalizeHeight();\r\n\t\t\t\t\t}, 300);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcancel();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//submit new value on blur or change\r\n\t\t\tinput.addEventListener(\"change\", onChange);\r\n\t\t\tinput.addEventListener(\"blur\", onChange);\r\n\r\n\t\t\tinput.addEventListener(\"keyup\", function () {\r\n\r\n\t\t\t\tinput.style.height = \"\";\r\n\r\n\t\t\t\tvar heightNow = input.scrollHeight;\r\n\r\n\t\t\t\tinput.style.height = heightNow + \"px\";\r\n\r\n\t\t\t\tif (heightNow != scrollHeight) {\r\n\t\t\t\t\tscrollHeight = heightNow;\r\n\t\t\t\t\tcell.getRow().normalizeHeight();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tinput.addEventListener(\"keydown\", function (e) {\r\n\r\n\t\t\t\tswitch (e.keyCode) {\r\n\t\t\t\t\tcase 27:\r\n\t\t\t\t\t\tcancel();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 38:\r\n\t\t\t\t\t\t//up arrow\r\n\t\t\t\t\t\tif (vertNav == \"editor\" || vertNav == \"hybrid\" && input.selectionStart) {\r\n\t\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 40:\r\n\t\t\t\t\t\t//down arrow\r\n\t\t\t\t\t\tif (vertNav == \"editor\" || vertNav == \"hybrid\" && input.selectionStart !== input.value.length) {\r\n\t\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 35:\r\n\t\t\t\t\tcase 36:\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (editorParams.mask) {\r\n\t\t\t\tthis.table.modules.edit.maskInput(input, editorParams);\r\n\t\t\t}\r\n\r\n\t\t\treturn input;\r\n\t\t},\r\n\r\n\t\t//input element with type of number\r\n\t\tnumber: function number(cell, onRendered, success, cancel, editorParams) {\r\n\r\n\t\t\tvar cellValue = cell.getValue(),\r\n\t\t\t    vertNav = editorParams.verticalNavigation || \"editor\",\r\n\t\t\t    input = document.createElement(\"input\");\r\n\r\n\t\t\tinput.setAttribute(\"type\", \"number\");\r\n\r\n\t\t\tif (typeof editorParams.max != \"undefined\") {\r\n\t\t\t\tinput.setAttribute(\"max\", editorParams.max);\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof editorParams.min != \"undefined\") {\r\n\t\t\t\tinput.setAttribute(\"min\", editorParams.min);\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof editorParams.step != \"undefined\") {\r\n\t\t\t\tinput.setAttribute(\"step\", editorParams.step);\r\n\t\t\t}\r\n\r\n\t\t\t//create and style input\r\n\t\t\tinput.style.padding = \"4px\";\r\n\t\t\tinput.style.width = \"100%\";\r\n\t\t\tinput.style.boxSizing = \"border-box\";\r\n\r\n\t\t\tif (editorParams.elementAttributes && _typeof(editorParams.elementAttributes) == \"object\") {\r\n\t\t\t\tfor (var key in editorParams.elementAttributes) {\r\n\t\t\t\t\tif (key.charAt(0) == \"+\") {\r\n\t\t\t\t\t\tkey = key.slice(1);\r\n\t\t\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tinput.value = cellValue;\r\n\r\n\t\t\tvar blurFunc = function blurFunc(e) {\r\n\t\t\t\tonChange();\r\n\t\t\t};\r\n\r\n\t\t\tonRendered(function () {\r\n\t\t\t\t//submit new value on blur\r\n\t\t\t\tinput.removeEventListener(\"blur\", blurFunc);\r\n\r\n\t\t\t\tinput.focus({ preventScroll: true });\r\n\t\t\t\tinput.style.height = \"100%\";\r\n\r\n\t\t\t\t//submit new value on blur\r\n\t\t\t\tinput.addEventListener(\"blur\", blurFunc);\r\n\t\t\t});\r\n\r\n\t\t\tfunction onChange() {\r\n\t\t\t\tvar value = input.value;\r\n\r\n\t\t\t\tif (!isNaN(value) && value !== \"\") {\r\n\t\t\t\t\tvalue = Number(value);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (value !== cellValue) {\r\n\t\t\t\t\tif (success(value)) {\r\n\t\t\t\t\t\tcellValue = value; //persist value if successfully validated incase editor is used as header filter\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcancel();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//submit new value on enter\r\n\t\t\tinput.addEventListener(\"keydown\", function (e) {\r\n\t\t\t\tswitch (e.keyCode) {\r\n\t\t\t\t\tcase 13:\r\n\t\t\t\t\t\t// case 9:\r\n\t\t\t\t\t\tonChange();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 27:\r\n\t\t\t\t\t\tcancel();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 38: //up arrow\r\n\t\t\t\t\tcase 40:\r\n\t\t\t\t\t\t//down arrow\r\n\t\t\t\t\t\tif (vertNav == \"editor\") {\r\n\t\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 35:\r\n\t\t\t\t\tcase 36:\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (editorParams.mask) {\r\n\t\t\t\tthis.table.modules.edit.maskInput(input, editorParams);\r\n\t\t\t}\r\n\r\n\t\t\treturn input;\r\n\t\t},\r\n\r\n\t\t//input element with type of number\r\n\t\trange: function range(cell, onRendered, success, cancel, editorParams) {\r\n\r\n\t\t\tvar cellValue = cell.getValue(),\r\n\t\t\t    input = document.createElement(\"input\");\r\n\r\n\t\t\tinput.setAttribute(\"type\", \"range\");\r\n\r\n\t\t\tif (typeof editorParams.max != \"undefined\") {\r\n\t\t\t\tinput.setAttribute(\"max\", editorParams.max);\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof editorParams.min != \"undefined\") {\r\n\t\t\t\tinput.setAttribute(\"min\", editorParams.min);\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof editorParams.step != \"undefined\") {\r\n\t\t\t\tinput.setAttribute(\"step\", editorParams.step);\r\n\t\t\t}\r\n\r\n\t\t\t//create and style input\r\n\t\t\tinput.style.padding = \"4px\";\r\n\t\t\tinput.style.width = \"100%\";\r\n\t\t\tinput.style.boxSizing = \"border-box\";\r\n\r\n\t\t\tif (editorParams.elementAttributes && _typeof(editorParams.elementAttributes) == \"object\") {\r\n\t\t\t\tfor (var key in editorParams.elementAttributes) {\r\n\t\t\t\t\tif (key.charAt(0) == \"+\") {\r\n\t\t\t\t\t\tkey = key.slice(1);\r\n\t\t\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tinput.value = cellValue;\r\n\r\n\t\t\tonRendered(function () {\r\n\t\t\t\tinput.focus({ preventScroll: true });\r\n\t\t\t\tinput.style.height = \"100%\";\r\n\t\t\t});\r\n\r\n\t\t\tfunction onChange() {\r\n\t\t\t\tvar value = input.value;\r\n\r\n\t\t\t\tif (!isNaN(value) && value !== \"\") {\r\n\t\t\t\t\tvalue = Number(value);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (value != cellValue) {\r\n\t\t\t\t\tif (success(value)) {\r\n\t\t\t\t\t\tcellValue = value; //persist value if successfully validated incase editor is used as header filter\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcancel();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//submit new value on blur\r\n\t\t\tinput.addEventListener(\"blur\", function (e) {\r\n\t\t\t\tonChange();\r\n\t\t\t});\r\n\r\n\t\t\t//submit new value on enter\r\n\t\t\tinput.addEventListener(\"keydown\", function (e) {\r\n\t\t\t\tswitch (e.keyCode) {\r\n\t\t\t\t\tcase 13:\r\n\t\t\t\t\t\t// case 9:\r\n\t\t\t\t\t\tonChange();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 27:\r\n\t\t\t\t\t\tcancel();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn input;\r\n\t\t},\r\n\r\n\t\t//select\r\n\t\tselect: function select(cell, onRendered, success, cancel, editorParams) {\r\n\t\t\tvar _this53 = this;\r\n\r\n\t\t\tvar self = this,\r\n\t\t\t    cellEl = cell.getElement(),\r\n\t\t\t    initialValue = cell.getValue(),\r\n\t\t\t    vertNav = editorParams.verticalNavigation || \"editor\",\r\n\t\t\t    initialDisplayValue = typeof initialValue !== \"undefined\" || initialValue === null ? Array.isArray(initialValue) ? initialValue : [initialValue] : typeof editorParams.defaultValue !== \"undefined\" ? editorParams.defaultValue : [],\r\n\t\t\t    input = document.createElement(\"input\"),\r\n\t\t\t    listEl = document.createElement(\"div\"),\r\n\t\t\t    multiselect = editorParams.multiselect,\r\n\t\t\t    dataItems = [],\r\n\t\t\t    currentItem = {},\r\n\t\t\t    displayItems = [],\r\n\t\t\t    currentItems = [],\r\n\t\t\t    blurable = true,\r\n\t\t\t    blockListShow = false,\r\n\t\t\t    searchWord = \"\",\r\n\t\t\t    searchWordTimeout = null;\r\n\r\n\t\t\tif (Array.isArray(editorParams) || !Array.isArray(editorParams) && (typeof editorParams === 'undefined' ? 'undefined' : _typeof(editorParams)) === \"object\" && !editorParams.values) {\r\n\t\t\t\tconsole.warn(\"DEPRECATION WARNING - values for the select editor must now be passed into the values property of the editorParams object, not as the editorParams object\");\r\n\t\t\t\teditorParams = { values: editorParams };\r\n\t\t\t}\r\n\r\n\t\t\tfunction getUniqueColumnValues(field) {\r\n\t\t\t\tvar output = {},\r\n\t\t\t\t    data = self.table.getData(),\r\n\t\t\t\t    column;\r\n\r\n\t\t\t\tif (field) {\r\n\t\t\t\t\tcolumn = self.table.columnManager.getColumnByField(field);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcolumn = cell.getColumn()._getSelf();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (column) {\r\n\t\t\t\t\tdata.forEach(function (row) {\r\n\t\t\t\t\t\tvar val = column.getFieldValue(row);\r\n\r\n\t\t\t\t\t\tif (val !== null && typeof val !== \"undefined\" && val !== \"\") {\r\n\t\t\t\t\t\t\toutput[val] = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.warn(\"unable to find matching column to create select lookup list:\", field);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn Object.keys(output);\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseItems(inputValues, curentValues) {\r\n\t\t\t\tvar dataList = [];\r\n\t\t\t\tvar displayList = [];\r\n\r\n\t\t\t\tfunction processComplexListItem(item) {\r\n\t\t\t\t\tvar item = {\r\n\t\t\t\t\t\tlabel: item.label,\r\n\t\t\t\t\t\tvalue: item.value,\r\n\t\t\t\t\t\titemParams: item.itemParams,\r\n\t\t\t\t\t\telementAttributes: item.elementAttributes,\r\n\t\t\t\t\t\telement: false\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t// if(item.value === curentValue || (!isNaN(parseFloat(item.value)) && !isNaN(parseFloat(item.value)) && parseFloat(item.value) === parseFloat(curentValue))){\r\n\t\t\t\t\t// \tsetCurrentItem(item);\r\n\t\t\t\t\t// }\r\n\r\n\t\t\t\t\tif (curentValues.indexOf(item.value) > -1) {\r\n\t\t\t\t\t\tsetItem(item);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdataList.push(item);\r\n\t\t\t\t\tdisplayList.push(item);\r\n\r\n\t\t\t\t\treturn item;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (typeof inputValues == \"function\") {\r\n\t\t\t\t\tinputValues = inputValues(cell);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (Array.isArray(inputValues)) {\r\n\t\t\t\t\tinputValues.forEach(function (value) {\r\n\t\t\t\t\t\tvar item;\r\n\r\n\t\t\t\t\t\tif ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === \"object\") {\r\n\r\n\t\t\t\t\t\t\tif (value.options) {\r\n\t\t\t\t\t\t\t\titem = {\r\n\t\t\t\t\t\t\t\t\tlabel: value.label,\r\n\t\t\t\t\t\t\t\t\tgroup: true,\r\n\t\t\t\t\t\t\t\t\titemParams: value.itemParams,\r\n\t\t\t\t\t\t\t\t\telementAttributes: value.elementAttributes,\r\n\t\t\t\t\t\t\t\t\telement: false\r\n\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\tdisplayList.push(item);\r\n\r\n\t\t\t\t\t\t\t\tvalue.options.forEach(function (item) {\r\n\t\t\t\t\t\t\t\t\tprocessComplexListItem(item);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tprocessComplexListItem(value);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\titem = {\r\n\t\t\t\t\t\t\t\tlabel: value,\r\n\t\t\t\t\t\t\t\tvalue: value,\r\n\t\t\t\t\t\t\t\telement: false\r\n\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t// if(item.value === curentValue || (!isNaN(parseFloat(item.value)) && !isNaN(parseFloat(item.value)) && parseFloat(item.value) === parseFloat(curentValue))){\r\n\t\t\t\t\t\t\t// \tsetCurrentItem(item);\r\n\t\t\t\t\t\t\t// }\r\n\r\n\t\t\t\t\t\t\tif (curentValues.indexOf(item.value) > -1) {\r\n\t\t\t\t\t\t\t\tsetItem(item);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tdataList.push(item);\r\n\t\t\t\t\t\t\tdisplayList.push(item);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor (var key in inputValues) {\r\n\t\t\t\t\t\tvar item = {\r\n\t\t\t\t\t\t\tlabel: inputValues[key],\r\n\t\t\t\t\t\t\tvalue: key,\r\n\t\t\t\t\t\t\telement: false\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t// if(item.value === curentValue || (!isNaN(parseFloat(item.value)) && !isNaN(parseFloat(item.value)) && parseFloat(item.value) === parseFloat(curentValue))){\r\n\t\t\t\t\t\t// \tsetCurrentItem(item);\r\n\t\t\t\t\t\t// }\r\n\r\n\t\t\t\t\t\tif (curentValues.indexOf(item.value) > -1) {\r\n\t\t\t\t\t\t\tsetItem(item);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tdataList.push(item);\r\n\t\t\t\t\t\tdisplayList.push(item);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (editorParams.sortValuesList) {\r\n\t\t\t\t\tdataList.sort(function (a, b) {\r\n\t\t\t\t\t\treturn a.label < b.label ? -1 : a.label > b.label ? 1 : 0;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tdisplayList.sort(function (a, b) {\r\n\t\t\t\t\t\treturn a.label < b.label ? -1 : a.label > b.label ? 1 : 0;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (editorParams.sortValuesList !== \"asc\") {\r\n\t\t\t\t\t\tdataList.reverse();\r\n\t\t\t\t\t\tdisplayList.reverse();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdataItems = dataList;\r\n\t\t\t\tdisplayItems = displayList;\r\n\r\n\t\t\t\tfillList();\r\n\t\t\t}\r\n\r\n\t\t\tfunction fillList() {\r\n\t\t\t\twhile (listEl.firstChild) {\r\n\t\t\t\t\tlistEl.removeChild(listEl.firstChild);\r\n\t\t\t\t}displayItems.forEach(function (item) {\r\n\r\n\t\t\t\t\tvar el = item.element;\r\n\r\n\t\t\t\t\tif (!el) {\r\n\t\t\t\t\t\tel = document.createElement(\"div\");\r\n\t\t\t\t\t\titem.label = editorParams.listItemFormatter ? editorParams.listItemFormatter(item.value, item.label, cell, el, item.itemParams) : item.label;\r\n\t\t\t\t\t\tif (item.group) {\r\n\t\t\t\t\t\t\tel.classList.add(\"tabulator-edit-select-list-group\");\r\n\t\t\t\t\t\t\tel.tabIndex = 0;\r\n\t\t\t\t\t\t\tel.innerHTML = item.label === \"\" ? \"&nbsp;\" : item.label;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tel.classList.add(\"tabulator-edit-select-list-item\");\r\n\t\t\t\t\t\t\tel.tabIndex = 0;\r\n\t\t\t\t\t\t\tel.innerHTML = item.label === \"\" ? \"&nbsp;\" : item.label;\r\n\r\n\t\t\t\t\t\t\tel.addEventListener(\"click\", function () {\r\n\t\t\t\t\t\t\t\tblockListShow = true;\r\n\r\n\t\t\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\t\t\tblockListShow = false;\r\n\t\t\t\t\t\t\t\t}, 10);\r\n\r\n\t\t\t\t\t\t\t\t// setCurrentItem(item);\r\n\t\t\t\t\t\t\t\t// chooseItem();\r\n\t\t\t\t\t\t\t\tif (multiselect) {\r\n\t\t\t\t\t\t\t\t\ttoggleItem(item);\r\n\t\t\t\t\t\t\t\t\tinput.focus();\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tchooseItem(item);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t// if(item === currentItem){\r\n\t\t\t\t\t\t\t// \tel.classList.add(\"active\");\r\n\t\t\t\t\t\t\t// }\r\n\r\n\t\t\t\t\t\t\tif (currentItems.indexOf(item) > -1) {\r\n\t\t\t\t\t\t\t\tel.classList.add(\"active\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (item.elementAttributes && _typeof(item.elementAttributes) == \"object\") {\r\n\t\t\t\t\t\t\tfor (var key in item.elementAttributes) {\r\n\t\t\t\t\t\t\t\tif (key.charAt(0) == \"+\") {\r\n\t\t\t\t\t\t\t\t\tkey = key.slice(1);\r\n\t\t\t\t\t\t\t\t\tel.setAttribute(key, input.getAttribute(key) + item.elementAttributes[\"+\" + key]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tel.setAttribute(key, item.elementAttributes[key]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tel.addEventListener(\"mousedown\", function () {\r\n\t\t\t\t\t\t\tblurable = false;\r\n\r\n\t\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\t\tblurable = true;\r\n\t\t\t\t\t\t\t}, 10);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\titem.element = el;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlistEl.appendChild(el);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tfunction setCurrentItem(item, active) {\r\n\r\n\t\t\t\tif (!multiselect && currentItem && currentItem.element) {\r\n\t\t\t\t\tcurrentItem.element.classList.remove(\"active\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (currentItem && currentItem.element) {\r\n\t\t\t\t\tcurrentItem.element.classList.remove(\"focused\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcurrentItem = item;\r\n\r\n\t\t\t\tif (item.element) {\r\n\t\t\t\t\titem.element.classList.add(\"focused\");\r\n\t\t\t\t\tif (active) {\r\n\t\t\t\t\t\titem.element.classList.add(\"active\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (item && item.element && item.element.scrollIntoView) {\r\n\t\t\t\t\titem.element.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'start' });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// function chooseItem(){\r\n\t\t\t// \thideList();\r\n\r\n\t\t\t// \tif(initialValue !== currentItem.value){\r\n\t\t\t// \t\tinitialValue = currentItem.value;\r\n\t\t\t// \t\tsuccess(currentItem.value);\r\n\t\t\t// \t}else{\r\n\t\t\t// \t\tcancel();\r\n\t\t\t// \t}\r\n\t\t\t// }\r\n\r\n\t\t\tfunction setItem(item) {\r\n\t\t\t\tvar index = currentItems.indexOf(item);\r\n\r\n\t\t\t\tif (index == -1) {\r\n\t\t\t\t\tcurrentItems.push(item);\r\n\t\t\t\t\tsetCurrentItem(item, true);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfillInput();\r\n\t\t\t}\r\n\r\n\t\t\tfunction unsetItem(index) {\r\n\t\t\t\tvar item = currentItems[index];\r\n\r\n\t\t\t\tif (index > -1) {\r\n\t\t\t\t\tcurrentItems.splice(index, 1);\r\n\t\t\t\t\tif (item.element) {\r\n\t\t\t\t\t\titem.element.classList.remove(\"active\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfunction toggleItem(item) {\r\n\t\t\t\tif (!item) {\r\n\t\t\t\t\titem = currentItem;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar index = currentItems.indexOf(item);\r\n\r\n\t\t\t\tif (index > -1) {\r\n\t\t\t\t\tunsetItem(index);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (multiselect !== true && currentItems.length >= multiselect) {\r\n\t\t\t\t\t\tunsetItem(0);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tsetItem(item);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfillInput();\r\n\t\t\t}\r\n\r\n\t\t\tfunction chooseItem(item) {\r\n\t\t\t\thideList();\r\n\r\n\t\t\t\tif (!item) {\r\n\t\t\t\t\titem = currentItem;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (item) {\r\n\t\t\t\t\tinput.value = item.label;\r\n\t\t\t\t\tsuccess(item.value);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tinitialDisplayValue = [item.value];\r\n\t\t\t}\r\n\r\n\t\t\tfunction chooseItems(silent) {\r\n\t\t\t\tif (!silent) {\r\n\t\t\t\t\thideList();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar output = [];\r\n\r\n\t\t\t\tcurrentItems.forEach(function (item) {\r\n\t\t\t\t\toutput.push(item.value);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tinitialDisplayValue = output;\r\n\r\n\t\t\t\tsuccess(output);\r\n\t\t\t}\r\n\r\n\t\t\tfunction fillInput() {\r\n\t\t\t\tvar output = [];\r\n\r\n\t\t\t\tcurrentItems.forEach(function (item) {\r\n\t\t\t\t\toutput.push(item.label);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tinput.value = output.join(\", \");\r\n\r\n\t\t\t\tif (self.currentCell === false) {\r\n\t\t\t\t\tchooseItems(true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfunction unsetItems() {\r\n\r\n\t\t\t\tvar len = currentItems.length;\r\n\r\n\t\t\t\tfor (var _i9 = 0; _i9 < len; _i9++) {\r\n\t\t\t\t\tunsetItem(0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfunction cancelItem() {\r\n\t\t\t\thideList();\r\n\t\t\t\tcancel();\r\n\t\t\t}\r\n\r\n\t\t\tfunction showList() {\r\n\t\t\t\tcurrentItems = [];\r\n\r\n\t\t\t\tif (!listEl.parentNode) {\r\n\t\t\t\t\tif (editorParams.values === true) {\r\n\t\t\t\t\t\tparseItems(getUniqueColumnValues(), initialDisplayValue);\r\n\t\t\t\t\t} else if (typeof editorParams.values === \"string\") {\r\n\t\t\t\t\t\tparseItems(getUniqueColumnValues(editorParams.values), initialDisplayValue);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tparseItems(editorParams.values || [], initialDisplayValue);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar offset = Tabulator.prototype.helpers.elOffset(cellEl);\r\n\r\n\t\t\t\t\tlistEl.style.minWidth = cellEl.offsetWidth + \"px\";\r\n\r\n\t\t\t\t\tlistEl.style.top = offset.top + cellEl.offsetHeight + \"px\";\r\n\t\t\t\t\tlistEl.style.left = offset.left + \"px\";\r\n\r\n\t\t\t\t\tlistEl.addEventListener(\"mousedown\", function (e) {\r\n\t\t\t\t\t\tblurable = false;\r\n\r\n\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\tblurable = true;\r\n\t\t\t\t\t\t}, 10);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tdocument.body.appendChild(listEl);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfunction hideList() {\r\n\t\t\t\tif (listEl.parentNode) {\r\n\t\t\t\t\tlistEl.parentNode.removeChild(listEl);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tremoveScrollListener();\r\n\t\t\t}\r\n\r\n\t\t\tfunction removeScrollListener() {\r\n\t\t\t\tself.table.rowManager.element.removeEventListener(\"scroll\", cancelItem);\r\n\t\t\t}\r\n\r\n\t\t\tfunction scrollTovalue(char) {\r\n\r\n\t\t\t\tclearTimeout(searchWordTimeout);\r\n\r\n\t\t\t\tvar character = String.fromCharCode(event.keyCode).toLowerCase();\r\n\t\t\t\tsearchWord += character.toLowerCase();\r\n\r\n\t\t\t\tvar match = dataItems.find(function (item) {\r\n\t\t\t\t\treturn typeof item.label !== \"undefined\" && item.label.toLowerCase().startsWith(searchWord);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (match) {\r\n\t\t\t\t\tsetCurrentItem(match, !multiselect);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsearchWordTimeout = setTimeout(function () {\r\n\t\t\t\t\tsearchWord = \"\";\r\n\t\t\t\t}, 800);\r\n\t\t\t}\r\n\r\n\t\t\t//style input\r\n\t\t\tinput.setAttribute(\"type\", \"text\");\r\n\r\n\t\t\tinput.style.padding = \"4px\";\r\n\t\t\tinput.style.width = \"100%\";\r\n\t\t\tinput.style.boxSizing = \"border-box\";\r\n\t\t\tinput.style.cursor = \"default\";\r\n\t\t\tinput.readOnly = this.currentCell != false;\r\n\r\n\t\t\tif (editorParams.elementAttributes && _typeof(editorParams.elementAttributes) == \"object\") {\r\n\t\t\t\tfor (var key in editorParams.elementAttributes) {\r\n\t\t\t\t\tif (key.charAt(0) == \"+\") {\r\n\t\t\t\t\t\tkey = key.slice(1);\r\n\t\t\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tinput.value = typeof initialValue !== \"undefined\" || initialValue === null ? initialValue : \"\";\r\n\r\n\t\t\t// if(editorParams.values === true){\r\n\t\t\t// \tparseItems(getUniqueColumnValues(), initialValue);\r\n\t\t\t// }else if(typeof editorParams.values === \"string\"){\r\n\t\t\t// \tparseItems(getUniqueColumnValues(editorParams.values), initialValue);\r\n\t\t\t// }else{\r\n\t\t\t// \tparseItems(editorParams.values || [], initialValue);\r\n\t\t\t// }\r\n\r\n\t\t\tinput.addEventListener(\"search\", function (e) {\r\n\t\t\t\tif (!input.value) {\r\n\t\t\t\t\tunsetItems();\r\n\t\t\t\t\tchooseItems();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t//allow key based navigation\r\n\t\t\tinput.addEventListener(\"keydown\", function (e) {\r\n\t\t\t\tvar index;\r\n\r\n\t\t\t\tswitch (e.keyCode) {\r\n\t\t\t\t\tcase 38:\r\n\t\t\t\t\t\t//up arrow\r\n\t\t\t\t\t\tindex = dataItems.indexOf(currentItem);\r\n\r\n\t\t\t\t\t\tif (vertNav == \"editor\" || vertNav == \"hybrid\" && index) {\r\n\t\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\t\t\tif (index > 0) {\r\n\t\t\t\t\t\t\t\tsetCurrentItem(dataItems[index - 1], !multiselect);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 40:\r\n\t\t\t\t\t\t//down arrow\r\n\t\t\t\t\t\tindex = dataItems.indexOf(currentItem);\r\n\r\n\t\t\t\t\t\tif (vertNav == \"editor\" || vertNav == \"hybrid\" && index < dataItems.length - 1) {\r\n\t\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\t\t\tif (index < dataItems.length - 1) {\r\n\t\t\t\t\t\t\t\tif (index == -1) {\r\n\t\t\t\t\t\t\t\t\tsetCurrentItem(dataItems[0], !multiselect);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tsetCurrentItem(dataItems[index + 1], !multiselect);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 37: //left arrow\r\n\t\t\t\t\tcase 39:\r\n\t\t\t\t\t\t//right arrow\r\n\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 13:\r\n\t\t\t\t\t\t//enter\r\n\t\t\t\t\t\t// chooseItem();\r\n\r\n\t\t\t\t\t\tif (multiselect) {\r\n\t\t\t\t\t\t\ttoggleItem();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tchooseItem();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 27:\r\n\t\t\t\t\t\t//escape\r\n\t\t\t\t\t\tcancelItem();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 9:\r\n\t\t\t\t\t\t//tab\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tif (self.currentCell === false) {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (e.keyCode >= 38 && e.keyCode <= 90) {\r\n\t\t\t\t\t\t\tscrollTovalue(e.keyCode);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tinput.addEventListener(\"blur\", function (e) {\r\n\t\t\t\tif (blurable) {\r\n\t\t\t\t\tif (multiselect) {\r\n\t\t\t\t\t\tchooseItems();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcancelItem();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tinput.addEventListener(\"focus\", function (e) {\r\n\t\t\t\tif (!blockListShow) {\r\n\t\t\t\t\tshowList();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t//style list element\r\n\t\t\tlistEl = document.createElement(\"div\");\r\n\t\t\tlistEl.classList.add(\"tabulator-edit-select-list\");\r\n\r\n\t\t\tonRendered(function () {\r\n\t\t\t\tinput.style.height = \"100%\";\r\n\t\t\t\tinput.focus({ preventScroll: true });\r\n\t\t\t});\r\n\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\t_this53.table.rowManager.element.addEventListener(\"scroll\", cancelItem);\r\n\t\t\t}, 10);\r\n\r\n\t\t\treturn input;\r\n\t\t},\r\n\r\n\t\t//autocomplete\r\n\t\tautocomplete: function autocomplete(cell, onRendered, success, cancel, editorParams) {\r\n\t\t\tvar _this54 = this;\r\n\r\n\t\t\tvar self = this,\r\n\t\t\t    cellEl = cell.getElement(),\r\n\t\t\t    initialValue = cell.getValue(),\r\n\t\t\t    vertNav = editorParams.verticalNavigation || \"editor\",\r\n\t\t\t    initialDisplayValue = typeof initialValue !== \"undefined\" || initialValue === null ? initialValue : typeof editorParams.defaultValue !== \"undefined\" ? editorParams.defaultValue : \"\",\r\n\t\t\t    input = document.createElement(\"input\"),\r\n\t\t\t    listEl = document.createElement(\"div\"),\r\n\t\t\t    allItems = [],\r\n\t\t\t    displayItems = [],\r\n\t\t\t    values = [],\r\n\t\t\t    currentItem = false,\r\n\t\t\t    blurable = true,\r\n\t\t\t    uniqueColumnValues = false;\r\n\r\n\t\t\t//style input\r\n\t\t\tinput.setAttribute(\"type\", \"search\");\r\n\r\n\t\t\tinput.style.padding = \"4px\";\r\n\t\t\tinput.style.width = \"100%\";\r\n\t\t\tinput.style.boxSizing = \"border-box\";\r\n\r\n\t\t\tif (editorParams.elementAttributes && _typeof(editorParams.elementAttributes) == \"object\") {\r\n\t\t\t\tfor (var key in editorParams.elementAttributes) {\r\n\t\t\t\t\tif (key.charAt(0) == \"+\") {\r\n\t\t\t\t\t\tkey = key.slice(1);\r\n\t\t\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//style list element\r\n\t\t\tlistEl.classList.add(\"tabulator-edit-select-list\");\r\n\r\n\t\t\tlistEl.addEventListener(\"mousedown\", function (e) {\r\n\t\t\t\tblurable = false;\r\n\r\n\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\tblurable = true;\r\n\t\t\t\t}, 10);\r\n\t\t\t});\r\n\r\n\t\t\tfunction genUniqueColumnValues() {\r\n\t\t\t\tif (editorParams.values === true) {\r\n\t\t\t\t\tuniqueColumnValues = getUniqueColumnValues();\r\n\t\t\t\t} else if (typeof editorParams.values === \"string\") {\r\n\t\t\t\t\tuniqueColumnValues = getUniqueColumnValues(editorParams.values);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfunction getUniqueColumnValues(field) {\r\n\t\t\t\tvar output = {},\r\n\t\t\t\t    data = self.table.getData(),\r\n\t\t\t\t    column;\r\n\r\n\t\t\t\tif (field) {\r\n\t\t\t\t\tcolumn = self.table.columnManager.getColumnByField(field);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcolumn = cell.getColumn()._getSelf();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (column) {\r\n\t\t\t\t\tdata.forEach(function (row) {\r\n\t\t\t\t\t\tvar val = column.getFieldValue(row);\r\n\r\n\t\t\t\t\t\tif (val !== null && typeof val !== \"undefined\" && val !== \"\") {\r\n\t\t\t\t\t\t\toutput[val] = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (editorParams.sortValuesList) {\r\n\t\t\t\t\t\tif (editorParams.sortValuesList == \"asc\") {\r\n\t\t\t\t\t\t\toutput = Object.keys(output).sort();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toutput = Object.keys(output).sort().reverse();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toutput = Object.keys(output);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.warn(\"unable to find matching column to create autocomplete lookup list:\", field);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn output;\r\n\t\t\t}\r\n\r\n\t\t\tfunction filterList(term, intialLoad) {\r\n\t\t\t\tvar matches = [],\r\n\t\t\t\t    values,\r\n\t\t\t\t    items,\r\n\t\t\t\t    searchEl;\r\n\r\n\t\t\t\t//lookup base values list\r\n\t\t\t\tif (uniqueColumnValues) {\r\n\t\t\t\t\tvalues = uniqueColumnValues;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvalues = editorParams.values || [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (editorParams.searchFunc) {\r\n\t\t\t\t\tmatches = editorParams.searchFunc(term, values);\r\n\r\n\t\t\t\t\tif (matches instanceof Promise) {\r\n\r\n\t\t\t\t\t\taddNotice(typeof editorParams.searchingPlaceholder !== \"undefined\" ? editorParams.searchingPlaceholder : \"Searching...\");\r\n\r\n\t\t\t\t\t\tmatches.then(function (result) {\r\n\t\t\t\t\t\t\tfillListIfNotEmpty(parseItems(result), intialLoad);\r\n\t\t\t\t\t\t}).catch(function (err) {\r\n\t\t\t\t\t\t\tconsole.err(\"error in autocomplete search promise:\", err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfillListIfNotEmpty(parseItems(matches), intialLoad);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\titems = parseItems(values);\r\n\r\n\t\t\t\t\tif (term === \"\") {\r\n\t\t\t\t\t\tif (editorParams.showListOnEmpty) {\r\n\t\t\t\t\t\t\tmatches = items;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\titems.forEach(function (item) {\r\n\t\t\t\t\t\t\tif (item.value !== null || typeof item.value !== \"undefined\") {\r\n\t\t\t\t\t\t\t\tif (String(item.value).toLowerCase().indexOf(String(term).toLowerCase()) > -1 || String(item.title).toLowerCase().indexOf(String(term).toLowerCase()) > -1) {\r\n\t\t\t\t\t\t\t\t\tmatches.push(item);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfillListIfNotEmpty(matches, intialLoad);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfunction addNotice(notice) {\r\n\t\t\t\tvar searchEl = document.createElement(\"div\");\r\n\r\n\t\t\t\tclearList();\r\n\r\n\t\t\t\tif (notice !== false) {\r\n\t\t\t\t\tsearchEl.classList.add(\"tabulator-edit-select-list-notice\");\r\n\t\t\t\t\tsearchEl.tabIndex = 0;\r\n\r\n\t\t\t\t\tif (notice instanceof Node) {\r\n\t\t\t\t\t\tsearchEl.appendChild(notice);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsearchEl.innerHTML = notice;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlistEl.appendChild(searchEl);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfunction parseItems(inputValues) {\r\n\t\t\t\tvar itemList = [];\r\n\r\n\t\t\t\tif (Array.isArray(inputValues)) {\r\n\t\t\t\t\tinputValues.forEach(function (value) {\r\n\r\n\t\t\t\t\t\tvar item = {};\r\n\r\n\t\t\t\t\t\tif ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === \"object\") {\r\n\t\t\t\t\t\t\titem.title = editorParams.listItemFormatter ? editorParams.listItemFormatter(value.value, value.label) : value.label;\r\n\t\t\t\t\t\t\titem.value = value.value;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\titem.title = editorParams.listItemFormatter ? editorParams.listItemFormatter(value, value) : value;\r\n\t\t\t\t\t\t\titem.value = value;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\titemList.push(item);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor (var key in inputValues) {\r\n\t\t\t\t\t\tvar item = {\r\n\t\t\t\t\t\t\ttitle: editorParams.listItemFormatter ? editorParams.listItemFormatter(key, inputValues[key]) : inputValues[key],\r\n\t\t\t\t\t\t\tvalue: key\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\titemList.push(item);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn itemList;\r\n\t\t\t}\r\n\r\n\t\t\tfunction clearList() {\r\n\t\t\t\twhile (listEl.firstChild) {\r\n\t\t\t\t\tlistEl.removeChild(listEl.firstChild);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfunction fillListIfNotEmpty(items, intialLoad) {\r\n\t\t\t\tif (items.length) {\r\n\t\t\t\t\tfillList(items, intialLoad);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (editorParams.emptyPlaceholder) {\r\n\t\t\t\t\t\taddNotice(editorParams.emptyPlaceholder);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfunction fillList(items, intialLoad) {\r\n\t\t\t\tvar current = false;\r\n\r\n\t\t\t\tclearList();\r\n\r\n\t\t\t\tdisplayItems = items;\r\n\r\n\t\t\t\tdisplayItems.forEach(function (item) {\r\n\t\t\t\t\tvar el = item.element;\r\n\r\n\t\t\t\t\tif (!el) {\r\n\t\t\t\t\t\tel = document.createElement(\"div\");\r\n\t\t\t\t\t\tel.classList.add(\"tabulator-edit-select-list-item\");\r\n\t\t\t\t\t\tel.tabIndex = 0;\r\n\t\t\t\t\t\tel.innerHTML = item.title;\r\n\r\n\t\t\t\t\t\tel.addEventListener(\"click\", function (e) {\r\n\t\t\t\t\t\t\tsetCurrentItem(item);\r\n\t\t\t\t\t\t\tchooseItem();\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tel.addEventListener(\"mousedown\", function (e) {\r\n\t\t\t\t\t\t\tblurable = false;\r\n\r\n\t\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\t\tblurable = true;\r\n\t\t\t\t\t\t\t}, 10);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\titem.element = el;\r\n\r\n\t\t\t\t\t\tif (intialLoad && item.value == initialValue) {\r\n\t\t\t\t\t\t\tinput.value = item.title;\r\n\t\t\t\t\t\t\titem.element.classList.add(\"active\");\r\n\t\t\t\t\t\t\tcurrent = true;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (item === currentItem) {\r\n\t\t\t\t\t\t\titem.element.classList.add(\"active\");\r\n\t\t\t\t\t\t\tcurrent = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlistEl.appendChild(el);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (!current) {\r\n\t\t\t\t\tsetCurrentItem(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfunction chooseItem() {\r\n\t\t\t\thideList();\r\n\r\n\t\t\t\tif (currentItem) {\r\n\t\t\t\t\tif (initialValue !== currentItem.value) {\r\n\t\t\t\t\t\tinitialValue = currentItem.value;\r\n\t\t\t\t\t\tinput.value = currentItem.title;\r\n\t\t\t\t\t\tsuccess(currentItem.value);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcancel();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (editorParams.freetext) {\r\n\t\t\t\t\t\tinitialValue = input.value;\r\n\t\t\t\t\t\tsuccess(input.value);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (editorParams.allowEmpty && input.value === \"\") {\r\n\t\t\t\t\t\t\tinitialValue = input.value;\r\n\t\t\t\t\t\t\tsuccess(input.value);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcancel();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfunction showList() {\r\n\t\t\t\tif (!listEl.parentNode) {\r\n\r\n\t\t\t\t\tconsole.log(\"show\", initialDisplayValue);\r\n\t\t\t\t\twhile (listEl.firstChild) {\r\n\t\t\t\t\t\tlistEl.removeChild(listEl.firstChild);\r\n\t\t\t\t\t}var offset = Tabulator.prototype.helpers.elOffset(cellEl);\r\n\r\n\t\t\t\t\tlistEl.style.minWidth = cellEl.offsetWidth + \"px\";\r\n\r\n\t\t\t\t\tlistEl.style.top = offset.top + cellEl.offsetHeight + \"px\";\r\n\t\t\t\t\tlistEl.style.left = offset.left + \"px\";\r\n\t\t\t\t\tdocument.body.appendChild(listEl);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfunction setCurrentItem(item, showInputValue) {\r\n\t\t\t\tif (currentItem && currentItem.element) {\r\n\t\t\t\t\tcurrentItem.element.classList.remove(\"active\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcurrentItem = item;\r\n\r\n\t\t\t\tif (item && item.element) {\r\n\t\t\t\t\titem.element.classList.add(\"active\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (item && item.element && item.element.scrollIntoView) {\r\n\t\t\t\t\titem.element.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'start' });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfunction hideList() {\r\n\t\t\t\tif (listEl.parentNode) {\r\n\t\t\t\t\tlistEl.parentNode.removeChild(listEl);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tremoveScrollListener();\r\n\t\t\t}\r\n\r\n\t\t\tfunction cancelItem() {\r\n\t\t\t\thideList();\r\n\t\t\t\tcancel();\r\n\t\t\t}\r\n\r\n\t\t\tfunction removeScrollListener() {\r\n\t\t\t\tself.table.rowManager.element.removeEventListener(\"scroll\", cancelItem);\r\n\t\t\t}\r\n\r\n\t\t\t//allow key based navigation\r\n\t\t\tinput.addEventListener(\"keydown\", function (e) {\r\n\t\t\t\tvar index;\r\n\r\n\t\t\t\tswitch (e.keyCode) {\r\n\t\t\t\t\tcase 38:\r\n\t\t\t\t\t\t//up arrow\r\n\t\t\t\t\t\tindex = displayItems.indexOf(currentItem);\r\n\r\n\t\t\t\t\t\tif (vertNav == \"editor\" || vertNav == \"hybrid\" && index) {\r\n\t\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\t\t\tif (index > 0) {\r\n\t\t\t\t\t\t\t\tsetCurrentItem(displayItems[index - 1]);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tsetCurrentItem(false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 40:\r\n\t\t\t\t\t\t//down arrow\r\n\r\n\t\t\t\t\t\tindex = displayItems.indexOf(currentItem);\r\n\r\n\t\t\t\t\t\tif (vertNav == \"editor\" || vertNav == \"hybrid\" && index < displayItems.length - 1) {\r\n\r\n\t\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\t\t\tif (index < displayItems.length - 1) {\r\n\t\t\t\t\t\t\t\tif (index == -1) {\r\n\t\t\t\t\t\t\t\t\tsetCurrentItem(displayItems[0]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tsetCurrentItem(displayItems[index + 1]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 37: //left arrow\r\n\t\t\t\t\tcase 39:\r\n\t\t\t\t\t\t//right arrow\r\n\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t// e.preventDefault();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 13:\r\n\t\t\t\t\t\t//enter\r\n\t\t\t\t\t\tchooseItem();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 27:\r\n\t\t\t\t\t\t//escape\r\n\t\t\t\t\t\tcancelItem();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 36: //home\r\n\t\t\t\t\tcase 35:\r\n\t\t\t\t\t\t//end\r\n\t\t\t\t\t\t//prevent table navigation while using input element\r\n\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tinput.addEventListener(\"keyup\", function (e) {\r\n\r\n\t\t\t\tswitch (e.keyCode) {\r\n\t\t\t\t\tcase 38: //up arrow\r\n\t\t\t\t\tcase 37: //left arrow\r\n\t\t\t\t\tcase 39: //up arrow\r\n\t\t\t\t\tcase 40: //right arrow\r\n\t\t\t\t\tcase 13: //enter\r\n\t\t\t\t\tcase 27:\r\n\t\t\t\t\t\t//escape\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tfilterList(input.value);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tinput.addEventListener(\"search\", function (e) {\r\n\t\t\t\tfilterList(input.value);\r\n\t\t\t});\r\n\r\n\t\t\tinput.addEventListener(\"blur\", function (e) {\r\n\t\t\t\tif (blurable) {\r\n\t\t\t\t\tchooseItem();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tinput.addEventListener(\"focus\", function (e) {\r\n\t\t\t\tvar value = initialDisplayValue;\r\n\t\t\t\tgenUniqueColumnValues();\r\n\t\t\t\tshowList();\r\n\t\t\t\tinput.value = value;\r\n\t\t\t\tfilterList(value, true);\r\n\t\t\t});\r\n\r\n\t\t\tonRendered(function () {\r\n\t\t\t\tinput.style.height = \"100%\";\r\n\t\t\t\tinput.focus({ preventScroll: true });\r\n\t\t\t});\r\n\r\n\t\t\tif (editorParams.mask) {\r\n\t\t\t\tthis.table.modules.edit.maskInput(input, editorParams);\r\n\t\t\t}\r\n\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\t_this54.table.rowManager.element.addEventListener(\"scroll\", cancelItem);\r\n\t\t\t}, 10);\r\n\r\n\t\t\tgenUniqueColumnValues();\r\n\t\t\tinput.value = initialDisplayValue;\r\n\t\t\tfilterList(initialDisplayValue, true);\r\n\r\n\t\t\treturn input;\r\n\t\t},\r\n\r\n\t\t//star rating\r\n\t\tstar: function star(cell, onRendered, success, cancel, editorParams) {\r\n\t\t\tvar self = this,\r\n\t\t\t    element = cell.getElement(),\r\n\t\t\t    value = cell.getValue(),\r\n\t\t\t    maxStars = element.getElementsByTagName(\"svg\").length || 5,\r\n\t\t\t    size = element.getElementsByTagName(\"svg\")[0] ? element.getElementsByTagName(\"svg\")[0].getAttribute(\"width\") : 14,\r\n\t\t\t    stars = [],\r\n\t\t\t    starsHolder = document.createElement(\"div\"),\r\n\t\t\t    star = document.createElementNS('http://www.w3.org/2000/svg', \"svg\");\r\n\r\n\t\t\t//change star type\r\n\t\t\tfunction starChange(val) {\r\n\t\t\t\tstars.forEach(function (star, i) {\r\n\t\t\t\t\tif (i < val) {\r\n\t\t\t\t\t\tif (self.table.browser == \"ie\") {\r\n\t\t\t\t\t\t\tstar.setAttribute(\"class\", \"tabulator-star-active\");\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tstar.classList.replace(\"tabulator-star-inactive\", \"tabulator-star-active\");\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tstar.innerHTML = '<polygon fill=\"#488CE9\" stroke=\"#014AAE\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (self.table.browser == \"ie\") {\r\n\t\t\t\t\t\t\tstar.setAttribute(\"class\", \"tabulator-star-inactive\");\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tstar.classList.replace(\"tabulator-star-active\", \"tabulator-star-inactive\");\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tstar.innerHTML = '<polygon fill=\"#010155\" stroke=\"#686868\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t//build stars\r\n\t\t\tfunction buildStar(i) {\r\n\r\n\t\t\t\tvar starHolder = document.createElement(\"span\");\r\n\t\t\t\tvar nextStar = star.cloneNode(true);\r\n\r\n\t\t\t\tstars.push(nextStar);\r\n\r\n\t\t\t\tstarHolder.addEventListener(\"mouseenter\", function (e) {\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\tstarChange(i);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tstarHolder.addEventListener(\"mousemove\", function (e) {\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t});\r\n\r\n\t\t\t\tstarHolder.addEventListener(\"click\", function (e) {\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\tsuccess(i);\r\n\t\t\t\t\telement.blur();\r\n\t\t\t\t});\r\n\r\n\t\t\t\tstarHolder.appendChild(nextStar);\r\n\t\t\t\tstarsHolder.appendChild(starHolder);\r\n\t\t\t}\r\n\r\n\t\t\t//handle keyboard navigation value change\r\n\t\t\tfunction changeValue(val) {\r\n\t\t\t\tvalue = val;\r\n\t\t\t\tstarChange(val);\r\n\t\t\t}\r\n\r\n\t\t\t//style cell\r\n\t\t\telement.style.whiteSpace = \"nowrap\";\r\n\t\t\telement.style.overflow = \"hidden\";\r\n\t\t\telement.style.textOverflow = \"ellipsis\";\r\n\r\n\t\t\t//style holding element\r\n\t\t\tstarsHolder.style.verticalAlign = \"middle\";\r\n\t\t\tstarsHolder.style.display = \"inline-block\";\r\n\t\t\tstarsHolder.style.padding = \"4px\";\r\n\r\n\t\t\t//style star\r\n\t\t\tstar.setAttribute(\"width\", size);\r\n\t\t\tstar.setAttribute(\"height\", size);\r\n\t\t\tstar.setAttribute(\"viewBox\", \"0 0 512 512\");\r\n\t\t\tstar.setAttribute(\"xml:space\", \"preserve\");\r\n\t\t\tstar.style.padding = \"0 1px\";\r\n\r\n\t\t\tif (editorParams.elementAttributes && _typeof(editorParams.elementAttributes) == \"object\") {\r\n\t\t\t\tfor (var key in editorParams.elementAttributes) {\r\n\t\t\t\t\tif (key.charAt(0) == \"+\") {\r\n\t\t\t\t\t\tkey = key.slice(1);\r\n\t\t\t\t\t\tstarsHolder.setAttribute(key, starsHolder.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tstarsHolder.setAttribute(key, editorParams.elementAttributes[key]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//create correct number of stars\r\n\t\t\tfor (var i = 1; i <= maxStars; i++) {\r\n\t\t\t\tbuildStar(i);\r\n\t\t\t}\r\n\r\n\t\t\t//ensure value does not exceed number of stars\r\n\t\t\tvalue = Math.min(parseInt(value), maxStars);\r\n\r\n\t\t\t// set initial styling of stars\r\n\t\t\tstarChange(value);\r\n\r\n\t\t\tstarsHolder.addEventListener(\"mousemove\", function (e) {\r\n\t\t\t\tstarChange(0);\r\n\t\t\t});\r\n\r\n\t\t\tstarsHolder.addEventListener(\"click\", function (e) {\r\n\t\t\t\tsuccess(0);\r\n\t\t\t});\r\n\r\n\t\t\telement.addEventListener(\"blur\", function (e) {\r\n\t\t\t\tcancel();\r\n\t\t\t});\r\n\r\n\t\t\t//allow key based navigation\r\n\t\t\telement.addEventListener(\"keydown\", function (e) {\r\n\t\t\t\tswitch (e.keyCode) {\r\n\t\t\t\t\tcase 39:\r\n\t\t\t\t\t\t//right arrow\r\n\t\t\t\t\t\tchangeValue(value + 1);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 37:\r\n\t\t\t\t\t\t//left arrow\r\n\t\t\t\t\t\tchangeValue(value - 1);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 13:\r\n\t\t\t\t\t\t//enter\r\n\t\t\t\t\t\tsuccess(value);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 27:\r\n\t\t\t\t\t\t//escape\r\n\t\t\t\t\t\tcancel();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn starsHolder;\r\n\t\t},\r\n\r\n\t\t//draggable progress bar\r\n\t\tprogress: function progress(cell, onRendered, success, cancel, editorParams) {\r\n\t\t\tvar element = cell.getElement(),\r\n\t\t\t    max = typeof editorParams.max === \"undefined\" ? element.getElementsByTagName(\"div\")[0].getAttribute(\"max\") || 100 : editorParams.max,\r\n\t\t\t    min = typeof editorParams.min === \"undefined\" ? element.getElementsByTagName(\"div\")[0].getAttribute(\"min\") || 0 : editorParams.min,\r\n\t\t\t    percent = (max - min) / 100,\r\n\t\t\t    value = cell.getValue() || 0,\r\n\t\t\t    handle = document.createElement(\"div\"),\r\n\t\t\t    bar = document.createElement(\"div\"),\r\n\t\t\t    mouseDrag,\r\n\t\t\t    mouseDragWidth;\r\n\r\n\t\t\t//set new value\r\n\t\t\tfunction updateValue() {\r\n\t\t\t\tvar style = window.getComputedStyle(element, null);\r\n\r\n\t\t\t\tvar calcVal = percent * Math.round(bar.offsetWidth / ((element.clientWidth - parseInt(style.getPropertyValue(\"padding-left\")) - parseInt(style.getPropertyValue(\"padding-right\"))) / 100)) + min;\r\n\t\t\t\tsuccess(calcVal);\r\n\t\t\t\telement.setAttribute(\"aria-valuenow\", calcVal);\r\n\t\t\t\telement.setAttribute(\"aria-label\", value);\r\n\t\t\t}\r\n\r\n\t\t\t//style handle\r\n\t\t\thandle.style.position = \"absolute\";\r\n\t\t\thandle.style.right = \"0\";\r\n\t\t\thandle.style.top = \"0\";\r\n\t\t\thandle.style.bottom = \"0\";\r\n\t\t\thandle.style.width = \"5px\";\r\n\t\t\thandle.classList.add(\"tabulator-progress-handle\");\r\n\r\n\t\t\t//style bar\r\n\t\t\tbar.style.display = \"inline-block\";\r\n\t\t\tbar.style.position = \"relative\";\r\n\t\t\t// bar.style.top = \"8px\";\r\n\t\t\t// bar.style.bottom = \"8px\";\r\n\t\t\t// bar.style.left = \"4px\";\r\n\t\t\t// bar.style.marginRight = \"4px\";\r\n\t\t\tbar.style.height = \"100%\";\r\n\t\t\tbar.style.backgroundColor = \"#488CE9\";\r\n\t\t\tbar.style.maxWidth = \"100%\";\r\n\t\t\tbar.style.minWidth = \"0%\";\r\n\r\n\t\t\tif (editorParams.elementAttributes && _typeof(editorParams.elementAttributes) == \"object\") {\r\n\t\t\t\tfor (var key in editorParams.elementAttributes) {\r\n\t\t\t\t\tif (key.charAt(0) == \"+\") {\r\n\t\t\t\t\t\tkey = key.slice(1);\r\n\t\t\t\t\t\tbar.setAttribute(key, bar.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tbar.setAttribute(key, editorParams.elementAttributes[key]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//style cell\r\n\t\t\telement.style.padding = \"4px 4px\";\r\n\r\n\t\t\t//make sure value is in range\r\n\t\t\tvalue = Math.min(parseFloat(value), max);\r\n\t\t\tvalue = Math.max(parseFloat(value), min);\r\n\r\n\t\t\t//workout percentage\r\n\t\t\tvalue = Math.round((value - min) / percent);\r\n\t\t\t// bar.style.right = value + \"%\";\r\n\t\t\tbar.style.width = value + \"%\";\r\n\r\n\t\t\telement.setAttribute(\"aria-valuemin\", min);\r\n\t\t\telement.setAttribute(\"aria-valuemax\", max);\r\n\r\n\t\t\tbar.appendChild(handle);\r\n\r\n\t\t\thandle.addEventListener(\"mousedown\", function (e) {\r\n\t\t\t\tmouseDrag = e.screenX;\r\n\t\t\t\tmouseDragWidth = bar.offsetWidth;\r\n\t\t\t});\r\n\r\n\t\t\thandle.addEventListener(\"mouseover\", function () {\r\n\t\t\t\thandle.style.cursor = \"ew-resize\";\r\n\t\t\t});\r\n\r\n\t\t\telement.addEventListener(\"mousemove\", function (e) {\r\n\t\t\t\tif (mouseDrag) {\r\n\t\t\t\t\tbar.style.width = mouseDragWidth + e.screenX - mouseDrag + \"px\";\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\telement.addEventListener(\"mouseup\", function (e) {\r\n\t\t\t\tif (mouseDrag) {\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\te.stopImmediatePropagation();\r\n\r\n\t\t\t\t\tmouseDrag = false;\r\n\t\t\t\t\tmouseDragWidth = false;\r\n\r\n\t\t\t\t\tupdateValue();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t//allow key based navigation\r\n\t\t\telement.addEventListener(\"keydown\", function (e) {\r\n\t\t\t\tswitch (e.keyCode) {\r\n\t\t\t\t\tcase 39:\r\n\t\t\t\t\t\t//right arrow\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tbar.style.width = bar.clientWidth + element.clientWidth / 100 + \"px\";\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 37:\r\n\t\t\t\t\t\t//left arrow\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tbar.style.width = bar.clientWidth - element.clientWidth / 100 + \"px\";\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 9: //tab\r\n\t\t\t\t\tcase 13:\r\n\t\t\t\t\t\t//enter\r\n\t\t\t\t\t\tupdateValue();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 27:\r\n\t\t\t\t\t\t//escape\r\n\t\t\t\t\t\tcancel();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\telement.addEventListener(\"blur\", function () {\r\n\t\t\t\tcancel();\r\n\t\t\t});\r\n\r\n\t\t\treturn bar;\r\n\t\t},\r\n\r\n\t\t//checkbox\r\n\t\ttickCross: function tickCross(cell, onRendered, success, cancel, editorParams) {\r\n\t\t\tvar value = cell.getValue(),\r\n\t\t\t    input = document.createElement(\"input\"),\r\n\t\t\t    tristate = editorParams.tristate,\r\n\t\t\t    indetermValue = typeof editorParams.indeterminateValue === \"undefined\" ? null : editorParams.indeterminateValue,\r\n\t\t\t    indetermState = false;\r\n\r\n\t\t\tinput.setAttribute(\"type\", \"checkbox\");\r\n\t\t\tinput.style.marginTop = \"5px\";\r\n\t\t\tinput.style.boxSizing = \"border-box\";\r\n\r\n\t\t\tif (editorParams.elementAttributes && _typeof(editorParams.elementAttributes) == \"object\") {\r\n\t\t\t\tfor (var key in editorParams.elementAttributes) {\r\n\t\t\t\t\tif (key.charAt(0) == \"+\") {\r\n\t\t\t\t\t\tkey = key.slice(1);\r\n\t\t\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tinput.value = value;\r\n\r\n\t\t\tif (tristate && (typeof value === \"undefined\" || value === indetermValue || value === \"\")) {\r\n\t\t\t\tindetermState = true;\r\n\t\t\t\tinput.indeterminate = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.table.browser != \"firefox\") {\r\n\t\t\t\t//prevent blur issue on mac firefox\r\n\t\t\t\tonRendered(function () {\r\n\t\t\t\t\tinput.focus({ preventScroll: true });\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tinput.checked = value === true || value === \"true\" || value === \"True\" || value === 1;\r\n\r\n\t\t\tonRendered(function () {\r\n\t\t\t\tinput.focus();\r\n\t\t\t});\r\n\r\n\t\t\tfunction setValue(blur) {\r\n\t\t\t\tif (tristate) {\r\n\t\t\t\t\tif (!blur) {\r\n\t\t\t\t\t\tif (input.checked && !indetermState) {\r\n\t\t\t\t\t\t\tinput.checked = false;\r\n\t\t\t\t\t\t\tinput.indeterminate = true;\r\n\t\t\t\t\t\t\tindetermState = true;\r\n\t\t\t\t\t\t\treturn indetermValue;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tindetermState = false;\r\n\t\t\t\t\t\t\treturn input.checked;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (indetermState) {\r\n\t\t\t\t\t\t\treturn indetermValue;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn input.checked;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn input.checked;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//submit new value on blur\r\n\t\t\tinput.addEventListener(\"change\", function (e) {\r\n\t\t\t\tsuccess(setValue());\r\n\t\t\t});\r\n\r\n\t\t\tinput.addEventListener(\"blur\", function (e) {\r\n\t\t\t\tsuccess(setValue(true));\r\n\t\t\t});\r\n\r\n\t\t\t//submit new value on enter\r\n\t\t\tinput.addEventListener(\"keydown\", function (e) {\r\n\t\t\t\tif (e.keyCode == 13) {\r\n\t\t\t\t\tsuccess(setValue());\r\n\t\t\t\t}\r\n\t\t\t\tif (e.keyCode == 27) {\r\n\t\t\t\t\tcancel();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn input;\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"edit\", Edit);\r\n\r\n\tvar ExportRow = function ExportRow(type, columns, component, indent) {\r\n\t\tthis.type = type;\r\n\t\tthis.columns = columns;\r\n\t\tthis.component = component || false;\r\n\t\tthis.indent = indent || 0;\r\n\t};\r\n\r\n\tvar ExportColumn = function ExportColumn(value, component, width, height, depth) {\r\n\t\tthis.value = value;\r\n\t\tthis.component = component || false;\r\n\t\tthis.width = width;\r\n\t\tthis.height = height;\r\n\t\tthis.depth = depth;\r\n\t};\r\n\r\n\tvar Export = function Export(table) {\r\n\t\tthis.table = table; //hold Tabulator object\r\n\t\tthis.config = {};\r\n\t\tthis.cloneTableStyle = true;\r\n\t\tthis.colVisProp = \"\";\r\n\t};\r\n\r\n\tExport.prototype.generateExportList = function (config, style, range, colVisProp) {\r\n\t\tthis.cloneTableStyle = style;\r\n\t\tthis.config = config || {};\r\n\t\tthis.colVisProp = colVisProp;\r\n\r\n\t\tvar headers = this.config.columnHeaders !== false ? this.headersToExportRows(this.generateColumnGroupHeaders()) : [];\r\n\t\tvar body = this.bodyToExportRows(this.rowLookup(range));\r\n\r\n\t\treturn headers.concat(body);\r\n\t};\r\n\r\n\tExport.prototype.genereateTable = function (config, style, range, colVisProp) {\r\n\t\tvar list = this.generateExportList(config, style, range, colVisProp);\r\n\r\n\t\treturn this.genereateTableElement(list);\r\n\t};\r\n\r\n\tExport.prototype.rowLookup = function (range) {\r\n\t\tvar _this55 = this;\r\n\r\n\t\tvar rows = [];\r\n\r\n\t\tif (typeof range == \"function\") {\r\n\t\t\trange.call(this.table).forEach(function (row) {\r\n\t\t\t\trow = _this55.table.rowManager.findRow(row);\r\n\r\n\t\t\t\tif (row) {\r\n\t\t\t\t\trows.push(row);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tswitch (range) {\r\n\t\t\t\tcase true:\r\n\t\t\t\tcase \"visible\":\r\n\t\t\t\t\trows = this.table.rowManager.getVisibleRows(true);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"all\":\r\n\t\t\t\t\trows = this.table.rowManager.rows;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"selected\":\r\n\t\t\t\t\trows = this.table.modules.selectRow.selectedRows;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"active\":\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tif (this.table.options.pagination) {\r\n\t\t\t\t\t\trows = this.table.rowManager.getDisplayRows(this.table.rowManager.displayRows.length - 2);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\trows = this.table.rowManager.getDisplayRows();\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn Object.assign([], rows);\r\n\t};\r\n\r\n\tExport.prototype.generateColumnGroupHeaders = function () {\r\n\t\tvar _this56 = this;\r\n\r\n\t\tvar output = [];\r\n\r\n\t\tvar columns = this.config.columnGroups !== false ? this.table.columnManager.columns : this.table.columnManager.columnsByIndex;\r\n\r\n\t\tcolumns.forEach(function (column) {\r\n\t\t\tvar colData = _this56.processColumnGroup(column);\r\n\r\n\t\t\tif (colData) {\r\n\t\t\t\toutput.push(colData);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\tExport.prototype.processColumnGroup = function (column) {\r\n\t\tvar _this57 = this;\r\n\r\n\t\tvar subGroups = column.columns,\r\n\t\t    maxDepth = 0,\r\n\t\t    title = column.definition[\"title\" + (this.colVisProp.charAt(0).toUpperCase() + this.colVisProp.slice(1))] || column.definition.title;\r\n\r\n\t\tvar groupData = {\r\n\t\t\ttitle: title,\r\n\t\t\tcolumn: column,\r\n\t\t\tdepth: 1\r\n\t\t};\r\n\r\n\t\tif (subGroups.length) {\r\n\t\t\tgroupData.subGroups = [];\r\n\t\t\tgroupData.width = 0;\r\n\r\n\t\t\tsubGroups.forEach(function (subGroup) {\r\n\t\t\t\tvar subGroupData = _this57.processColumnGroup(subGroup);\r\n\r\n\t\t\t\tif (subGroupData) {\r\n\t\t\t\t\tgroupData.width += subGroupData.width;\r\n\t\t\t\t\tgroupData.subGroups.push(subGroupData);\r\n\r\n\t\t\t\t\tif (subGroupData.depth > maxDepth) {\r\n\t\t\t\t\t\tmaxDepth = subGroupData.depth;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tgroupData.depth += maxDepth;\r\n\r\n\t\t\tif (!groupData.width) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (this.columnVisCheck(column)) {\r\n\t\t\t\tgroupData.width = 1;\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn groupData;\r\n\t};\r\n\r\n\tExport.prototype.columnVisCheck = function (column) {\r\n\t\treturn column.definition[this.colVisProp] !== false && (column.visible || !column.visible && column.definition[this.colVisProp]);\r\n\t};\r\n\r\n\tExport.prototype.headersToExportRows = function (columns) {\r\n\t\tvar headers = [],\r\n\t\t    headerDepth = 0,\r\n\t\t    exportRows = [];\r\n\r\n\t\tfunction parseColumnGroup(column, level) {\r\n\r\n\t\t\tvar depth = headerDepth - level;\r\n\r\n\t\t\tif (typeof headers[level] === \"undefined\") {\r\n\t\t\t\theaders[level] = [];\r\n\t\t\t}\r\n\r\n\t\t\tcolumn.height = column.subGroups ? 1 : depth - column.depth + 1;\r\n\r\n\t\t\theaders[level].push(column);\r\n\r\n\t\t\tif (column.height > 1) {\r\n\t\t\t\tfor (var _i10 = 1; _i10 < column.height; _i10++) {\r\n\r\n\t\t\t\t\tif (typeof headers[level + _i10] === \"undefined\") {\r\n\t\t\t\t\t\theaders[level + _i10] = [];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\theaders[level + _i10].push(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (column.width > 1) {\r\n\t\t\t\tfor (var _i11 = 1; _i11 < column.width; _i11++) {\r\n\t\t\t\t\theaders[level].push(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (column.subGroups) {\r\n\t\t\t\tcolumn.subGroups.forEach(function (subGroup) {\r\n\t\t\t\t\tparseColumnGroup(subGroup, level + 1);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//calculate maximum header debth\r\n\t\tcolumns.forEach(function (column) {\r\n\t\t\tif (column.depth > headerDepth) {\r\n\t\t\t\theaderDepth = column.depth;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tcolumns.forEach(function (column) {\r\n\t\t\tparseColumnGroup(column, 0);\r\n\t\t});\r\n\r\n\t\theaders.forEach(function (header) {\r\n\t\t\tvar columns = [];\r\n\r\n\t\t\theader.forEach(function (col) {\r\n\t\t\t\tif (col) {\r\n\t\t\t\t\tcolumns.push(new ExportColumn(col.title, col.column.getComponent(), col.width, col.height, col.depth));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcolumns.push(null);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\texportRows.push(new ExportRow(\"header\", columns));\r\n\t\t});\r\n\r\n\t\treturn exportRows;\r\n\t};\r\n\r\n\tExport.prototype.bodyToExportRows = function (rows) {\r\n\t\tvar _this58 = this;\r\n\r\n\t\tvar columns = [];\r\n\t\tvar exportRows = [];\r\n\r\n\t\tthis.table.columnManager.columnsByIndex.forEach(function (column) {\r\n\t\t\tif (_this58.columnVisCheck(column)) {\r\n\t\t\t\tcolumns.push(column.getComponent());\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (this.config.columnCalcs !== false && this.table.modExists(\"columnCalcs\")) {\r\n\t\t\tif (this.table.modules.columnCalcs.topInitialized) {\r\n\t\t\t\trows.unshift(this.table.modules.columnCalcs.topRow);\r\n\t\t\t}\r\n\r\n\t\t\tif (this.table.modules.columnCalcs.botInitialized) {\r\n\t\t\t\trows.push(this.table.modules.columnCalcs.botRow);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\trows = rows.filter(function (row) {\r\n\t\t\tswitch (row.type) {\r\n\t\t\t\tcase \"group\":\r\n\t\t\t\t\treturn _this58.config.rowGroups !== false;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"calc\":\r\n\t\t\t\t\treturn _this58.config.columnCalcs !== false;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"row\":\r\n\t\t\t\t\treturn !(_this58.table.options.dataTree && _this58.config.dataTree === false && row.modules.dataTree.parent);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t});\r\n\r\n\t\trows.forEach(function (row, i) {\r\n\t\t\tvar rowData = row.getData(_this58.colVisProp);\r\n\t\t\tvar exportCols = [];\r\n\t\t\tvar indent = 0;\r\n\r\n\t\t\tswitch (row.type) {\r\n\t\t\t\tcase \"group\":\r\n\t\t\t\t\tindent = row.level;\r\n\t\t\t\t\texportCols.push(new ExportColumn(row.key, row.getComponent(), columns.length, 1));\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"calc\":\r\n\t\t\t\tcase \"row\":\r\n\t\t\t\t\tcolumns.forEach(function (col) {\r\n\t\t\t\t\t\texportCols.push(new ExportColumn(col._column.getFieldValue(rowData), col, 1, 1));\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (_this58.table.options.dataTree && _this58.config.dataTree !== false) {\r\n\t\t\t\t\t\tindent = row.modules.dataTree.index;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\texportRows.push(new ExportRow(row.type, exportCols, row.getComponent(), indent));\r\n\t\t});\r\n\r\n\t\treturn exportRows;\r\n\t};\r\n\r\n\tExport.prototype.genereateTableElement = function (list) {\r\n\t\tvar _this59 = this;\r\n\r\n\t\tvar table = document.createElement(\"table\"),\r\n\t\t    headerEl = document.createElement(\"thead\"),\r\n\t\t    bodyEl = document.createElement(\"tbody\"),\r\n\t\t    styles = this.lookupTableStyles(),\r\n\t\t    rowFormatter = this.table.options[\"rowFormatter\" + (this.colVisProp.charAt(0).toUpperCase() + this.colVisProp.slice(1))],\r\n\t\t    setup = {};\r\n\r\n\t\tsetup.rowFormatter = rowFormatter !== null ? rowFormatter : this.table.options.rowFormatter;\r\n\r\n\t\tif (this.table.options.dataTree && this.config.dataTree !== false && this.table.modExists(\"columnCalcs\")) {\r\n\t\t\tsetup.treeElementField = this.table.modules.dataTree.elementField;\r\n\t\t}\r\n\r\n\t\t//assign group header formatter\r\n\t\tsetup.groupHeader = this.table.options[\"groupHeader\" + (this.colVisProp.charAt(0).toUpperCase() + this.colVisProp.slice(1))];\r\n\r\n\t\tif (setup.groupHeader && !Array.isArray(setup.groupHeader)) {\r\n\t\t\tsetup.groupHeader = [setup.groupHeader];\r\n\t\t}\r\n\r\n\t\ttable.classList.add(\"tabulator-print-table\");\r\n\r\n\t\tthis.mapElementStyles(this.table.columnManager.getHeadersElement(), headerEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"background-color\", \"color\", \"font-weight\", \"font-family\", \"font-size\"]);\r\n\r\n\t\tif (list.length > 1000) {\r\n\t\t\tconsole.warn(\"It may take a long time to render an HTML table with more than 1000 rows\");\r\n\t\t}\r\n\r\n\t\tlist.forEach(function (row, i) {\r\n\t\t\tswitch (row.type) {\r\n\t\t\t\tcase \"header\":\r\n\t\t\t\t\theaderEl.appendChild(_this59.genereateHeaderElement(row, setup, styles));\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"group\":\r\n\t\t\t\t\tbodyEl.appendChild(_this59.genereateGroupElement(row, setup, styles));\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"calc\":\r\n\t\t\t\t\tbodyEl.appendChild(_this59.genereateCalcElement(row, setup, styles));\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"row\":\r\n\t\t\t\t\tvar rowEl = _this59.genereateRowElement(row, setup, styles);\r\n\t\t\t\t\t_this59.mapElementStyles(i % 2 && styles.evenRow ? styles.evenRow : styles.oddRow, rowEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]);\r\n\t\t\t\t\tbodyEl.appendChild(rowEl);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (headerEl.innerHTML) {\r\n\t\t\ttable.appendChild(headerEl);\r\n\t\t}\r\n\r\n\t\ttable.appendChild(bodyEl);\r\n\r\n\t\tthis.mapElementStyles(this.table.element, table, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\"]);\r\n\t\treturn table;\r\n\t};\r\n\r\n\tExport.prototype.lookupTableStyles = function () {\r\n\t\tvar styles = {};\r\n\r\n\t\t//lookup row styles\r\n\t\tif (this.cloneTableStyle && window.getComputedStyle) {\r\n\t\t\tstyles.oddRow = this.table.element.querySelector(\".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)\");\r\n\t\t\tstyles.evenRow = this.table.element.querySelector(\".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)\");\r\n\t\t\tstyles.calcRow = this.table.element.querySelector(\".tabulator-row.tabulator-calcs\");\r\n\t\t\tstyles.firstRow = this.table.element.querySelector(\".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)\");\r\n\t\t\tstyles.firstGroup = this.table.element.getElementsByClassName(\"tabulator-group\")[0];\r\n\r\n\t\t\tif (styles.firstRow) {\r\n\t\t\t\tstyles.styleCells = styles.firstRow.getElementsByClassName(\"tabulator-cell\");\r\n\t\t\t\tstyles.firstCell = styles.styleCells[0];\r\n\t\t\t\tstyles.lastCell = styles.styleCells[styles.styleCells.length - 1];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn styles;\r\n\t};\r\n\r\n\tExport.prototype.genereateHeaderElement = function (row, setup, styles) {\r\n\t\tvar _this60 = this;\r\n\r\n\t\tvar rowEl = document.createElement(\"tr\");\r\n\r\n\t\trow.columns.forEach(function (column) {\r\n\t\t\tif (column) {\r\n\t\t\t\tvar cellEl = document.createElement(\"th\");\r\n\t\t\t\tvar classNames = column.component._column.definition.cssClass ? column.component._column.definition.cssClass.split(\" \") : [];\r\n\r\n\t\t\t\tcellEl.colSpan = column.width;\r\n\t\t\t\tcellEl.rowSpan = column.height;\r\n\r\n\t\t\t\tcellEl.innerHTML = column.value;\r\n\r\n\t\t\t\tif (_this60.cloneTableStyle) {\r\n\t\t\t\t\tcellEl.style.boxSizing = \"border-box\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tclassNames.forEach(function (className) {\r\n\t\t\t\t\tcellEl.classList.add(className);\r\n\t\t\t\t});\r\n\r\n\t\t\t\t_this60.mapElementStyles(column.component.getElement(), cellEl, [\"text-align\", \"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"background-color\", \"color\", \"font-weight\", \"font-family\", \"font-size\"]);\r\n\t\t\t\t_this60.mapElementStyles(column.component._column.contentElement, cellEl, [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\"]);\r\n\r\n\t\t\t\tif (column.component._column.visible) {\r\n\t\t\t\t\t_this60.mapElementStyles(column.component.getElement(), cellEl, [\"width\"]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (column.component._column.definition.width) {\r\n\t\t\t\t\t\tcellEl.style.width = column.component._column.definition.width + \"px\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (column.component._column.parent) {\r\n\t\t\t\t\t_this60.mapElementStyles(column.component._column.parent.groupElement, cellEl, [\"border-top\"]);\r\n\t\t\t\t}\r\n\r\n\t\t\t\trowEl.appendChild(cellEl);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn rowEl;\r\n\t};\r\n\r\n\tExport.prototype.genereateGroupElement = function (row, setup, styles) {\r\n\r\n\t\tvar rowEl = document.createElement(\"tr\"),\r\n\t\t    cellEl = document.createElement(\"td\"),\r\n\t\t    group = row.columns[0];\r\n\r\n\t\trowEl.classList.add(\"tabulator-print-table-row\");\r\n\r\n\t\tif (setup.groupHeader && setup.groupHeader[row.indent]) {\r\n\t\t\tgroup.value = setup.groupHeader[row.indent](group.value, row.component._group.getRowCount(), row.component._group.getData(), row.component);\r\n\t\t} else {\r\n\t\t\tif (setup.groupHeader === false) {\r\n\t\t\t\tgroup.value = group.value;\r\n\t\t\t} else {\r\n\t\t\t\tgroup.value = row.component._group.generator(group.value, row.component._group.getRowCount(), row.component._group.getData(), row.component);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcellEl.colSpan = group.width;\r\n\t\tcellEl.innerHTML = group.value;\r\n\r\n\t\trowEl.classList.add(\"tabulator-print-table-group\");\r\n\t\trowEl.classList.add(\"tabulator-group-level-\" + row.indent);\r\n\r\n\t\tif (group.component.isVisible()) {\r\n\t\t\trowEl.classList.add(\"tabulator-group-visible\");\r\n\t\t}\r\n\r\n\t\tthis.mapElementStyles(styles.firstGroup, rowEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]);\r\n\t\tthis.mapElementStyles(styles.firstGroup, cellEl, [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\"]);\r\n\r\n\t\trowEl.appendChild(cellEl);\r\n\r\n\t\treturn rowEl;\r\n\t};\r\n\r\n\tExport.prototype.genereateCalcElement = function (row, setup, styles) {\r\n\t\tvar rowEl = this.genereateRowElement(row, setup, styles);\r\n\r\n\t\trowEl.classList.add(\"tabulator-print-table-calcs\");\r\n\t\tthis.mapElementStyles(styles.calcRow, rowEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]);\r\n\r\n\t\treturn rowEl;\r\n\t};\r\n\r\n\tExport.prototype.genereateRowElement = function (row, setup, styles) {\r\n\t\tvar _this61 = this;\r\n\r\n\t\tvar rowEl = document.createElement(\"tr\");\r\n\r\n\t\trowEl.classList.add(\"tabulator-print-table-row\");\r\n\r\n\t\trow.columns.forEach(function (col) {\r\n\r\n\t\t\tif (col) {\r\n\t\t\t\tvar cellEl = document.createElement(\"td\"),\r\n\t\t\t\t    column = col.component._column,\r\n\t\t\t\t    value = col.value;\r\n\r\n\t\t\t\tvar cellWrapper = {\r\n\t\t\t\t\tmodules: {},\r\n\t\t\t\t\tgetValue: function getValue() {\r\n\t\t\t\t\t\treturn value;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tgetField: function getField() {\r\n\t\t\t\t\t\treturn column.definition.field;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tgetElement: function getElement() {\r\n\t\t\t\t\t\treturn cellEl;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tgetColumn: function getColumn() {\r\n\t\t\t\t\t\treturn column.getComponent();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tgetData: function getData() {\r\n\t\t\t\t\t\treturn row.component.getData();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tgetRow: function getRow() {\r\n\t\t\t\t\t\treturn row.component;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tgetComponent: function getComponent() {\r\n\t\t\t\t\t\treturn cellWrapper;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcolumn: column\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar classNames = column.definition.cssClass ? column.definition.cssClass.split(\" \") : [];\r\n\r\n\t\t\t\tclassNames.forEach(function (className) {\r\n\t\t\t\t\tcellEl.classList.add(className);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (_this61.table.modExists(\"format\") && _this61.config.formatCells !== false) {\r\n\t\t\t\t\tvalue = _this61.table.modules.format.formatExportValue(cellWrapper, _this61.colVisProp);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tswitch (typeof value === 'undefined' ? 'undefined' : _typeof(value)) {\r\n\t\t\t\t\t\tcase \"object\":\r\n\t\t\t\t\t\t\tvalue = JSON.stringify(value);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase \"undefined\":\r\n\t\t\t\t\t\tcase \"null\":\r\n\t\t\t\t\t\t\tvalue = \"\";\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tvalue = value;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (value instanceof Node) {\r\n\t\t\t\t\tcellEl.appendChild(value);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcellEl.innerHTML = value;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (styles.firstCell) {\r\n\t\t\t\t\t_this61.mapElementStyles(styles.firstCell, cellEl, [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\", \"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\"]);\r\n\r\n\t\t\t\t\tif (column.definition.align) {\r\n\t\t\t\t\t\tcellEl.style.textAlign = column.definition.align;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (_this61.table.options.dataTree && _this61.config.dataTree !== false) {\r\n\t\t\t\t\tif (setup.treeElementField && setup.treeElementField == column.field || !setup.treeElementField && i == 0) {\r\n\t\t\t\t\t\tif (row.component._row.modules.dataTree.controlEl) {\r\n\t\t\t\t\t\t\tcellEl.insertBefore(row.component._row.modules.dataTree.controlEl.cloneNode(true), cellEl.firstChild);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (row.component._row.modules.dataTree.branchEl) {\r\n\t\t\t\t\t\t\tcellEl.insertBefore(row.component._row.modules.dataTree.branchEl.cloneNode(true), cellEl.firstChild);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\trowEl.appendChild(cellEl);\r\n\r\n\t\t\t\tif (cellWrapper.modules.format && cellWrapper.modules.format.renderedCallback) {\r\n\t\t\t\t\tcellWrapper.modules.format.renderedCallback();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (setup.rowFormatter && _this61.config.formatCells !== false) {\r\n\t\t\t\t\tsetup.rowFormatter(row.component);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn rowEl;\r\n\t};\r\n\r\n\tExport.prototype.genereateHTMLTable = function (list) {\r\n\t\tvar holder = document.createElement(\"div\");\r\n\r\n\t\tholder.appendChild(this.genereateTableElement(list));\r\n\r\n\t\treturn holder.innerHTML;\r\n\t};\r\n\r\n\tExport.prototype.getHtml = function (visible, style, config, colVisProp) {\r\n\t\tvar list = this.generateExportList(config || this.table.options.htmlOutputConfig, style, visible, colVisProp || \"htmlOutput\");\r\n\r\n\t\treturn this.genereateHTMLTable(list);\r\n\t};\r\n\r\n\tExport.prototype.mapElementStyles = function (from, to, props) {\r\n\t\tif (this.cloneTableStyle && from && to) {\r\n\r\n\t\t\tvar lookup = {\r\n\t\t\t\t\"background-color\": \"backgroundColor\",\r\n\t\t\t\t\"color\": \"fontColor\",\r\n\t\t\t\t\"width\": \"width\",\r\n\t\t\t\t\"font-weight\": \"fontWeight\",\r\n\t\t\t\t\"font-family\": \"fontFamily\",\r\n\t\t\t\t\"font-size\": \"fontSize\",\r\n\t\t\t\t\"text-align\": \"textAlign\",\r\n\t\t\t\t\"border-top\": \"borderTop\",\r\n\t\t\t\t\"border-left\": \"borderLeft\",\r\n\t\t\t\t\"border-right\": \"borderRight\",\r\n\t\t\t\t\"border-bottom\": \"borderBottom\",\r\n\t\t\t\t\"padding-top\": \"paddingTop\",\r\n\t\t\t\t\"padding-left\": \"paddingLeft\",\r\n\t\t\t\t\"padding-right\": \"paddingRight\",\r\n\t\t\t\t\"padding-bottom\": \"paddingBottom\"\r\n\t\t\t};\r\n\r\n\t\t\tif (window.getComputedStyle) {\r\n\t\t\t\tvar fromStyle = window.getComputedStyle(from);\r\n\r\n\t\t\t\tprops.forEach(function (prop) {\r\n\t\t\t\t\tto.style[lookup[prop]] = fromStyle.getPropertyValue(prop);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"export\", Export);\r\n\r\n\tvar Filter = function Filter(table) {\r\n\r\n\t\tthis.table = table; //hold Tabulator object\r\n\r\n\t\tthis.filterList = []; //hold filter list\r\n\t\tthis.headerFilters = {}; //hold column filters\r\n\t\tthis.headerFilterColumns = []; //hold columns that use header filters\r\n\r\n\t\tthis.prevHeaderFilterChangeCheck = \"\";\r\n\t\tthis.prevHeaderFilterChangeCheck = \"{}\";\r\n\r\n\t\tthis.changed = false; //has filtering changed since last render\r\n\t};\r\n\r\n\t//initialize column header filter\r\n\tFilter.prototype.initializeColumn = function (column, value) {\r\n\t\tvar self = this,\r\n\t\t    field = column.getField(),\r\n\t\t    params;\r\n\r\n\t\t//handle successfull value change\r\n\t\tfunction success(value) {\r\n\t\t\tvar filterType = column.modules.filter.tagType == \"input\" && column.modules.filter.attrType == \"text\" || column.modules.filter.tagType == \"textarea\" ? \"partial\" : \"match\",\r\n\t\t\t    type = \"\",\r\n\t\t\t    filterChangeCheck = \"\",\r\n\t\t\t    filterFunc;\r\n\r\n\t\t\tif (typeof column.modules.filter.prevSuccess === \"undefined\" || column.modules.filter.prevSuccess !== value) {\r\n\r\n\t\t\t\tcolumn.modules.filter.prevSuccess = value;\r\n\r\n\t\t\t\tif (!column.modules.filter.emptyFunc(value)) {\r\n\t\t\t\t\tcolumn.modules.filter.value = value;\r\n\r\n\t\t\t\t\tswitch (_typeof(column.definition.headerFilterFunc)) {\r\n\t\t\t\t\t\tcase \"string\":\r\n\t\t\t\t\t\t\tif (self.filters[column.definition.headerFilterFunc]) {\r\n\t\t\t\t\t\t\t\ttype = column.definition.headerFilterFunc;\r\n\t\t\t\t\t\t\t\tfilterFunc = function filterFunc(data) {\r\n\t\t\t\t\t\t\t\t\tvar params = column.definition.headerFilterFuncParams || {};\r\n\t\t\t\t\t\t\t\t\tvar fieldVal = column.getFieldValue(data);\r\n\r\n\t\t\t\t\t\t\t\t\tparams = typeof params === \"function\" ? params(value, fieldVal, data) : params;\r\n\r\n\t\t\t\t\t\t\t\t\treturn self.filters[column.definition.headerFilterFunc](value, fieldVal, data, params);\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tconsole.warn(\"Header Filter Error - Matching filter function not found: \", column.definition.headerFilterFunc);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase \"function\":\r\n\t\t\t\t\t\t\tfilterFunc = function filterFunc(data) {\r\n\t\t\t\t\t\t\t\tvar params = column.definition.headerFilterFuncParams || {};\r\n\t\t\t\t\t\t\t\tvar fieldVal = column.getFieldValue(data);\r\n\r\n\t\t\t\t\t\t\t\tparams = typeof params === \"function\" ? params(value, fieldVal, data) : params;\r\n\r\n\t\t\t\t\t\t\t\treturn column.definition.headerFilterFunc(value, fieldVal, data, params);\r\n\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\ttype = filterFunc;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!filterFunc) {\r\n\t\t\t\t\t\tswitch (filterType) {\r\n\t\t\t\t\t\t\tcase \"partial\":\r\n\t\t\t\t\t\t\t\tfilterFunc = function filterFunc(data) {\r\n\t\t\t\t\t\t\t\t\tvar colVal = column.getFieldValue(data);\r\n\r\n\t\t\t\t\t\t\t\t\tif (typeof colVal !== 'undefined' && colVal !== null) {\r\n\t\t\t\t\t\t\t\t\t\treturn String(colVal).toLowerCase().indexOf(String(value).toLowerCase()) > -1;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\ttype = \"like\";\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tfilterFunc = function filterFunc(data) {\r\n\t\t\t\t\t\t\t\t\treturn column.getFieldValue(data) == value;\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\ttype = \"=\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tself.headerFilters[field] = { value: value, func: filterFunc, type: type, params: params || {} };\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdelete self.headerFilters[field];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfilterChangeCheck = JSON.stringify(self.headerFilters);\r\n\r\n\t\t\t\tif (self.prevHeaderFilterChangeCheck !== filterChangeCheck) {\r\n\t\t\t\t\tself.prevHeaderFilterChangeCheck = filterChangeCheck;\r\n\r\n\t\t\t\t\tself.changed = true;\r\n\t\t\t\t\tself.table.rowManager.filterRefresh();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tcolumn.modules.filter = {\r\n\t\t\tsuccess: success,\r\n\t\t\tattrType: false,\r\n\t\t\ttagType: false,\r\n\t\t\temptyFunc: false\r\n\t\t};\r\n\r\n\t\tthis.generateHeaderFilterElement(column);\r\n\t};\r\n\r\n\tFilter.prototype.generateHeaderFilterElement = function (column, initialValue, reinitialize) {\r\n\t\tvar _this62 = this;\r\n\r\n\t\tvar self = this,\r\n\t\t    success = column.modules.filter.success,\r\n\t\t    field = column.getField(),\r\n\t\t    filterElement,\r\n\t\t    editor,\r\n\t\t    editorElement,\r\n\t\t    cellWrapper,\r\n\t\t    typingTimer,\r\n\t\t    searchTrigger,\r\n\t\t    params;\r\n\r\n\t\t//handle aborted edit\r\n\t\tfunction cancel() {}\r\n\r\n\t\tif (column.modules.filter.headerElement && column.modules.filter.headerElement.parentNode) {\r\n\t\t\tcolumn.contentElement.removeChild(column.modules.filter.headerElement.parentNode);\r\n\t\t}\r\n\r\n\t\tif (field) {\r\n\r\n\t\t\t//set empty value function\r\n\t\t\tcolumn.modules.filter.emptyFunc = column.definition.headerFilterEmptyCheck || function (value) {\r\n\t\t\t\treturn !value && value !== \"0\" && value !== 0;\r\n\t\t\t};\r\n\r\n\t\t\tfilterElement = document.createElement(\"div\");\r\n\t\t\tfilterElement.classList.add(\"tabulator-header-filter\");\r\n\r\n\t\t\t//set column editor\r\n\t\t\tswitch (_typeof(column.definition.headerFilter)) {\r\n\t\t\t\tcase \"string\":\r\n\t\t\t\t\tif (self.table.modules.edit.editors[column.definition.headerFilter]) {\r\n\t\t\t\t\t\teditor = self.table.modules.edit.editors[column.definition.headerFilter];\r\n\r\n\t\t\t\t\t\tif ((column.definition.headerFilter === \"tick\" || column.definition.headerFilter === \"tickCross\") && !column.definition.headerFilterEmptyCheck) {\r\n\t\t\t\t\t\t\tcolumn.modules.filter.emptyFunc = function (value) {\r\n\t\t\t\t\t\t\t\treturn value !== true && value !== false;\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.warn(\"Filter Error - Cannot build header filter, No such editor found: \", column.definition.editor);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"function\":\r\n\t\t\t\t\teditor = column.definition.headerFilter;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"boolean\":\r\n\t\t\t\t\tif (column.modules.edit && column.modules.edit.editor) {\r\n\t\t\t\t\t\teditor = column.modules.edit.editor;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (column.definition.formatter && self.table.modules.edit.editors[column.definition.formatter]) {\r\n\t\t\t\t\t\t\teditor = self.table.modules.edit.editors[column.definition.formatter];\r\n\r\n\t\t\t\t\t\t\tif ((column.definition.formatter === \"tick\" || column.definition.formatter === \"tickCross\") && !column.definition.headerFilterEmptyCheck) {\r\n\t\t\t\t\t\t\t\tcolumn.modules.filter.emptyFunc = function (value) {\r\n\t\t\t\t\t\t\t\t\treturn value !== true && value !== false;\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\teditor = self.table.modules.edit.editors[\"input\"];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif (editor) {\r\n\r\n\t\t\t\tcellWrapper = {\r\n\t\t\t\t\tgetValue: function getValue() {\r\n\t\t\t\t\t\treturn typeof initialValue !== \"undefined\" ? initialValue : \"\";\r\n\t\t\t\t\t},\r\n\t\t\t\t\tgetField: function getField() {\r\n\t\t\t\t\t\treturn column.definition.field;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tgetElement: function getElement() {\r\n\t\t\t\t\t\treturn filterElement;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tgetColumn: function getColumn() {\r\n\t\t\t\t\t\treturn column.getComponent();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tgetRow: function getRow() {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tnormalizeHeight: function normalizeHeight() {}\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tparams = column.definition.headerFilterParams || {};\r\n\r\n\t\t\t\tparams = typeof params === \"function\" ? params.call(self.table) : params;\r\n\r\n\t\t\t\teditorElement = editor.call(this.table.modules.edit, cellWrapper, function () {}, success, cancel, params);\r\n\r\n\t\t\t\tif (!editorElement) {\r\n\t\t\t\t\tconsole.warn(\"Filter Error - Cannot add filter to \" + field + \" column, editor returned a value of false\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!(editorElement instanceof Node)) {\r\n\t\t\t\t\tconsole.warn(\"Filter Error - Cannot add filter to \" + field + \" column, editor should return an instance of Node, the editor returned:\", editorElement);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//set Placeholder Text\r\n\t\t\t\tif (field) {\r\n\t\t\t\t\tself.table.modules.localize.bind(\"headerFilters|columns|\" + column.definition.field, function (value) {\r\n\t\t\t\t\t\teditorElement.setAttribute(\"placeholder\", typeof value !== \"undefined\" && value ? value : self.table.modules.localize.getText(\"headerFilters|default\"));\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.table.modules.localize.bind(\"headerFilters|default\", function (value) {\r\n\t\t\t\t\t\teditorElement.setAttribute(\"placeholder\", typeof self.column.definition.headerFilterPlaceholder !== \"undefined\" && self.column.definition.headerFilterPlaceholder ? self.column.definition.headerFilterPlaceholder : value);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//focus on element on click\r\n\t\t\t\teditorElement.addEventListener(\"click\", function (e) {\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\teditorElement.focus();\r\n\t\t\t\t});\r\n\r\n\t\t\t\teditorElement.addEventListener(\"focus\", function (e) {\r\n\t\t\t\t\tvar left = _this62.table.columnManager.element.scrollLeft;\r\n\r\n\t\t\t\t\tif (left !== _this62.table.rowManager.element.scrollLeft) {\r\n\t\t\t\t\t\t_this62.table.rowManager.scrollHorizontal(left);\r\n\t\t\t\t\t\t_this62.table.columnManager.scrollHorizontal(left);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t//live update filters as user types\r\n\t\t\t\ttypingTimer = false;\r\n\r\n\t\t\t\tsearchTrigger = function searchTrigger(e) {\r\n\t\t\t\t\tif (typingTimer) {\r\n\t\t\t\t\t\tclearTimeout(typingTimer);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttypingTimer = setTimeout(function () {\r\n\t\t\t\t\t\tsuccess(editorElement.value);\r\n\t\t\t\t\t}, self.table.options.headerFilterLiveFilterDelay);\r\n\t\t\t\t};\r\n\r\n\t\t\t\tcolumn.modules.filter.headerElement = editorElement;\r\n\t\t\t\tcolumn.modules.filter.attrType = editorElement.hasAttribute(\"type\") ? editorElement.getAttribute(\"type\").toLowerCase() : \"\";\r\n\t\t\t\tcolumn.modules.filter.tagType = editorElement.tagName.toLowerCase();\r\n\r\n\t\t\t\tif (column.definition.headerFilterLiveFilter !== false) {\r\n\r\n\t\t\t\t\tif (!(column.definition.headerFilter === 'autocomplete' || column.definition.headerFilter === 'tickCross' || (column.definition.editor === 'autocomplete' || column.definition.editor === 'tickCross') && column.definition.headerFilter === true)) {\r\n\t\t\t\t\t\teditorElement.addEventListener(\"keyup\", searchTrigger);\r\n\t\t\t\t\t\teditorElement.addEventListener(\"search\", searchTrigger);\r\n\r\n\t\t\t\t\t\t//update number filtered columns on change\r\n\t\t\t\t\t\tif (column.modules.filter.attrType == \"number\") {\r\n\t\t\t\t\t\t\teditorElement.addEventListener(\"change\", function (e) {\r\n\t\t\t\t\t\t\t\tsuccess(editorElement.value);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t//change text inputs to search inputs to allow for clearing of field\r\n\t\t\t\t\t\tif (column.modules.filter.attrType == \"text\" && this.table.browser !== \"ie\") {\r\n\t\t\t\t\t\t\teditorElement.setAttribute(\"type\", \"search\");\r\n\t\t\t\t\t\t\t// editorElement.off(\"change blur\"); //prevent blur from triggering filter and preventing selection click\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//prevent input and select elements from propegating click to column sorters etc\r\n\t\t\t\t\tif (column.modules.filter.tagType == \"input\" || column.modules.filter.tagType == \"select\" || column.modules.filter.tagType == \"textarea\") {\r\n\t\t\t\t\t\teditorElement.addEventListener(\"mousedown\", function (e) {\r\n\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfilterElement.appendChild(editorElement);\r\n\r\n\t\t\t\tcolumn.contentElement.appendChild(filterElement);\r\n\r\n\t\t\t\tif (!reinitialize) {\r\n\t\t\t\t\tself.headerFilterColumns.push(column);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconsole.warn(\"Filter Error - Cannot add header filter, column has no field set:\", column.definition.title);\r\n\t\t}\r\n\t};\r\n\r\n\t//hide all header filter elements (used to ensure correct column widths in \"fitData\" layout mode)\r\n\tFilter.prototype.hideHeaderFilterElements = function () {\r\n\t\tthis.headerFilterColumns.forEach(function (column) {\r\n\t\t\tif (column.modules.filter && column.modules.filter.headerElement) {\r\n\t\t\t\tcolumn.modules.filter.headerElement.style.display = 'none';\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t//show all header filter elements (used to ensure correct column widths in \"fitData\" layout mode)\r\n\tFilter.prototype.showHeaderFilterElements = function () {\r\n\t\tthis.headerFilterColumns.forEach(function (column) {\r\n\t\t\tif (column.modules.filter && column.modules.filter.headerElement) {\r\n\t\t\t\tcolumn.modules.filter.headerElement.style.display = '';\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t//programatically set focus of header filter\r\n\tFilter.prototype.setHeaderFilterFocus = function (column) {\r\n\t\tif (column.modules.filter && column.modules.filter.headerElement) {\r\n\t\t\tcolumn.modules.filter.headerElement.focus();\r\n\t\t} else {\r\n\t\t\tconsole.warn(\"Column Filter Focus Error - No header filter set on column:\", column.getField());\r\n\t\t}\r\n\t};\r\n\r\n\t//programmatically get value of header filter\r\n\tFilter.prototype.getHeaderFilterValue = function (column) {\r\n\t\tif (column.modules.filter && column.modules.filter.headerElement) {\r\n\t\t\treturn column.modules.filter.headerElement.value;\r\n\t\t} else {\r\n\t\t\tconsole.warn(\"Column Filter Error - No header filter set on column:\", column.getField());\r\n\t\t}\r\n\t};\r\n\r\n\t//programatically set value of header filter\r\n\tFilter.prototype.setHeaderFilterValue = function (column, value) {\r\n\t\tif (column) {\r\n\t\t\tif (column.modules.filter && column.modules.filter.headerElement) {\r\n\t\t\t\tthis.generateHeaderFilterElement(column, value, true);\r\n\t\t\t\tcolumn.modules.filter.success(value);\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn(\"Column Filter Error - No header filter set on column:\", column.getField());\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tFilter.prototype.reloadHeaderFilter = function (column) {\r\n\t\tif (column) {\r\n\t\t\tif (column.modules.filter && column.modules.filter.headerElement) {\r\n\t\t\t\tthis.generateHeaderFilterElement(column, column.modules.filter.value, true);\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn(\"Column Filter Error - No header filter set on column:\", column.getField());\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//check if the filters has changed since last use\r\n\tFilter.prototype.hasChanged = function () {\r\n\t\tvar changed = this.changed;\r\n\t\tthis.changed = false;\r\n\t\treturn changed;\r\n\t};\r\n\r\n\t//set standard filters\r\n\tFilter.prototype.setFilter = function (field, type, value, params) {\r\n\t\tvar self = this;\r\n\r\n\t\tself.filterList = [];\r\n\r\n\t\tif (!Array.isArray(field)) {\r\n\t\t\tfield = [{ field: field, type: type, value: value, params: params }];\r\n\t\t}\r\n\r\n\t\tself.addFilter(field);\r\n\t};\r\n\r\n\t//add filter to array\r\n\tFilter.prototype.addFilter = function (field, type, value, params) {\r\n\t\tvar self = this;\r\n\r\n\t\tif (!Array.isArray(field)) {\r\n\t\t\tfield = [{ field: field, type: type, value: value, params: params }];\r\n\t\t}\r\n\r\n\t\tfield.forEach(function (filter) {\r\n\r\n\t\t\tfilter = self.findFilter(filter);\r\n\r\n\t\t\tif (filter) {\r\n\t\t\t\tself.filterList.push(filter);\r\n\r\n\t\t\t\tself.changed = true;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (this.table.options.persistence && this.table.modExists(\"persistence\", true) && this.table.modules.persistence.config.filter) {\r\n\t\t\tthis.table.modules.persistence.save(\"filter\");\r\n\t\t}\r\n\t};\r\n\r\n\tFilter.prototype.findFilter = function (filter) {\r\n\t\tvar self = this,\r\n\t\t    column;\r\n\r\n\t\tif (Array.isArray(filter)) {\r\n\t\t\treturn this.findSubFilters(filter);\r\n\t\t}\r\n\r\n\t\tvar filterFunc = false;\r\n\r\n\t\tif (typeof filter.field == \"function\") {\r\n\t\t\tfilterFunc = function filterFunc(data) {\r\n\t\t\t\treturn filter.field(data, filter.type || {}); // pass params to custom filter function\r\n\t\t\t};\r\n\t\t} else {\r\n\r\n\t\t\tif (self.filters[filter.type]) {\r\n\r\n\t\t\t\tcolumn = self.table.columnManager.getColumnByField(filter.field);\r\n\r\n\t\t\t\tif (column) {\r\n\t\t\t\t\tfilterFunc = function filterFunc(data) {\r\n\t\t\t\t\t\treturn self.filters[filter.type](filter.value, column.getFieldValue(data), data, filter.params || {});\r\n\t\t\t\t\t};\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfilterFunc = function filterFunc(data) {\r\n\t\t\t\t\t\treturn self.filters[filter.type](filter.value, data[filter.field], data, filter.params || {});\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn(\"Filter Error - No such filter type found, ignoring: \", filter.type);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfilter.func = filterFunc;\r\n\r\n\t\treturn filter.func ? filter : false;\r\n\t};\r\n\r\n\tFilter.prototype.findSubFilters = function (filters) {\r\n\t\tvar self = this,\r\n\t\t    output = [];\r\n\r\n\t\tfilters.forEach(function (filter) {\r\n\t\t\tfilter = self.findFilter(filter);\r\n\r\n\t\t\tif (filter) {\r\n\t\t\t\toutput.push(filter);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn output.length ? output : false;\r\n\t};\r\n\r\n\t//get all filters\r\n\tFilter.prototype.getFilters = function (all, ajax) {\r\n\t\tvar output = [];\r\n\r\n\t\tif (all) {\r\n\t\t\toutput = this.getHeaderFilters();\r\n\t\t}\r\n\r\n\t\tif (ajax) {\r\n\t\t\toutput.forEach(function (item) {\r\n\t\t\t\tif (typeof item.type == \"function\") {\r\n\t\t\t\t\titem.type = \"function\";\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\toutput = output.concat(this.filtersToArray(this.filterList, ajax));\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\t//filter to Object\r\n\tFilter.prototype.filtersToArray = function (filterList, ajax) {\r\n\t\tvar _this63 = this;\r\n\r\n\t\tvar output = [];\r\n\r\n\t\tfilterList.forEach(function (filter) {\r\n\t\t\tvar item;\r\n\r\n\t\t\tif (Array.isArray(filter)) {\r\n\t\t\t\toutput.push(_this63.filtersToArray(filter, ajax));\r\n\t\t\t} else {\r\n\t\t\t\titem = { field: filter.field, type: filter.type, value: filter.value };\r\n\r\n\t\t\t\tif (ajax) {\r\n\t\t\t\t\tif (typeof item.type == \"function\") {\r\n\t\t\t\t\t\titem.type = \"function\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\toutput.push(item);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\t//get all filters\r\n\tFilter.prototype.getHeaderFilters = function () {\r\n\t\tvar self = this,\r\n\t\t    output = [];\r\n\r\n\t\tfor (var key in this.headerFilters) {\r\n\t\t\toutput.push({ field: key, type: this.headerFilters[key].type, value: this.headerFilters[key].value });\r\n\t\t}\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\t//remove filter from array\r\n\tFilter.prototype.removeFilter = function (field, type, value) {\r\n\t\tvar self = this;\r\n\r\n\t\tif (!Array.isArray(field)) {\r\n\t\t\tfield = [{ field: field, type: type, value: value }];\r\n\t\t}\r\n\r\n\t\tfield.forEach(function (filter) {\r\n\t\t\tvar index = -1;\r\n\r\n\t\t\tif (_typeof(filter.field) == \"object\") {\r\n\t\t\t\tindex = self.filterList.findIndex(function (element) {\r\n\t\t\t\t\treturn filter === element;\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tindex = self.filterList.findIndex(function (element) {\r\n\t\t\t\t\treturn filter.field === element.field && filter.type === element.type && filter.value === element.value;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (index > -1) {\r\n\t\t\t\tself.filterList.splice(index, 1);\r\n\t\t\t\tself.changed = true;\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn(\"Filter Error - No matching filter type found, ignoring: \", filter.type);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (this.table.options.persistence && this.table.modExists(\"persistence\", true) && this.table.modules.persistence.config.filter) {\r\n\t\t\tthis.table.modules.persistence.save(\"filter\");\r\n\t\t}\r\n\t};\r\n\r\n\t//clear filters\r\n\tFilter.prototype.clearFilter = function (all) {\r\n\t\tthis.filterList = [];\r\n\r\n\t\tif (all) {\r\n\t\t\tthis.clearHeaderFilter();\r\n\t\t}\r\n\r\n\t\tthis.changed = true;\r\n\r\n\t\tif (this.table.options.persistence && this.table.modExists(\"persistence\", true) && this.table.modules.persistence.config.filter) {\r\n\t\t\tthis.table.modules.persistence.save(\"filter\");\r\n\t\t}\r\n\t};\r\n\r\n\t//clear header filters\r\n\tFilter.prototype.clearHeaderFilter = function () {\r\n\t\tvar self = this;\r\n\r\n\t\tthis.headerFilters = {};\r\n\t\tself.prevHeaderFilterChangeCheck = \"{}\";\r\n\r\n\t\tthis.headerFilterColumns.forEach(function (column) {\r\n\t\t\tif (typeof column.modules.filter.value !== \"undefined\") {\r\n\t\t\t\tdelete column.modules.filter.value;\r\n\t\t\t}\r\n\t\t\tcolumn.modules.filter.prevSuccess = undefined;\r\n\t\t\tself.reloadHeaderFilter(column);\r\n\t\t});\r\n\r\n\t\tthis.changed = true;\r\n\t};\r\n\r\n\t//search data and return matching rows\r\n\tFilter.prototype.search = function (searchType, field, type, value) {\r\n\t\tvar self = this,\r\n\t\t    activeRows = [],\r\n\t\t    filterList = [];\r\n\r\n\t\tif (!Array.isArray(field)) {\r\n\t\t\tfield = [{ field: field, type: type, value: value }];\r\n\t\t}\r\n\r\n\t\tfield.forEach(function (filter) {\r\n\t\t\tfilter = self.findFilter(filter);\r\n\r\n\t\t\tif (filter) {\r\n\t\t\t\tfilterList.push(filter);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.table.rowManager.rows.forEach(function (row) {\r\n\t\t\tvar match = true;\r\n\r\n\t\t\tfilterList.forEach(function (filter) {\r\n\t\t\t\tif (!self.filterRecurse(filter, row.getData())) {\r\n\t\t\t\t\tmatch = false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (match) {\r\n\t\t\t\tactiveRows.push(searchType === \"data\" ? row.getData(\"data\") : row.getComponent());\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn activeRows;\r\n\t};\r\n\r\n\t//filter row array\r\n\tFilter.prototype.filter = function (rowList, filters) {\r\n\t\tvar self = this,\r\n\t\t    activeRows = [],\r\n\t\t    activeRowComponents = [];\r\n\r\n\t\tif (self.table.options.dataFiltering) {\r\n\t\t\tself.table.options.dataFiltering.call(self.table, self.getFilters());\r\n\t\t}\r\n\r\n\t\tif (!self.table.options.ajaxFiltering && (self.filterList.length || Object.keys(self.headerFilters).length)) {\r\n\r\n\t\t\trowList.forEach(function (row) {\r\n\t\t\t\tif (self.filterRow(row)) {\r\n\t\t\t\t\tactiveRows.push(row);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tactiveRows = rowList.slice(0);\r\n\t\t}\r\n\r\n\t\tif (self.table.options.dataFiltered) {\r\n\r\n\t\t\tactiveRows.forEach(function (row) {\r\n\t\t\t\tactiveRowComponents.push(row.getComponent());\r\n\t\t\t});\r\n\r\n\t\t\tself.table.options.dataFiltered.call(self.table, self.getFilters(), activeRowComponents);\r\n\t\t}\r\n\r\n\t\treturn activeRows;\r\n\t};\r\n\r\n\t//filter individual row\r\n\tFilter.prototype.filterRow = function (row, filters) {\r\n\t\tvar self = this,\r\n\t\t    match = true,\r\n\t\t    data = row.getData();\r\n\r\n\t\tself.filterList.forEach(function (filter) {\r\n\t\t\tif (!self.filterRecurse(filter, data)) {\r\n\t\t\t\tmatch = false;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tfor (var field in self.headerFilters) {\r\n\t\t\tif (!self.headerFilters[field].func(data)) {\r\n\t\t\t\tmatch = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn match;\r\n\t};\r\n\r\n\tFilter.prototype.filterRecurse = function (filter, data) {\r\n\t\tvar self = this,\r\n\t\t    match = false;\r\n\r\n\t\tif (Array.isArray(filter)) {\r\n\t\t\tfilter.forEach(function (subFilter) {\r\n\t\t\t\tif (self.filterRecurse(subFilter, data)) {\r\n\t\t\t\t\tmatch = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tmatch = filter.func(data);\r\n\t\t}\r\n\r\n\t\treturn match;\r\n\t};\r\n\r\n\t//list of available filters\r\n\tFilter.prototype.filters = {\r\n\r\n\t\t//equal to\r\n\t\t\"=\": function _(filterVal, rowVal, rowData, filterParams) {\r\n\t\t\treturn rowVal == filterVal ? true : false;\r\n\t\t},\r\n\r\n\t\t//less than\r\n\t\t\"<\": function _(filterVal, rowVal, rowData, filterParams) {\r\n\t\t\treturn rowVal < filterVal ? true : false;\r\n\t\t},\r\n\r\n\t\t//less than or equal to\r\n\t\t\"<=\": function _(filterVal, rowVal, rowData, filterParams) {\r\n\t\t\treturn rowVal <= filterVal ? true : false;\r\n\t\t},\r\n\r\n\t\t//greater than\r\n\t\t\">\": function _(filterVal, rowVal, rowData, filterParams) {\r\n\t\t\treturn rowVal > filterVal ? true : false;\r\n\t\t},\r\n\r\n\t\t//greater than or equal to\r\n\t\t\">=\": function _(filterVal, rowVal, rowData, filterParams) {\r\n\t\t\treturn rowVal >= filterVal ? true : false;\r\n\t\t},\r\n\r\n\t\t//not equal to\r\n\t\t\"!=\": function _(filterVal, rowVal, rowData, filterParams) {\r\n\t\t\treturn rowVal != filterVal ? true : false;\r\n\t\t},\r\n\r\n\t\t\"regex\": function regex(filterVal, rowVal, rowData, filterParams) {\r\n\r\n\t\t\tif (typeof filterVal == \"string\") {\r\n\t\t\t\tfilterVal = new RegExp(filterVal);\r\n\t\t\t}\r\n\r\n\t\t\treturn filterVal.test(rowVal);\r\n\t\t},\r\n\r\n\t\t//contains the string\r\n\t\t\"like\": function like(filterVal, rowVal, rowData, filterParams) {\r\n\t\t\tif (filterVal === null || typeof filterVal === \"undefined\") {\r\n\t\t\t\treturn rowVal === filterVal ? true : false;\r\n\t\t\t} else {\r\n\t\t\t\tif (typeof rowVal !== 'undefined' && rowVal !== null) {\r\n\t\t\t\t\treturn String(rowVal).toLowerCase().indexOf(filterVal.toLowerCase()) > -1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t//contains the keywords\r\n\t\t\"keywords\": function keywords(filterVal, rowVal, rowData, filterParams) {\r\n\t\t\tvar keywords = filterVal.toLowerCase().split(typeof filterParams.separator === \"undefined\" ? \" \" : filterParams.separator),\r\n\t\t\t    value = String(rowVal === null || typeof rowVal === \"undefined\" ? \"\" : rowVal).toLowerCase(),\r\n\t\t\t    matches = [];\r\n\r\n\t\t\tkeywords.forEach(function (keyword) {\r\n\t\t\t\tif (value.includes(keyword)) {\r\n\t\t\t\t\tmatches.push(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn filterParams.matchAll ? matches.length === keywords.length : !!matches.length;\r\n\t\t},\r\n\r\n\t\t//starts with the string\r\n\t\t\"starts\": function starts(filterVal, rowVal, rowData, filterParams) {\r\n\t\t\tif (filterVal === null || typeof filterVal === \"undefined\") {\r\n\t\t\t\treturn rowVal === filterVal ? true : false;\r\n\t\t\t} else {\r\n\t\t\t\tif (typeof rowVal !== 'undefined' && rowVal !== null) {\r\n\t\t\t\t\treturn String(rowVal).toLowerCase().startsWith(filterVal.toLowerCase());\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t//ends with the string\r\n\t\t\"ends\": function ends(filterVal, rowVal, rowData, filterParams) {\r\n\t\t\tif (filterVal === null || typeof filterVal === \"undefined\") {\r\n\t\t\t\treturn rowVal === filterVal ? true : false;\r\n\t\t\t} else {\r\n\t\t\t\tif (typeof rowVal !== 'undefined' && rowVal !== null) {\r\n\t\t\t\t\treturn String(rowVal).toLowerCase().endsWith(filterVal.toLowerCase());\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t//in array\r\n\t\t\"in\": function _in(filterVal, rowVal, rowData, filterParams) {\r\n\t\t\tif (Array.isArray(filterVal)) {\r\n\t\t\t\treturn filterVal.length ? filterVal.indexOf(rowVal) > -1 : true;\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn(\"Filter Error - filter value is not an array:\", filterVal);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"filter\", Filter);\r\n\r\n\tvar Format = function Format(table) {\r\n\t\tthis.table = table; //hold Tabulator object\r\n\t};\r\n\r\n\t//initialize column formatter\r\n\tFormat.prototype.initializeColumn = function (column) {\r\n\t\tcolumn.modules.format = this.lookupFormatter(column, \"\");\r\n\r\n\t\tif (typeof column.definition.formatterPrint !== \"undefined\") {\r\n\t\t\tcolumn.modules.format.print = this.lookupFormatter(column, \"Print\");\r\n\t\t}\r\n\r\n\t\tif (typeof column.definition.formatterClipboard !== \"undefined\") {\r\n\t\t\tcolumn.modules.format.clipboard = this.lookupFormatter(column, \"Clipboard\");\r\n\t\t}\r\n\r\n\t\tif (typeof column.definition.formatterHtmlOutput !== \"undefined\") {\r\n\t\t\tcolumn.modules.format.htmlOutput = this.lookupFormatter(column, \"HtmlOutput\");\r\n\t\t}\r\n\t};\r\n\r\n\tFormat.prototype.lookupFormatter = function (column, type) {\r\n\t\tvar config = { params: column.definition[\"formatter\" + type + \"Params\"] || {} },\r\n\t\t    formatter = column.definition[\"formatter\" + type];\r\n\r\n\t\t//set column formatter\r\n\t\tswitch (typeof formatter === 'undefined' ? 'undefined' : _typeof(formatter)) {\r\n\t\t\tcase \"string\":\r\n\r\n\t\t\t\tif (formatter === \"tick\") {\r\n\t\t\t\t\tformatter = \"tickCross\";\r\n\r\n\t\t\t\t\tif (typeof config.params.crossElement == \"undefined\") {\r\n\t\t\t\t\t\tconfig.params.crossElement = false;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconsole.warn(\"DEPRECATION WARNING - the tick formatter has been deprecated, please use the tickCross formatter with the crossElement param set to false\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.formatters[formatter]) {\r\n\t\t\t\t\tconfig.formatter = this.formatters[formatter];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.warn(\"Formatter Error - No such formatter found: \", formatter);\r\n\t\t\t\t\tconfig.formatter = this.formatters.plaintext;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"function\":\r\n\t\t\t\tconfig.formatter = formatter;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tconfig.formatter = this.formatters.plaintext;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn config;\r\n\t};\r\n\r\n\tFormat.prototype.cellRendered = function (cell) {\r\n\t\tif (cell.modules.format && cell.modules.format.renderedCallback && !cell.modules.format.rendered) {\r\n\t\t\tcell.modules.format.renderedCallback();\r\n\t\t\tcell.modules.format.rendered = true;\r\n\t\t}\r\n\t};\r\n\r\n\t//return a formatted value for a cell\r\n\tFormat.prototype.formatValue = function (cell) {\r\n\t\tvar component = cell.getComponent(),\r\n\t\t    params = typeof cell.column.modules.format.params === \"function\" ? cell.column.modules.format.params(component) : cell.column.modules.format.params;\r\n\r\n\t\tfunction onRendered(callback) {\r\n\t\t\tif (!cell.modules.format) {\r\n\t\t\t\tcell.modules.format = {};\r\n\t\t\t}\r\n\r\n\t\t\tcell.modules.format.renderedCallback = callback;\r\n\t\t\tcell.modules.format.rendered = false;\r\n\t\t}\r\n\r\n\t\treturn cell.column.modules.format.formatter.call(this, component, params, onRendered);\r\n\t};\r\n\r\n\tFormat.prototype.formatExportValue = function (cell, type) {\r\n\t\tvar formatter = cell.column.modules.format[type],\r\n\t\t    params;\r\n\r\n\t\tif (formatter) {\r\n\t\t\tvar onRendered = function onRendered(callback) {\r\n\t\t\t\tif (!cell.modules.format) {\r\n\t\t\t\t\tcell.modules.format = {};\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcell.modules.format.renderedCallback = callback;\r\n\t\t\t\tcell.modules.format.rendered = false;\r\n\t\t\t};\r\n\r\n\t\t\tparams = typeof formatter.params === \"function\" ? formatter.params(component) : formatter.params;\r\n\r\n\t\t\treturn formatter.formatter.call(this, cell.getComponent(), params, onRendered);\r\n\t\t} else {\r\n\t\t\treturn this.formatValue(cell);\r\n\t\t}\r\n\t};\r\n\r\n\tFormat.prototype.sanitizeHTML = function (value) {\r\n\t\tif (value) {\r\n\t\t\tvar entityMap = {\r\n\t\t\t\t'&': '&amp;',\r\n\t\t\t\t'<': '&lt;',\r\n\t\t\t\t'>': '&gt;',\r\n\t\t\t\t'\"': '&quot;',\r\n\t\t\t\t\"'\": '&#39;',\r\n\t\t\t\t'/': '&#x2F;',\r\n\t\t\t\t'`': '&#x60;',\r\n\t\t\t\t'=': '&#x3D;'\r\n\t\t\t};\r\n\r\n\t\t\treturn String(value).replace(/[&<>\"'`=\\/]/g, function (s) {\r\n\t\t\t\treturn entityMap[s];\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\treturn value;\r\n\t\t}\r\n\t};\r\n\r\n\tFormat.prototype.emptyToSpace = function (value) {\r\n\t\treturn value === null || typeof value === \"undefined\" || value === \"\" ? \"&nbsp;\" : value;\r\n\t};\r\n\r\n\t//get formatter for cell\r\n\tFormat.prototype.getFormatter = function (formatter) {\r\n\t\tvar formatter;\r\n\r\n\t\tswitch (typeof formatter === 'undefined' ? 'undefined' : _typeof(formatter)) {\r\n\t\t\tcase \"string\":\r\n\t\t\t\tif (this.formatters[formatter]) {\r\n\t\t\t\t\tformatter = this.formatters[formatter];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.warn(\"Formatter Error - No such formatter found: \", formatter);\r\n\t\t\t\t\tformatter = this.formatters.plaintext;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"function\":\r\n\t\t\t\tformatter = formatter;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tformatter = this.formatters.plaintext;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn formatter;\r\n\t};\r\n\r\n\t//default data formatters\r\n\tFormat.prototype.formatters = {\r\n\t\t//plain text value\r\n\t\tplaintext: function plaintext(cell, formatterParams, onRendered) {\r\n\t\t\treturn this.emptyToSpace(this.sanitizeHTML(cell.getValue()));\r\n\t\t},\r\n\r\n\t\t//html text value\r\n\t\thtml: function html(cell, formatterParams, onRendered) {\r\n\t\t\treturn cell.getValue();\r\n\t\t},\r\n\r\n\t\t//multiline text area\r\n\t\ttextarea: function textarea(cell, formatterParams, onRendered) {\r\n\t\t\tcell.getElement().style.whiteSpace = \"pre-wrap\";\r\n\t\t\treturn this.emptyToSpace(this.sanitizeHTML(cell.getValue()));\r\n\t\t},\r\n\r\n\t\t//currency formatting\r\n\t\tmoney: function money(cell, formatterParams, onRendered) {\r\n\t\t\tvar floatVal = parseFloat(cell.getValue()),\r\n\t\t\t    number,\r\n\t\t\t    integer,\r\n\t\t\t    decimal,\r\n\t\t\t    rgx;\r\n\r\n\t\t\tvar decimalSym = formatterParams.decimal || \".\";\r\n\t\t\tvar thousandSym = formatterParams.thousand || \",\";\r\n\t\t\tvar symbol = formatterParams.symbol || \"\";\r\n\t\t\tvar after = !!formatterParams.symbolAfter;\r\n\t\t\tvar precision = typeof formatterParams.precision !== \"undefined\" ? formatterParams.precision : 2;\r\n\r\n\t\t\tif (isNaN(floatVal)) {\r\n\t\t\t\treturn this.emptyToSpace(this.sanitizeHTML(cell.getValue()));\r\n\t\t\t}\r\n\r\n\t\t\tnumber = precision !== false ? floatVal.toFixed(precision) : floatVal;\r\n\t\t\tnumber = String(number).split(\".\");\r\n\r\n\t\t\tinteger = number[0];\r\n\t\t\tdecimal = number.length > 1 ? decimalSym + number[1] : \"\";\r\n\r\n\t\t\trgx = /(\\d+)(\\d{3})/;\r\n\r\n\t\t\twhile (rgx.test(integer)) {\r\n\t\t\t\tinteger = integer.replace(rgx, \"$1\" + thousandSym + \"$2\");\r\n\t\t\t}\r\n\r\n\t\t\treturn after ? integer + decimal + symbol : symbol + integer + decimal;\r\n\t\t},\r\n\r\n\t\t//clickable anchor tag\r\n\t\tlink: function link(cell, formatterParams, onRendered) {\r\n\t\t\tvar value = cell.getValue(),\r\n\t\t\t    urlPrefix = formatterParams.urlPrefix || \"\",\r\n\t\t\t    download = formatterParams.download,\r\n\t\t\t    label = value,\r\n\t\t\t    el = document.createElement(\"a\"),\r\n\t\t\t    data;\r\n\r\n\t\t\tif (formatterParams.labelField) {\r\n\t\t\t\tdata = cell.getData();\r\n\t\t\t\tlabel = data[formatterParams.labelField];\r\n\t\t\t}\r\n\r\n\t\t\tif (formatterParams.label) {\r\n\t\t\t\tswitch (_typeof(formatterParams.label)) {\r\n\t\t\t\t\tcase \"string\":\r\n\t\t\t\t\t\tlabel = formatterParams.label;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"function\":\r\n\t\t\t\t\t\tlabel = formatterParams.label(cell);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (label) {\r\n\t\t\t\tif (formatterParams.urlField) {\r\n\t\t\t\t\tdata = cell.getData();\r\n\t\t\t\t\tvalue = data[formatterParams.urlField];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (formatterParams.url) {\r\n\t\t\t\t\tswitch (_typeof(formatterParams.url)) {\r\n\t\t\t\t\t\tcase \"string\":\r\n\t\t\t\t\t\t\tvalue = formatterParams.url;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase \"function\":\r\n\t\t\t\t\t\t\tvalue = formatterParams.url(cell);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tel.setAttribute(\"href\", urlPrefix + value);\r\n\r\n\t\t\t\tif (formatterParams.target) {\r\n\t\t\t\t\tel.setAttribute(\"target\", formatterParams.target);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (formatterParams.download) {\r\n\r\n\t\t\t\t\tif (typeof download == \"function\") {\r\n\t\t\t\t\t\tdownload = download(cell);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdownload = download === true ? \"\" : download;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tel.setAttribute(\"download\", download);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tel.innerHTML = this.emptyToSpace(this.sanitizeHTML(label));\r\n\r\n\t\t\t\treturn el;\r\n\t\t\t} else {\r\n\t\t\t\treturn \"&nbsp;\";\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t//image element\r\n\t\timage: function image(cell, formatterParams, onRendered) {\r\n\t\t\tvar el = document.createElement(\"img\"),\r\n\t\t\t    src = cell.getValue();\r\n\r\n\t\t\tif (formatterParams.urlPrefix) {\r\n\t\t\t\tsrc = formatterParams.urlPrefix + cell.getValue();\r\n\t\t\t}\r\n\r\n\t\t\tif (formatterParams.urlSuffix) {\r\n\t\t\t\tsrc = src + formatterParams.urlSuffix;\r\n\t\t\t}\r\n\r\n\t\t\tel.setAttribute(\"src\", src);\r\n\r\n\t\t\tswitch (_typeof(formatterParams.height)) {\r\n\t\t\t\tcase \"number\":\r\n\t\t\t\t\tel.style.height = formatterParams.height + \"px\";\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"string\":\r\n\t\t\t\t\tel.style.height = formatterParams.height;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tswitch (_typeof(formatterParams.width)) {\r\n\t\t\t\tcase \"number\":\r\n\t\t\t\t\tel.style.width = formatterParams.width + \"px\";\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"string\":\r\n\t\t\t\t\tel.style.width = formatterParams.width;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tel.addEventListener(\"load\", function () {\r\n\t\t\t\tcell.getRow().normalizeHeight();\r\n\t\t\t});\r\n\r\n\t\t\treturn el;\r\n\t\t},\r\n\r\n\t\t//tick or cross\r\n\t\ttickCross: function tickCross(cell, formatterParams, onRendered) {\r\n\t\t\tvar value = cell.getValue(),\r\n\t\t\t    element = cell.getElement(),\r\n\t\t\t    empty = formatterParams.allowEmpty,\r\n\t\t\t    truthy = formatterParams.allowTruthy,\r\n\t\t\t    tick = typeof formatterParams.tickElement !== \"undefined\" ? formatterParams.tickElement : '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#2DC214\" clip-rule=\"evenodd\" d=\"M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z\" fill-rule=\"evenodd\"/></svg>',\r\n\t\t\t    cross = typeof formatterParams.crossElement !== \"undefined\" ? formatterParams.crossElement : '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\"  viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#CE1515\" d=\"M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z\"/></svg>';\r\n\r\n\t\t\tif (truthy && value || value === true || value === \"true\" || value === \"True\" || value === 1 || value === \"1\") {\r\n\t\t\t\telement.setAttribute(\"aria-checked\", true);\r\n\t\t\t\treturn tick || \"\";\r\n\t\t\t} else {\r\n\t\t\t\tif (empty && (value === \"null\" || value === \"\" || value === null || typeof value === \"undefined\")) {\r\n\t\t\t\t\telement.setAttribute(\"aria-checked\", \"mixed\");\r\n\t\t\t\t\treturn \"\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\telement.setAttribute(\"aria-checked\", false);\r\n\t\t\t\t\treturn cross || \"\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tdatetime: function datetime(cell, formatterParams, onRendered) {\r\n\t\t\tvar inputFormat = formatterParams.inputFormat || \"YYYY-MM-DD hh:mm:ss\";\r\n\t\t\tvar outputFormat = formatterParams.outputFormat || \"DD/MM/YYYY hh:mm:ss\";\r\n\t\t\tvar invalid = typeof formatterParams.invalidPlaceholder !== \"undefined\" ? formatterParams.invalidPlaceholder : \"\";\r\n\t\t\tvar value = cell.getValue();\r\n\r\n\t\t\tvar newDatetime = moment(value, inputFormat);\r\n\r\n\t\t\tif (newDatetime.isValid()) {\r\n\t\t\t\treturn formatterParams.timezone ? newDatetime.tz(formatterParams.timezone).format(outputFormat) : newDatetime.format(outputFormat);\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (invalid === true) {\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t} else if (typeof invalid === \"function\") {\r\n\t\t\t\t\treturn invalid(value);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn invalid;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tdatetimediff: function datetime(cell, formatterParams, onRendered) {\r\n\t\t\tvar inputFormat = formatterParams.inputFormat || \"YYYY-MM-DD hh:mm:ss\";\r\n\t\t\tvar invalid = typeof formatterParams.invalidPlaceholder !== \"undefined\" ? formatterParams.invalidPlaceholder : \"\";\r\n\t\t\tvar suffix = typeof formatterParams.suffix !== \"undefined\" ? formatterParams.suffix : false;\r\n\t\t\tvar unit = typeof formatterParams.unit !== \"undefined\" ? formatterParams.unit : undefined;\r\n\t\t\tvar humanize = typeof formatterParams.humanize !== \"undefined\" ? formatterParams.humanize : false;\r\n\t\t\tvar date = typeof formatterParams.date !== \"undefined\" ? formatterParams.date : moment();\r\n\t\t\tvar value = cell.getValue();\r\n\r\n\t\t\tvar newDatetime = moment(value, inputFormat);\r\n\r\n\t\t\tif (newDatetime.isValid()) {\r\n\t\t\t\tif (humanize) {\r\n\t\t\t\t\treturn moment.duration(newDatetime.diff(date)).humanize(suffix);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn newDatetime.diff(date, unit) + (suffix ? \" \" + suffix : \"\");\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (invalid === true) {\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t} else if (typeof invalid === \"function\") {\r\n\t\t\t\t\treturn invalid(value);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn invalid;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t//select\r\n\t\tlookup: function lookup(cell, formatterParams, onRendered) {\r\n\t\t\tvar value = cell.getValue();\r\n\r\n\t\t\tif (typeof formatterParams[value] === \"undefined\") {\r\n\t\t\t\tconsole.warn('Missing display value for ' + value);\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\r\n\t\t\treturn formatterParams[value];\r\n\t\t},\r\n\r\n\t\t//star rating\r\n\t\tstar: function star(cell, formatterParams, onRendered) {\r\n\t\t\tvar value = cell.getValue(),\r\n\t\t\t    element = cell.getElement(),\r\n\t\t\t    maxStars = formatterParams && formatterParams.stars ? formatterParams.stars : 5,\r\n\t\t\t    stars = document.createElement(\"span\"),\r\n\t\t\t    star = document.createElementNS('http://www.w3.org/2000/svg', \"svg\"),\r\n\t\t\t    starActive = '<polygon fill=\"#FFEA00\" stroke=\"#C1AB60\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>',\r\n\t\t\t    starInactive = '<polygon fill=\"#D2D2D2\" stroke=\"#686868\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';\r\n\r\n\t\t\t//style stars holder\r\n\t\t\tstars.style.verticalAlign = \"middle\";\r\n\r\n\t\t\t//style star\r\n\t\t\tstar.setAttribute(\"width\", \"14\");\r\n\t\t\tstar.setAttribute(\"height\", \"14\");\r\n\t\t\tstar.setAttribute(\"viewBox\", \"0 0 512 512\");\r\n\t\t\tstar.setAttribute(\"xml:space\", \"preserve\");\r\n\t\t\tstar.style.padding = \"0 1px\";\r\n\r\n\t\t\tvalue = value && !isNaN(value) ? parseInt(value) : 0;\r\n\r\n\t\t\tvalue = Math.max(0, Math.min(value, maxStars));\r\n\r\n\t\t\tfor (var i = 1; i <= maxStars; i++) {\r\n\t\t\t\tvar nextStar = star.cloneNode(true);\r\n\t\t\t\tnextStar.innerHTML = i <= value ? starActive : starInactive;\r\n\r\n\t\t\t\tstars.appendChild(nextStar);\r\n\t\t\t}\r\n\r\n\t\t\telement.style.whiteSpace = \"nowrap\";\r\n\t\t\telement.style.overflow = \"hidden\";\r\n\t\t\telement.style.textOverflow = \"ellipsis\";\r\n\r\n\t\t\telement.setAttribute(\"aria-label\", value);\r\n\r\n\t\t\treturn stars;\r\n\t\t},\r\n\r\n\t\ttraffic: function traffic(cell, formatterParams, onRendered) {\r\n\t\t\tvar value = this.sanitizeHTML(cell.getValue()) || 0,\r\n\t\t\t    el = document.createElement(\"span\"),\r\n\t\t\t    max = formatterParams && formatterParams.max ? formatterParams.max : 100,\r\n\t\t\t    min = formatterParams && formatterParams.min ? formatterParams.min : 0,\r\n\t\t\t    colors = formatterParams && typeof formatterParams.color !== \"undefined\" ? formatterParams.color : [\"red\", \"orange\", \"green\"],\r\n\t\t\t    color = \"#666666\",\r\n\t\t\t    percent,\r\n\t\t\t    percentValue;\r\n\r\n\t\t\tif (isNaN(value) || typeof cell.getValue() === \"undefined\") {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tel.classList.add(\"tabulator-traffic-light\");\r\n\r\n\t\t\t//make sure value is in range\r\n\t\t\tpercentValue = parseFloat(value) <= max ? parseFloat(value) : max;\r\n\t\t\tpercentValue = parseFloat(percentValue) >= min ? parseFloat(percentValue) : min;\r\n\r\n\t\t\t//workout percentage\r\n\t\t\tpercent = (max - min) / 100;\r\n\t\t\tpercentValue = Math.round((percentValue - min) / percent);\r\n\r\n\t\t\t//set color\r\n\t\t\tswitch (typeof colors === 'undefined' ? 'undefined' : _typeof(colors)) {\r\n\t\t\t\tcase \"string\":\r\n\t\t\t\t\tcolor = colors;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"function\":\r\n\t\t\t\t\tcolor = colors(value);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"object\":\r\n\t\t\t\t\tif (Array.isArray(colors)) {\r\n\t\t\t\t\t\tvar unit = 100 / colors.length;\r\n\t\t\t\t\t\tvar index = Math.floor(percentValue / unit);\r\n\r\n\t\t\t\t\t\tindex = Math.min(index, colors.length - 1);\r\n\t\t\t\t\t\tindex = Math.max(index, 0);\r\n\t\t\t\t\t\tcolor = colors[index];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tel.style.backgroundColor = color;\r\n\r\n\t\t\treturn el;\r\n\t\t},\r\n\r\n\t\t//progress bar\r\n\t\tprogress: function progress(cell, formatterParams, onRendered) {\r\n\t\t\t//progress bar\r\n\t\t\tvar value = this.sanitizeHTML(cell.getValue()) || 0,\r\n\t\t\t    element = cell.getElement(),\r\n\t\t\t    max = formatterParams && formatterParams.max ? formatterParams.max : 100,\r\n\t\t\t    min = formatterParams && formatterParams.min ? formatterParams.min : 0,\r\n\t\t\t    legendAlign = formatterParams && formatterParams.legendAlign ? formatterParams.legendAlign : \"center\",\r\n\t\t\t    percent,\r\n\t\t\t    percentValue,\r\n\t\t\t    color,\r\n\t\t\t    legend,\r\n\t\t\t    legendColor,\r\n\t\t\t    top,\r\n\t\t\t    left,\r\n\t\t\t    right,\r\n\t\t\t    bottom;\r\n\r\n\t\t\t//make sure value is in range\r\n\t\t\tpercentValue = parseFloat(value) <= max ? parseFloat(value) : max;\r\n\t\t\tpercentValue = parseFloat(percentValue) >= min ? parseFloat(percentValue) : min;\r\n\r\n\t\t\t//workout percentage\r\n\t\t\tpercent = (max - min) / 100;\r\n\t\t\tpercentValue = Math.round((percentValue - min) / percent);\r\n\r\n\t\t\t//set bar color\r\n\t\t\tswitch (_typeof(formatterParams.color)) {\r\n\t\t\t\tcase \"string\":\r\n\t\t\t\t\tcolor = formatterParams.color;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"function\":\r\n\t\t\t\t\tcolor = formatterParams.color(value);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"object\":\r\n\t\t\t\t\tif (Array.isArray(formatterParams.color)) {\r\n\t\t\t\t\t\tvar unit = 100 / formatterParams.color.length;\r\n\t\t\t\t\t\tvar index = Math.floor(percentValue / unit);\r\n\r\n\t\t\t\t\t\tindex = Math.min(index, formatterParams.color.length - 1);\r\n\t\t\t\t\t\tindex = Math.max(index, 0);\r\n\t\t\t\t\t\tcolor = formatterParams.color[index];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tcolor = \"#2DC214\";\r\n\t\t\t}\r\n\r\n\t\t\t//generate legend\r\n\t\t\tswitch (_typeof(formatterParams.legend)) {\r\n\t\t\t\tcase \"string\":\r\n\t\t\t\t\tlegend = formatterParams.legend;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"function\":\r\n\t\t\t\t\tlegend = formatterParams.legend(value);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"boolean\":\r\n\t\t\t\t\tlegend = value;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tlegend = false;\r\n\t\t\t}\r\n\r\n\t\t\t//set legend color\r\n\t\t\tswitch (_typeof(formatterParams.legendColor)) {\r\n\t\t\t\tcase \"string\":\r\n\t\t\t\t\tlegendColor = formatterParams.legendColor;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"function\":\r\n\t\t\t\t\tlegendColor = formatterParams.legendColor(value);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"object\":\r\n\t\t\t\t\tif (Array.isArray(formatterParams.legendColor)) {\r\n\t\t\t\t\t\tvar unit = 100 / formatterParams.legendColor.length;\r\n\t\t\t\t\t\tvar index = Math.floor(percentValue / unit);\r\n\r\n\t\t\t\t\t\tindex = Math.min(index, formatterParams.legendColor.length - 1);\r\n\t\t\t\t\t\tindex = Math.max(index, 0);\r\n\t\t\t\t\t\tlegendColor = formatterParams.legendColor[index];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tlegendColor = \"#000\";\r\n\t\t\t}\r\n\r\n\t\t\telement.style.minWidth = \"30px\";\r\n\t\t\telement.style.position = \"relative\";\r\n\r\n\t\t\telement.setAttribute(\"aria-label\", percentValue);\r\n\r\n\t\t\tvar barEl = document.createElement(\"div\");\r\n\t\t\tbarEl.style.display = \"inline-block\";\r\n\t\t\tbarEl.style.position = \"relative\";\r\n\t\t\tbarEl.style.width = percentValue + \"%\";\r\n\t\t\tbarEl.style.backgroundColor = color;\r\n\t\t\tbarEl.style.height = \"100%\";\r\n\r\n\t\t\tbarEl.setAttribute('data-max', max);\r\n\t\t\tbarEl.setAttribute('data-min', min);\r\n\r\n\t\t\tif (legend) {\r\n\t\t\t\tvar legendEl = document.createElement(\"div\");\r\n\t\t\t\tlegendEl.style.position = \"absolute\";\r\n\t\t\t\tlegendEl.style.top = \"4px\";\r\n\t\t\t\tlegendEl.style.left = 0;\r\n\t\t\t\tlegendEl.style.textAlign = legendAlign;\r\n\t\t\t\tlegendEl.style.width = \"100%\";\r\n\t\t\t\tlegendEl.style.color = legendColor;\r\n\t\t\t\tlegendEl.innerHTML = legend;\r\n\t\t\t}\r\n\r\n\t\t\tonRendered(function () {\r\n\r\n\t\t\t\t//handle custom element needed if formatter is to be included in printed/downloaded output\r\n\t\t\t\tif (!(cell instanceof CellComponent)) {\r\n\t\t\t\t\tvar holderEl = document.createElement(\"div\");\r\n\t\t\t\t\tholderEl.style.position = \"absolute\";\r\n\t\t\t\t\tholderEl.style.top = \"4px\";\r\n\t\t\t\t\tholderEl.style.bottom = \"4px\";\r\n\t\t\t\t\tholderEl.style.left = \"4px\";\r\n\t\t\t\t\tholderEl.style.right = \"4px\";\r\n\r\n\t\t\t\t\telement.appendChild(holderEl);\r\n\r\n\t\t\t\t\telement = holderEl;\r\n\t\t\t\t}\r\n\r\n\t\t\t\telement.appendChild(barEl);\r\n\r\n\t\t\t\tif (legend) {\r\n\t\t\t\t\telement.appendChild(legendEl);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn \"\";\r\n\t\t},\r\n\r\n\t\t//background color\r\n\t\tcolor: function color(cell, formatterParams, onRendered) {\r\n\t\t\tcell.getElement().style.backgroundColor = this.sanitizeHTML(cell.getValue());\r\n\t\t\treturn \"\";\r\n\t\t},\r\n\r\n\t\t//tick icon\r\n\t\tbuttonTick: function buttonTick(cell, formatterParams, onRendered) {\r\n\t\t\treturn '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#2DC214\" clip-rule=\"evenodd\" d=\"M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z\" fill-rule=\"evenodd\"/></svg>';\r\n\t\t},\r\n\r\n\t\t//cross icon\r\n\t\tbuttonCross: function buttonCross(cell, formatterParams, onRendered) {\r\n\t\t\treturn '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#CE1515\" d=\"M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z\"/></svg>';\r\n\t\t},\r\n\r\n\t\t//current row number\r\n\t\trownum: function rownum(cell, formatterParams, onRendered) {\r\n\t\t\treturn this.table.rowManager.activeRows.indexOf(cell.getRow()._getSelf()) + 1;\r\n\t\t},\r\n\r\n\t\t//row handle\r\n\t\thandle: function handle(cell, formatterParams, onRendered) {\r\n\t\t\tcell.getElement().classList.add(\"tabulator-row-handle\");\r\n\t\t\treturn \"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>\";\r\n\t\t},\r\n\r\n\t\tresponsiveCollapse: function responsiveCollapse(cell, formatterParams, onRendered) {\r\n\t\t\tvar self = this,\r\n\t\t\t    open = false,\r\n\t\t\t    el = document.createElement(\"div\"),\r\n\t\t\t    config = cell.getRow()._row.modules.responsiveLayout;\r\n\r\n\t\t\tel.classList.add(\"tabulator-responsive-collapse-toggle\");\r\n\t\t\tel.innerHTML = \"<span class='tabulator-responsive-collapse-toggle-open'>+</span><span class='tabulator-responsive-collapse-toggle-close'>-</span>\";\r\n\r\n\t\t\tcell.getElement().classList.add(\"tabulator-row-handle\");\r\n\r\n\t\t\tfunction toggleList(isOpen) {\r\n\t\t\t\tvar collapseEl = config.element;\r\n\r\n\t\t\t\tconfig.open = isOpen;\r\n\r\n\t\t\t\tif (collapseEl) {\r\n\r\n\t\t\t\t\tif (config.open) {\r\n\t\t\t\t\t\tel.classList.add(\"open\");\r\n\t\t\t\t\t\tcollapseEl.style.display = '';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tel.classList.remove(\"open\");\r\n\t\t\t\t\t\tcollapseEl.style.display = 'none';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tel.addEventListener(\"click\", function (e) {\r\n\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\ttoggleList(!config.open);\r\n\t\t\t});\r\n\r\n\t\t\ttoggleList(config.open);\r\n\r\n\t\t\treturn el;\r\n\t\t},\r\n\r\n\t\trowSelection: function rowSelection(cell, formatterParams, onRendered) {\r\n\t\t\tvar _this64 = this;\r\n\r\n\t\t\tvar checkbox = document.createElement(\"input\");\r\n\r\n\t\t\tcheckbox.type = 'checkbox';\r\n\r\n\t\t\tif (this.table.modExists(\"selectRow\", true)) {\r\n\r\n\t\t\t\tcheckbox.addEventListener(\"click\", function (e) {\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (typeof cell.getRow == 'function') {\r\n\t\t\t\t\tvar row = cell.getRow();\r\n\r\n\t\t\t\t\tif (row instanceof RowComponent) {\r\n\r\n\t\t\t\t\t\tcheckbox.addEventListener(\"change\", function (e) {\r\n\t\t\t\t\t\t\trow.toggleSelect();\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tcheckbox.checked = row.isSelected && row.isSelected();\r\n\t\t\t\t\t\tthis.table.modules.selectRow.registerRowSelectCheckbox(row, checkbox);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcheckbox = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcheckbox.addEventListener(\"change\", function (e) {\r\n\t\t\t\t\t\tif (_this64.table.modules.selectRow.selectedRows.length) {\r\n\t\t\t\t\t\t\t_this64.table.deselectRow();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t_this64.table.selectRow(formatterParams.rowRange);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tthis.table.modules.selectRow.registerHeaderSelectCheckbox(checkbox);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn checkbox;\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"format\", Format);\r\n\r\n\tvar FrozenColumns = function FrozenColumns(table) {\r\n\t\tthis.table = table; //hold Tabulator object\r\n\t\tthis.leftColumns = [];\r\n\t\tthis.rightColumns = [];\r\n\t\tthis.leftMargin = 0;\r\n\t\tthis.rightMargin = 0;\r\n\t\tthis.rightPadding = 0;\r\n\t\tthis.initializationMode = \"left\";\r\n\t\tthis.active = false;\r\n\t\tthis.scrollEndTimer = false;\r\n\t};\r\n\r\n\t//reset initial state\r\n\tFrozenColumns.prototype.reset = function () {\r\n\t\tthis.initializationMode = \"left\";\r\n\t\tthis.leftColumns = [];\r\n\t\tthis.rightColumns = [];\r\n\t\tthis.leftMargin = 0;\r\n\t\tthis.rightMargin = 0;\r\n\t\tthis.rightMargin = 0;\r\n\t\tthis.active = false;\r\n\r\n\t\tthis.table.columnManager.headersElement.style.marginLeft = 0;\r\n\t\tthis.table.columnManager.element.style.paddingRight = 0;\r\n\t};\r\n\r\n\t//initialize specific column\r\n\tFrozenColumns.prototype.initializeColumn = function (column) {\r\n\t\tvar config = { margin: 0, edge: false };\r\n\r\n\t\tif (!column.isGroup) {\r\n\r\n\t\t\tif (this.frozenCheck(column)) {\r\n\r\n\t\t\t\tconfig.position = this.initializationMode;\r\n\r\n\t\t\t\tif (this.initializationMode == \"left\") {\r\n\t\t\t\t\tthis.leftColumns.push(column);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.rightColumns.unshift(column);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.active = true;\r\n\r\n\t\t\t\tcolumn.modules.frozen = config;\r\n\t\t\t} else {\r\n\t\t\t\tthis.initializationMode = \"right\";\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tFrozenColumns.prototype.frozenCheck = function (column) {\r\n\t\tvar frozen = false;\r\n\r\n\t\tif (column.parent.isGroup && column.definition.frozen) {\r\n\t\t\tconsole.warn(\"Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups\");\r\n\t\t}\r\n\r\n\t\tif (column.parent.isGroup) {\r\n\t\t\treturn this.frozenCheck(column.parent);\r\n\t\t} else {\r\n\t\t\treturn column.definition.frozen;\r\n\t\t}\r\n\r\n\t\treturn frozen;\r\n\t};\r\n\r\n\t//quick layout to smooth horizontal scrolling\r\n\tFrozenColumns.prototype.scrollHorizontal = function () {\r\n\t\tvar _this65 = this;\r\n\r\n\t\tvar rows;\r\n\r\n\t\tif (this.active) {\r\n\t\t\tclearTimeout(this.scrollEndTimer);\r\n\r\n\t\t\t//layout all rows after scroll is complete\r\n\t\t\tthis.scrollEndTimer = setTimeout(function () {\r\n\t\t\t\t_this65.layout();\r\n\t\t\t}, 100);\r\n\r\n\t\t\trows = this.table.rowManager.getVisibleRows();\r\n\r\n\t\t\tthis.calcMargins();\r\n\r\n\t\t\tthis.layoutColumnPosition();\r\n\r\n\t\t\tthis.layoutCalcRows();\r\n\r\n\t\t\trows.forEach(function (row) {\r\n\t\t\t\tif (row.type === \"row\") {\r\n\t\t\t\t\t_this65.layoutRow(row);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.table.rowManager.tableElement.style.marginRight = this.rightMargin;\r\n\t\t}\r\n\t};\r\n\r\n\t//calculate margins for rows\r\n\tFrozenColumns.prototype.calcMargins = function () {\r\n\t\tthis.leftMargin = this._calcSpace(this.leftColumns, this.leftColumns.length) + \"px\";\r\n\t\tthis.table.columnManager.headersElement.style.marginLeft = this.leftMargin;\r\n\r\n\t\tthis.rightMargin = this._calcSpace(this.rightColumns, this.rightColumns.length) + \"px\";\r\n\t\tthis.table.columnManager.element.style.paddingRight = this.rightMargin;\r\n\r\n\t\t//calculate right frozen columns\r\n\t\tthis.rightPadding = this.table.rowManager.element.clientWidth + this.table.columnManager.scrollLeft;\r\n\t};\r\n\r\n\t//layout calculation rows\r\n\tFrozenColumns.prototype.layoutCalcRows = function () {\r\n\t\tif (this.table.modExists(\"columnCalcs\")) {\r\n\t\t\tif (this.table.modules.columnCalcs.topInitialized && this.table.modules.columnCalcs.topRow) {\r\n\t\t\t\tthis.layoutRow(this.table.modules.columnCalcs.topRow);\r\n\t\t\t}\r\n\t\t\tif (this.table.modules.columnCalcs.botInitialized && this.table.modules.columnCalcs.botRow) {\r\n\t\t\t\tthis.layoutRow(this.table.modules.columnCalcs.botRow);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//calculate column positions and layout headers\r\n\tFrozenColumns.prototype.layoutColumnPosition = function (allCells) {\r\n\t\tvar _this66 = this;\r\n\r\n\t\tvar leftParents = [];\r\n\r\n\t\tthis.leftColumns.forEach(function (column, i) {\r\n\t\t\tcolumn.modules.frozen.margin = _this66._calcSpace(_this66.leftColumns, i) + _this66.table.columnManager.scrollLeft + \"px\";\r\n\r\n\t\t\tif (i == _this66.leftColumns.length - 1) {\r\n\t\t\t\tcolumn.modules.frozen.edge = true;\r\n\t\t\t} else {\r\n\t\t\t\tcolumn.modules.frozen.edge = false;\r\n\t\t\t}\r\n\r\n\t\t\tif (column.parent.isGroup) {\r\n\t\t\t\tvar parentEl = _this66.getColGroupParentElement(column);\r\n\t\t\t\tif (!leftParents.includes(parentEl)) {\r\n\t\t\t\t\t_this66.layoutElement(parentEl, column);\r\n\t\t\t\t\tleftParents.push(parentEl);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (column.modules.frozen.edge) {\r\n\t\t\t\t\tparentEl.classList.add(\"tabulator-frozen-\" + column.modules.frozen.position);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t_this66.layoutElement(column.getElement(), column);\r\n\t\t\t}\r\n\r\n\t\t\tif (allCells) {\r\n\t\t\t\tcolumn.cells.forEach(function (cell) {\r\n\t\t\t\t\t_this66.layoutElement(cell.getElement(true), column);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.rightColumns.forEach(function (column, i) {\r\n\t\t\tcolumn.modules.frozen.margin = _this66.rightPadding - _this66._calcSpace(_this66.rightColumns, i + 1) + \"px\";\r\n\r\n\t\t\tif (i == _this66.rightColumns.length - 1) {\r\n\t\t\t\tcolumn.modules.frozen.edge = true;\r\n\t\t\t} else {\r\n\t\t\t\tcolumn.modules.frozen.edge = false;\r\n\t\t\t}\r\n\r\n\t\t\tif (column.parent.isGroup) {\r\n\t\t\t\t_this66.layoutElement(_this66.getColGroupParentElement(column), column);\r\n\t\t\t} else {\r\n\t\t\t\t_this66.layoutElement(column.getElement(), column);\r\n\t\t\t}\r\n\r\n\t\t\tif (allCells) {\r\n\t\t\t\tcolumn.cells.forEach(function (cell) {\r\n\t\t\t\t\t_this66.layoutElement(cell.getElement(true), column);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tFrozenColumns.prototype.getColGroupParentElement = function (column) {\r\n\t\treturn column.parent.isGroup ? this.getColGroupParentElement(column.parent) : column.getElement();\r\n\t};\r\n\r\n\t//layout columns appropropriatly\r\n\tFrozenColumns.prototype.layout = function () {\r\n\t\tvar self = this,\r\n\t\t    rightMargin = 0;\r\n\r\n\t\tif (self.active) {\r\n\r\n\t\t\t//calculate row padding\r\n\t\t\tthis.calcMargins();\r\n\r\n\t\t\t// self.table.rowManager.activeRows.forEach(function(row){\r\n\t\t\t// \tself.layoutRow(row);\r\n\t\t\t// });\r\n\r\n\t\t\t// if(self.table.options.dataTree){\r\n\t\t\tself.table.rowManager.getDisplayRows().forEach(function (row) {\r\n\t\t\t\tif (row.type === \"row\") {\r\n\t\t\t\t\tself.layoutRow(row);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// }\r\n\r\n\t\t\tthis.layoutCalcRows();\r\n\r\n\t\t\t//calculate left columns\r\n\t\t\tthis.layoutColumnPosition(true);\r\n\r\n\t\t\t// if(tableHolder.scrollHeight > tableHolder.clientHeight){\r\n\t\t\t// \trightMargin -= tableHolder.offsetWidth - tableHolder.clientWidth;\r\n\t\t\t// }\r\n\r\n\t\t\tthis.table.rowManager.tableElement.style.marginRight = this.rightMargin;\r\n\t\t}\r\n\t};\r\n\r\n\tFrozenColumns.prototype.layoutRow = function (row) {\r\n\t\tvar _this67 = this;\r\n\r\n\t\tvar rowEl = row.getElement();\r\n\r\n\t\trowEl.style.paddingLeft = this.leftMargin;\r\n\t\t// rowEl.style.paddingRight = this.rightMargin + \"px\";\r\n\r\n\t\tthis.leftColumns.forEach(function (column) {\r\n\t\t\tvar cell = row.getCell(column);\r\n\r\n\t\t\tif (cell) {\r\n\t\t\t\t_this67.layoutElement(cell.getElement(true), column);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.rightColumns.forEach(function (column) {\r\n\t\t\tvar cell = row.getCell(column);\r\n\r\n\t\t\tif (cell) {\r\n\t\t\t\t_this67.layoutElement(cell.getElement(true), column);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tFrozenColumns.prototype.layoutElement = function (element, column) {\r\n\r\n\t\tif (column.modules.frozen) {\r\n\t\t\telement.style.position = \"absolute\";\r\n\t\t\telement.style.left = column.modules.frozen.margin;\r\n\r\n\t\t\telement.classList.add(\"tabulator-frozen\");\r\n\r\n\t\t\tif (column.modules.frozen.edge) {\r\n\t\t\t\telement.classList.add(\"tabulator-frozen-\" + column.modules.frozen.position);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tFrozenColumns.prototype._calcSpace = function (columns, index) {\r\n\t\tvar width = 0;\r\n\r\n\t\tfor (var _i12 = 0; _i12 < index; _i12++) {\r\n\t\t\tif (columns[_i12].visible) {\r\n\t\t\t\twidth += columns[_i12].getWidth();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn width;\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"frozenColumns\", FrozenColumns);\r\n\tvar FrozenRows = function FrozenRows(table) {\r\n\t\tthis.table = table; //hold Tabulator object\r\n\t\tthis.topElement = document.createElement(\"div\");\r\n\t\tthis.rows = [];\r\n\t\tthis.displayIndex = 0; //index in display pipeline\r\n\t};\r\n\r\n\tFrozenRows.prototype.initialize = function () {\r\n\t\tthis.rows = [];\r\n\r\n\t\tthis.topElement.classList.add(\"tabulator-frozen-rows-holder\");\r\n\r\n\t\t// this.table.columnManager.element.append(this.topElement);\r\n\t\tthis.table.columnManager.getElement().insertBefore(this.topElement, this.table.columnManager.headersElement.nextSibling);\r\n\t};\r\n\r\n\tFrozenRows.prototype.setDisplayIndex = function (index) {\r\n\t\tthis.displayIndex = index;\r\n\t};\r\n\r\n\tFrozenRows.prototype.getDisplayIndex = function () {\r\n\t\treturn this.displayIndex;\r\n\t};\r\n\r\n\tFrozenRows.prototype.isFrozen = function () {\r\n\t\treturn !!this.rows.length;\r\n\t};\r\n\r\n\t//filter frozen rows out of display data\r\n\tFrozenRows.prototype.getRows = function (rows) {\r\n\t\tvar self = this,\r\n\t\t    frozen = [],\r\n\t\t    output = rows.slice(0);\r\n\r\n\t\tthis.rows.forEach(function (row) {\r\n\t\t\tvar index = output.indexOf(row);\r\n\r\n\t\t\tif (index > -1) {\r\n\t\t\t\toutput.splice(index, 1);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\tFrozenRows.prototype.freezeRow = function (row) {\r\n\t\tif (!row.modules.frozen) {\r\n\t\t\trow.modules.frozen = true;\r\n\t\t\tthis.topElement.appendChild(row.getElement());\r\n\t\t\trow.initialize();\r\n\t\t\trow.normalizeHeight();\r\n\t\t\tthis.table.rowManager.adjustTableSize();\r\n\r\n\t\t\tthis.rows.push(row);\r\n\r\n\t\t\tthis.table.rowManager.refreshActiveData(\"display\");\r\n\r\n\t\t\tthis.styleRows();\r\n\t\t} else {\r\n\t\t\tconsole.warn(\"Freeze Error - Row is already frozen\");\r\n\t\t}\r\n\t};\r\n\r\n\tFrozenRows.prototype.unfreezeRow = function (row) {\r\n\t\tvar index = this.rows.indexOf(row);\r\n\r\n\t\tif (row.modules.frozen) {\r\n\r\n\t\t\trow.modules.frozen = false;\r\n\r\n\t\t\tthis.detachRow(row);\r\n\r\n\t\t\tthis.table.rowManager.adjustTableSize();\r\n\r\n\t\t\tthis.table.rowManager.refreshActiveData(\"display\");\r\n\r\n\t\t\tif (this.rows.length) {\r\n\t\t\t\tthis.styleRows();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconsole.warn(\"Freeze Error - Row is already unfrozen\");\r\n\t\t}\r\n\t};\r\n\r\n\tFrozenRows.prototype.detachRow = function (row) {\r\n\t\tvar index = this.rows.indexOf(row);\r\n\r\n\t\tif (index > -1) {\r\n\t\t\tvar rowEl = row.getElement();\r\n\t\t\trowEl.parentNode.removeChild(rowEl);\r\n\r\n\t\t\tthis.rows.splice(index, 1);\r\n\t\t}\r\n\t};\r\n\r\n\tFrozenRows.prototype.styleRows = function (row) {\r\n\t\tvar self = this;\r\n\r\n\t\tthis.rows.forEach(function (row, i) {\r\n\t\t\tself.table.rowManager.styleRow(row, i);\r\n\t\t});\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"frozenRows\", FrozenRows);\r\n\r\n\t//public group object\r\n\tvar GroupComponent = function GroupComponent(group) {\r\n\t\tthis._group = group;\r\n\t\tthis.type = \"GroupComponent\";\r\n\t};\r\n\r\n\tGroupComponent.prototype.getKey = function () {\r\n\t\treturn this._group.key;\r\n\t};\r\n\r\n\tGroupComponent.prototype.getField = function () {\r\n\t\treturn this._group.field;\r\n\t};\r\n\r\n\tGroupComponent.prototype.getElement = function () {\r\n\t\treturn this._group.element;\r\n\t};\r\n\r\n\tGroupComponent.prototype.getRows = function () {\r\n\t\treturn this._group.getRows(true);\r\n\t};\r\n\r\n\tGroupComponent.prototype.getSubGroups = function () {\r\n\t\treturn this._group.getSubGroups(true);\r\n\t};\r\n\r\n\tGroupComponent.prototype.getParentGroup = function () {\r\n\t\treturn this._group.parent ? this._group.parent.getComponent() : false;\r\n\t};\r\n\r\n\tGroupComponent.prototype.getVisibility = function () {\r\n\t\tconsole.warn(\"getVisibility function is deprecated, you should now use the isVisible function\");\r\n\t\treturn this._group.visible;\r\n\t};\r\n\r\n\tGroupComponent.prototype.isVisible = function () {\r\n\t\treturn this._group.visible;\r\n\t};\r\n\r\n\tGroupComponent.prototype.show = function () {\r\n\t\tthis._group.show();\r\n\t};\r\n\r\n\tGroupComponent.prototype.hide = function () {\r\n\t\tthis._group.hide();\r\n\t};\r\n\r\n\tGroupComponent.prototype.toggle = function () {\r\n\t\tthis._group.toggleVisibility();\r\n\t};\r\n\r\n\tGroupComponent.prototype._getSelf = function () {\r\n\t\treturn this._group;\r\n\t};\r\n\r\n\tGroupComponent.prototype.getTable = function () {\r\n\t\treturn this._group.groupManager.table;\r\n\t};\r\n\r\n\t//////////////////////////////////////////////////\r\n\t//////////////// Group Functions /////////////////\r\n\t//////////////////////////////////////////////////\r\n\r\n\tvar Group = function Group(groupManager, parent, level, key, field, generator, oldGroup) {\r\n\r\n\t\tthis.groupManager = groupManager;\r\n\t\tthis.parent = parent;\r\n\t\tthis.key = key;\r\n\t\tthis.level = level;\r\n\t\tthis.field = field;\r\n\t\tthis.hasSubGroups = level < groupManager.groupIDLookups.length - 1;\r\n\t\tthis.addRow = this.hasSubGroups ? this._addRowToGroup : this._addRow;\r\n\t\tthis.type = \"group\"; //type of element\r\n\t\tthis.old = oldGroup;\r\n\t\tthis.rows = [];\r\n\t\tthis.groups = [];\r\n\t\tthis.groupList = [];\r\n\t\tthis.generator = generator;\r\n\t\tthis.elementContents = false;\r\n\t\tthis.height = 0;\r\n\t\tthis.outerHeight = 0;\r\n\t\tthis.initialized = false;\r\n\t\tthis.calcs = {};\r\n\t\tthis.initialized = false;\r\n\t\tthis.modules = {};\r\n\t\tthis.arrowElement = false;\r\n\r\n\t\tthis.visible = oldGroup ? oldGroup.visible : typeof groupManager.startOpen[level] !== \"undefined\" ? groupManager.startOpen[level] : groupManager.startOpen[0];\r\n\r\n\t\tthis.component = null;\r\n\r\n\t\tthis.createElements();\r\n\t\tthis.addBindings();\r\n\r\n\t\tthis.createValueGroups();\r\n\t};\r\n\r\n\tGroup.prototype.wipe = function () {\r\n\t\tif (this.groupList.length) {\r\n\t\t\tthis.groupList.forEach(function (group) {\r\n\t\t\t\tgroup.wipe();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.element = false;\r\n\t\t\tthis.arrowElement = false;\r\n\t\t\tthis.elementContents = false;\r\n\t\t}\r\n\t};\r\n\r\n\tGroup.prototype.createElements = function () {\r\n\t\tvar arrow = document.createElement(\"div\");\r\n\t\tarrow.classList.add(\"tabulator-arrow\");\r\n\r\n\t\tthis.element = document.createElement(\"div\");\r\n\t\tthis.element.classList.add(\"tabulator-row\");\r\n\t\tthis.element.classList.add(\"tabulator-group\");\r\n\t\tthis.element.classList.add(\"tabulator-group-level-\" + this.level);\r\n\t\tthis.element.setAttribute(\"role\", \"rowgroup\");\r\n\r\n\t\tthis.arrowElement = document.createElement(\"div\");\r\n\t\tthis.arrowElement.classList.add(\"tabulator-group-toggle\");\r\n\t\tthis.arrowElement.appendChild(arrow);\r\n\r\n\t\t//setup movable rows\r\n\t\tif (this.groupManager.table.options.movableRows !== false && this.groupManager.table.modExists(\"moveRow\")) {\r\n\t\t\tthis.groupManager.table.modules.moveRow.initializeGroupHeader(this);\r\n\t\t}\r\n\t};\r\n\r\n\tGroup.prototype.createValueGroups = function () {\r\n\t\tvar _this68 = this;\r\n\r\n\t\tvar level = this.level + 1;\r\n\t\tif (this.groupManager.allowedValues && this.groupManager.allowedValues[level]) {\r\n\t\t\tthis.groupManager.allowedValues[level].forEach(function (value) {\r\n\t\t\t\t_this68._createGroup(value, level);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tGroup.prototype.addBindings = function () {\r\n\t\tvar self = this,\r\n\t\t    dblTap,\r\n\t\t    tapHold,\r\n\t\t    tap,\r\n\t\t    toggleElement;\r\n\r\n\t\t//handle group click events\r\n\t\tif (self.groupManager.table.options.groupClick) {\r\n\t\t\tself.element.addEventListener(\"click\", function (e) {\r\n\t\t\t\tself.groupManager.table.options.groupClick.call(self.groupManager.table, e, self.getComponent());\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (self.groupManager.table.options.groupDblClick) {\r\n\t\t\tself.element.addEventListener(\"dblclick\", function (e) {\r\n\t\t\t\tself.groupManager.table.options.groupDblClick.call(self.groupManager.table, e, self.getComponent());\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (self.groupManager.table.options.groupContext) {\r\n\t\t\tself.element.addEventListener(\"contextmenu\", function (e) {\r\n\t\t\t\tself.groupManager.table.options.groupContext.call(self.groupManager.table, e, self.getComponent());\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif ((self.groupManager.table.options.groupContextMenu || self.groupManager.table.options.groupClickMenu) && self.groupManager.table.modExists(\"menu\")) {\r\n\t\t\tself.groupManager.table.modules.menu.initializeGroup.call(self.groupManager.table.modules.menu, self);\r\n\t\t}\r\n\r\n\t\tif (self.groupManager.table.options.groupTap) {\r\n\r\n\t\t\ttap = false;\r\n\r\n\t\t\tself.element.addEventListener(\"touchstart\", function (e) {\r\n\t\t\t\ttap = true;\r\n\t\t\t}, { passive: true });\r\n\r\n\t\t\tself.element.addEventListener(\"touchend\", function (e) {\r\n\t\t\t\tif (tap) {\r\n\t\t\t\t\tself.groupManager.table.options.groupTap(e, self.getComponent());\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttap = false;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (self.groupManager.table.options.groupDblTap) {\r\n\r\n\t\t\tdblTap = null;\r\n\r\n\t\t\tself.element.addEventListener(\"touchend\", function (e) {\r\n\r\n\t\t\t\tif (dblTap) {\r\n\t\t\t\t\tclearTimeout(dblTap);\r\n\t\t\t\t\tdblTap = null;\r\n\r\n\t\t\t\t\tself.groupManager.table.options.groupDblTap(e, self.getComponent());\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tdblTap = setTimeout(function () {\r\n\t\t\t\t\t\tclearTimeout(dblTap);\r\n\t\t\t\t\t\tdblTap = null;\r\n\t\t\t\t\t}, 300);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (self.groupManager.table.options.groupTapHold) {\r\n\r\n\t\t\ttapHold = null;\r\n\r\n\t\t\tself.element.addEventListener(\"touchstart\", function (e) {\r\n\t\t\t\tclearTimeout(tapHold);\r\n\r\n\t\t\t\ttapHold = setTimeout(function () {\r\n\t\t\t\t\tclearTimeout(tapHold);\r\n\t\t\t\t\ttapHold = null;\r\n\t\t\t\t\ttap = false;\r\n\t\t\t\t\tself.groupManager.table.options.groupTapHold(e, self.getComponent());\r\n\t\t\t\t}, 1000);\r\n\t\t\t}, { passive: true });\r\n\r\n\t\t\tself.element.addEventListener(\"touchend\", function (e) {\r\n\t\t\t\tclearTimeout(tapHold);\r\n\t\t\t\ttapHold = null;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (self.groupManager.table.options.groupToggleElement) {\r\n\t\t\ttoggleElement = self.groupManager.table.options.groupToggleElement == \"arrow\" ? self.arrowElement : self.element;\r\n\r\n\t\t\ttoggleElement.addEventListener(\"click\", function (e) {\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\tself.toggleVisibility();\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tGroup.prototype._createGroup = function (groupID, level) {\r\n\t\tvar groupKey = level + \"_\" + groupID;\r\n\t\tvar group = new Group(this.groupManager, this, level, groupID, this.groupManager.groupIDLookups[level].field, this.groupManager.headerGenerator[level] || this.groupManager.headerGenerator[0], this.old ? this.old.groups[groupKey] : false);\r\n\r\n\t\tthis.groups[groupKey] = group;\r\n\t\tthis.groupList.push(group);\r\n\t};\r\n\r\n\tGroup.prototype._addRowToGroup = function (row) {\r\n\r\n\t\tvar level = this.level + 1;\r\n\r\n\t\tif (this.hasSubGroups) {\r\n\t\t\tvar groupID = this.groupManager.groupIDLookups[level].func(row.getData()),\r\n\t\t\t    groupKey = level + \"_\" + groupID;\r\n\r\n\t\t\tif (this.groupManager.allowedValues && this.groupManager.allowedValues[level]) {\r\n\t\t\t\tif (this.groups[groupKey]) {\r\n\t\t\t\t\tthis.groups[groupKey].addRow(row);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (!this.groups[groupKey]) {\r\n\t\t\t\t\tthis._createGroup(groupID, level);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.groups[groupKey].addRow(row);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tGroup.prototype._addRow = function (row) {\r\n\t\tthis.rows.push(row);\r\n\t\trow.modules.group = this;\r\n\t};\r\n\r\n\tGroup.prototype.insertRow = function (row, to, after) {\r\n\t\tvar data = this.conformRowData({});\r\n\r\n\t\trow.updateData(data);\r\n\r\n\t\tvar toIndex = this.rows.indexOf(to);\r\n\r\n\t\tif (toIndex > -1) {\r\n\t\t\tif (after) {\r\n\t\t\t\tthis.rows.splice(toIndex + 1, 0, row);\r\n\t\t\t} else {\r\n\t\t\t\tthis.rows.splice(toIndex, 0, row);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (after) {\r\n\t\t\t\tthis.rows.push(row);\r\n\t\t\t} else {\r\n\t\t\t\tthis.rows.unshift(row);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\trow.modules.group = this;\r\n\r\n\t\tthis.generateGroupHeaderContents();\r\n\r\n\t\tif (this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.options.columnCalcs != \"table\") {\r\n\t\t\tthis.groupManager.table.modules.columnCalcs.recalcGroup(this);\r\n\t\t}\r\n\r\n\t\tthis.groupManager.updateGroupRows(true);\r\n\t};\r\n\r\n\tGroup.prototype.scrollHeader = function (left) {\r\n\t\tthis.arrowElement.style.marginLeft = left;\r\n\r\n\t\tthis.groupList.forEach(function (child) {\r\n\t\t\tchild.scrollHeader(left);\r\n\t\t});\r\n\t};\r\n\r\n\tGroup.prototype.getRowIndex = function (row) {};\r\n\r\n\t//update row data to match grouping contraints\r\n\tGroup.prototype.conformRowData = function (data) {\r\n\t\tif (this.field) {\r\n\t\t\tdata[this.field] = this.key;\r\n\t\t} else {\r\n\t\t\tconsole.warn(\"Data Conforming Error - Cannot conform row data to match new group as groupBy is a function\");\r\n\t\t}\r\n\r\n\t\tif (this.parent) {\r\n\t\t\tdata = this.parent.conformRowData(data);\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t};\r\n\r\n\tGroup.prototype.removeRow = function (row) {\r\n\t\tvar index = this.rows.indexOf(row);\r\n\t\tvar el = row.getElement();\r\n\r\n\t\tif (index > -1) {\r\n\t\t\tthis.rows.splice(index, 1);\r\n\t\t}\r\n\r\n\t\tif (!this.groupManager.table.options.groupValues && !this.rows.length) {\r\n\t\t\tif (this.parent) {\r\n\t\t\t\tthis.parent.removeGroup(this);\r\n\t\t\t} else {\r\n\t\t\t\tthis.groupManager.removeGroup(this);\r\n\t\t\t}\r\n\r\n\t\t\tthis.groupManager.updateGroupRows(true);\r\n\t\t} else {\r\n\r\n\t\t\tif (el.parentNode) {\r\n\t\t\t\tel.parentNode.removeChild(el);\r\n\t\t\t}\r\n\r\n\t\t\tthis.generateGroupHeaderContents();\r\n\r\n\t\t\tif (this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.options.columnCalcs != \"table\") {\r\n\t\t\t\tthis.groupManager.table.modules.columnCalcs.recalcGroup(this);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tGroup.prototype.removeGroup = function (group) {\r\n\t\tvar groupKey = group.level + \"_\" + group.key,\r\n\t\t    index;\r\n\r\n\t\tif (this.groups[groupKey]) {\r\n\t\t\tdelete this.groups[groupKey];\r\n\r\n\t\t\tindex = this.groupList.indexOf(group);\r\n\r\n\t\t\tif (index > -1) {\r\n\t\t\t\tthis.groupList.splice(index, 1);\r\n\t\t\t}\r\n\r\n\t\t\tif (!this.groupList.length) {\r\n\t\t\t\tif (this.parent) {\r\n\t\t\t\t\tthis.parent.removeGroup(this);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.groupManager.removeGroup(this);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tGroup.prototype.getHeadersAndRows = function (noCalc) {\r\n\t\tvar output = [];\r\n\r\n\t\toutput.push(this);\r\n\r\n\t\tthis._visSet();\r\n\r\n\t\tif (this.visible) {\r\n\t\t\tif (this.groupList.length) {\r\n\t\t\t\tthis.groupList.forEach(function (group) {\r\n\t\t\t\t\toutput = output.concat(group.getHeadersAndRows(noCalc));\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tif (!noCalc && this.groupManager.table.options.columnCalcs != \"table\" && this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.modules.columnCalcs.hasTopCalcs()) {\r\n\t\t\t\t\tif (this.calcs.top) {\r\n\t\t\t\t\t\tthis.calcs.top.detachElement();\r\n\t\t\t\t\t\tthis.calcs.top.deleteCells();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.calcs.top = this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows);\r\n\t\t\t\t\toutput.push(this.calcs.top);\r\n\t\t\t\t}\r\n\r\n\t\t\t\toutput = output.concat(this.rows);\r\n\r\n\t\t\t\tif (!noCalc && this.groupManager.table.options.columnCalcs != \"table\" && this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.modules.columnCalcs.hasBottomCalcs()) {\r\n\t\t\t\t\tif (this.calcs.bottom) {\r\n\t\t\t\t\t\tthis.calcs.bottom.detachElement();\r\n\t\t\t\t\t\tthis.calcs.bottom.deleteCells();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.calcs.bottom = this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows);\r\n\t\t\t\t\toutput.push(this.calcs.bottom);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (!this.groupList.length && this.groupManager.table.options.columnCalcs != \"table\") {\r\n\r\n\t\t\t\tif (this.groupManager.table.modExists(\"columnCalcs\")) {\r\n\r\n\t\t\t\t\tif (!noCalc && this.groupManager.table.modules.columnCalcs.hasTopCalcs()) {\r\n\t\t\t\t\t\tif (this.calcs.top) {\r\n\t\t\t\t\t\t\tthis.calcs.top.detachElement();\r\n\t\t\t\t\t\t\tthis.calcs.top.deleteCells();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (this.groupManager.table.options.groupClosedShowCalcs) {\r\n\t\t\t\t\t\t\tthis.calcs.top = this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows);\r\n\t\t\t\t\t\t\toutput.push(this.calcs.top);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!noCalc && this.groupManager.table.modules.columnCalcs.hasBottomCalcs()) {\r\n\t\t\t\t\t\tif (this.calcs.bottom) {\r\n\t\t\t\t\t\t\tthis.calcs.bottom.detachElement();\r\n\t\t\t\t\t\t\tthis.calcs.bottom.deleteCells();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (this.groupManager.table.options.groupClosedShowCalcs) {\r\n\t\t\t\t\t\t\tthis.calcs.bottom = this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows);\r\n\t\t\t\t\t\t\toutput.push(this.calcs.bottom);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\tGroup.prototype.getData = function (visible, transform) {\r\n\t\tvar self = this,\r\n\t\t    output = [];\r\n\r\n\t\tthis._visSet();\r\n\r\n\t\tif (!visible || visible && this.visible) {\r\n\t\t\tthis.rows.forEach(function (row) {\r\n\t\t\t\toutput.push(row.getData(transform || \"data\"));\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\t// Group.prototype.getRows = function(){\r\n\t// \tthis._visSet();\r\n\r\n\t// \treturn this.visible ? this.rows : [];\r\n\t// };\r\n\r\n\tGroup.prototype.getRowCount = function () {\r\n\t\tvar count = 0;\r\n\r\n\t\tif (this.groupList.length) {\r\n\t\t\tthis.groupList.forEach(function (group) {\r\n\t\t\t\tcount += group.getRowCount();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tcount = this.rows.length;\r\n\t\t}\r\n\t\treturn count;\r\n\t};\r\n\r\n\tGroup.prototype.toggleVisibility = function () {\r\n\t\tif (this.visible) {\r\n\t\t\tthis.hide();\r\n\t\t} else {\r\n\t\t\tthis.show();\r\n\t\t}\r\n\t};\r\n\r\n\tGroup.prototype.hide = function () {\r\n\t\tthis.visible = false;\r\n\r\n\t\tif (this.groupManager.table.rowManager.getRenderMode() == \"classic\" && !this.groupManager.table.options.pagination) {\r\n\r\n\t\t\tthis.element.classList.remove(\"tabulator-group-visible\");\r\n\r\n\t\t\tif (this.groupList.length) {\r\n\t\t\t\tthis.groupList.forEach(function (group) {\r\n\r\n\t\t\t\t\tvar rows = group.getHeadersAndRows();\r\n\r\n\t\t\t\t\trows.forEach(function (row) {\r\n\t\t\t\t\t\trow.detachElement();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.rows.forEach(function (row) {\r\n\t\t\t\t\tvar rowEl = row.getElement();\r\n\t\t\t\t\trowEl.parentNode.removeChild(rowEl);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tthis.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(), this.groupManager.getDisplayIndex());\r\n\r\n\t\t\tthis.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth();\r\n\t\t} else {\r\n\t\t\tthis.groupManager.updateGroupRows(true);\r\n\t\t}\r\n\r\n\t\tthis.groupManager.table.options.groupVisibilityChanged.call(this.table, this.getComponent(), false);\r\n\t};\r\n\r\n\tGroup.prototype.show = function () {\r\n\t\tvar self = this;\r\n\r\n\t\tself.visible = true;\r\n\r\n\t\tif (this.groupManager.table.rowManager.getRenderMode() == \"classic\" && !this.groupManager.table.options.pagination) {\r\n\r\n\t\t\tthis.element.classList.add(\"tabulator-group-visible\");\r\n\r\n\t\t\tvar prev = self.getElement();\r\n\r\n\t\t\tif (this.groupList.length) {\r\n\t\t\t\tthis.groupList.forEach(function (group) {\r\n\t\t\t\t\tvar rows = group.getHeadersAndRows();\r\n\r\n\t\t\t\t\trows.forEach(function (row) {\r\n\t\t\t\t\t\tvar rowEl = row.getElement();\r\n\t\t\t\t\t\tprev.parentNode.insertBefore(rowEl, prev.nextSibling);\r\n\t\t\t\t\t\trow.initialize();\r\n\t\t\t\t\t\tprev = rowEl;\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tself.rows.forEach(function (row) {\r\n\t\t\t\t\tvar rowEl = row.getElement();\r\n\t\t\t\t\tprev.parentNode.insertBefore(rowEl, prev.nextSibling);\r\n\t\t\t\t\trow.initialize();\r\n\t\t\t\t\tprev = rowEl;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tthis.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(), this.groupManager.getDisplayIndex());\r\n\r\n\t\t\tthis.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth();\r\n\t\t} else {\r\n\t\t\tthis.groupManager.updateGroupRows(true);\r\n\t\t}\r\n\r\n\t\tthis.groupManager.table.options.groupVisibilityChanged.call(this.table, this.getComponent(), true);\r\n\t};\r\n\r\n\tGroup.prototype._visSet = function () {\r\n\t\tvar data = [];\r\n\r\n\t\tif (typeof this.visible == \"function\") {\r\n\r\n\t\t\tthis.rows.forEach(function (row) {\r\n\t\t\t\tdata.push(row.getData());\r\n\t\t\t});\r\n\r\n\t\t\tthis.visible = this.visible(this.key, this.getRowCount(), data, this.getComponent());\r\n\t\t}\r\n\t};\r\n\r\n\tGroup.prototype.getRowGroup = function (row) {\r\n\t\tvar match = false;\r\n\t\tif (this.groupList.length) {\r\n\t\t\tthis.groupList.forEach(function (group) {\r\n\t\t\t\tvar result = group.getRowGroup(row);\r\n\r\n\t\t\t\tif (result) {\r\n\t\t\t\t\tmatch = result;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (this.rows.find(function (item) {\r\n\t\t\t\treturn item === row;\r\n\t\t\t})) {\r\n\t\t\t\tmatch = this;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn match;\r\n\t};\r\n\r\n\tGroup.prototype.getSubGroups = function (component) {\r\n\t\tvar output = [];\r\n\r\n\t\tthis.groupList.forEach(function (child) {\r\n\t\t\toutput.push(component ? child.getComponent() : child);\r\n\t\t});\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\tGroup.prototype.getRows = function (compoment) {\r\n\t\tvar output = [];\r\n\r\n\t\tthis.rows.forEach(function (row) {\r\n\t\t\toutput.push(compoment ? row.getComponent() : row);\r\n\t\t});\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\tGroup.prototype.generateGroupHeaderContents = function () {\r\n\t\tvar data = [];\r\n\r\n\t\tthis.rows.forEach(function (row) {\r\n\t\t\tdata.push(row.getData());\r\n\t\t});\r\n\r\n\t\tthis.elementContents = this.generator(this.key, this.getRowCount(), data, this.getComponent());\r\n\r\n\t\twhile (this.element.firstChild) {\r\n\t\t\tthis.element.removeChild(this.element.firstChild);\r\n\t\t}if (typeof this.elementContents === \"string\") {\r\n\t\t\tthis.element.innerHTML = this.elementContents;\r\n\t\t} else {\r\n\t\t\tthis.element.appendChild(this.elementContents);\r\n\t\t}\r\n\r\n\t\tthis.element.insertBefore(this.arrowElement, this.element.firstChild);\r\n\t};\r\n\r\n\tGroup.prototype.getPath = function () {\r\n\t\tvar path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\r\n\r\n\t\tpath.unshift(this.key);\r\n\t\tif (this.parent) {\r\n\t\t\tthis.parent.getPath(path);\r\n\t\t}\r\n\t\treturn path;\r\n\t};\r\n\t////////////// Standard Row Functions //////////////\r\n\r\n\tGroup.prototype.getElement = function () {\r\n\t\tthis.addBindingsd = false;\r\n\r\n\t\tthis._visSet();\r\n\r\n\t\tif (this.visible) {\r\n\t\t\tthis.element.classList.add(\"tabulator-group-visible\");\r\n\t\t} else {\r\n\t\t\tthis.element.classList.remove(\"tabulator-group-visible\");\r\n\t\t}\r\n\r\n\t\tfor (var i = 0; i < this.element.childNodes.length; ++i) {\r\n\t\t\tthis.element.childNodes[i].parentNode.removeChild(this.element.childNodes[i]);\r\n\t\t}\r\n\r\n\t\tthis.generateGroupHeaderContents();\r\n\r\n\t\t// this.addBindings();\r\n\r\n\t\treturn this.element;\r\n\t};\r\n\r\n\tGroup.prototype.detachElement = function () {\r\n\t\tif (this.element && this.element.parentNode) {\r\n\t\t\tthis.element.parentNode.removeChild(this.element);\r\n\t\t}\r\n\t};\r\n\r\n\t//normalize the height of elements in the row\r\n\tGroup.prototype.normalizeHeight = function () {\r\n\t\tthis.setHeight(this.element.clientHeight);\r\n\t};\r\n\r\n\tGroup.prototype.initialize = function (force) {\r\n\t\tif (!this.initialized || force) {\r\n\t\t\tthis.normalizeHeight();\r\n\t\t\tthis.initialized = true;\r\n\t\t}\r\n\t};\r\n\r\n\tGroup.prototype.reinitialize = function () {\r\n\t\tthis.initialized = false;\r\n\t\tthis.height = 0;\r\n\r\n\t\tif (Tabulator.prototype.helpers.elVisible(this.element)) {\r\n\t\t\tthis.initialize(true);\r\n\t\t}\r\n\t};\r\n\r\n\tGroup.prototype.setHeight = function (height) {\r\n\t\tif (this.height != height) {\r\n\t\t\tthis.height = height;\r\n\t\t\tthis.outerHeight = this.element.offsetHeight;\r\n\t\t}\r\n\t};\r\n\r\n\t//return rows outer height\r\n\tGroup.prototype.getHeight = function () {\r\n\t\treturn this.outerHeight;\r\n\t};\r\n\r\n\tGroup.prototype.getGroup = function () {\r\n\t\treturn this;\r\n\t};\r\n\r\n\tGroup.prototype.reinitializeHeight = function () {};\r\n\tGroup.prototype.calcHeight = function () {};\r\n\tGroup.prototype.setCellHeight = function () {};\r\n\tGroup.prototype.clearCellHeight = function () {};\r\n\r\n\t//////////////// Object Generation /////////////////\r\n\tGroup.prototype.getComponent = function () {\r\n\t\tif (!this.component) {\r\n\t\t\tthis.component = new GroupComponent(this);\r\n\t\t}\r\n\r\n\t\treturn this.component;\r\n\t};\r\n\r\n\t//////////////////////////////////////////////////\r\n\t////////////// Group Row Extension ///////////////\r\n\t//////////////////////////////////////////////////\r\n\r\n\tvar GroupRows = function GroupRows(table) {\r\n\r\n\t\tthis.table = table; //hold Tabulator object\r\n\r\n\t\tthis.groupIDLookups = false; //enable table grouping and set field to group by\r\n\t\tthis.startOpen = [function () {\r\n\t\t\treturn false;\r\n\t\t}]; //starting state of group\r\n\t\tthis.headerGenerator = [function () {\r\n\t\t\treturn \"\";\r\n\t\t}];\r\n\t\tthis.groupList = []; //ordered list of groups\r\n\t\tthis.allowedValues = false;\r\n\t\tthis.groups = {}; //hold row groups\r\n\t\tthis.displayIndex = 0; //index in display pipeline\r\n\t};\r\n\r\n\t//initialize group configuration\r\n\tGroupRows.prototype.initialize = function () {\r\n\t\tvar self = this,\r\n\t\t    groupBy = self.table.options.groupBy,\r\n\t\t    startOpen = self.table.options.groupStartOpen,\r\n\t\t    groupHeader = self.table.options.groupHeader;\r\n\r\n\t\tthis.allowedValues = self.table.options.groupValues;\r\n\r\n\t\tif (Array.isArray(groupBy) && Array.isArray(groupHeader) && groupBy.length > groupHeader.length) {\r\n\t\t\tconsole.warn(\"Error creating group headers, groupHeader array is shorter than groupBy array\");\r\n\t\t}\r\n\r\n\t\tself.headerGenerator = [function () {\r\n\t\t\treturn \"\";\r\n\t\t}];\r\n\t\tthis.startOpen = [function () {\r\n\t\t\treturn false;\r\n\t\t}]; //starting state of group\r\n\r\n\t\tself.table.modules.localize.bind(\"groups|item\", function (langValue, lang) {\r\n\t\t\tself.headerGenerator[0] = function (value, count, data) {\r\n\t\t\t\t//header layout function\r\n\t\t\t\treturn (typeof value === \"undefined\" ? \"\" : value) + \"<span>(\" + count + \" \" + (count === 1 ? langValue : lang.groups.items) + \")</span>\";\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\tthis.groupIDLookups = [];\r\n\r\n\t\tif (Array.isArray(groupBy) || groupBy) {\r\n\t\t\tif (this.table.modExists(\"columnCalcs\") && this.table.options.columnCalcs != \"table\" && this.table.options.columnCalcs != \"both\") {\r\n\t\t\t\tthis.table.modules.columnCalcs.removeCalcs();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (this.table.modExists(\"columnCalcs\") && this.table.options.columnCalcs != \"group\") {\r\n\r\n\t\t\t\tvar cols = this.table.columnManager.getRealColumns();\r\n\r\n\t\t\t\tcols.forEach(function (col) {\r\n\t\t\t\t\tif (col.definition.topCalc) {\r\n\t\t\t\t\t\tself.table.modules.columnCalcs.initializeTopRow();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (col.definition.bottomCalc) {\r\n\t\t\t\t\t\tself.table.modules.columnCalcs.initializeBottomRow();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!Array.isArray(groupBy)) {\r\n\t\t\tgroupBy = [groupBy];\r\n\t\t}\r\n\r\n\t\tgroupBy.forEach(function (group, i) {\r\n\t\t\tvar lookupFunc, column;\r\n\r\n\t\t\tif (typeof group == \"function\") {\r\n\t\t\t\tlookupFunc = group;\r\n\t\t\t} else {\r\n\t\t\t\tcolumn = self.table.columnManager.getColumnByField(group);\r\n\r\n\t\t\t\tif (column) {\r\n\t\t\t\t\tlookupFunc = function lookupFunc(data) {\r\n\t\t\t\t\t\treturn column.getFieldValue(data);\r\n\t\t\t\t\t};\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlookupFunc = function lookupFunc(data) {\r\n\t\t\t\t\t\treturn data[group];\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tself.groupIDLookups.push({\r\n\t\t\t\tfield: typeof group === \"function\" ? false : group,\r\n\t\t\t\tfunc: lookupFunc,\r\n\t\t\t\tvalues: self.allowedValues ? self.allowedValues[i] : false\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tif (startOpen) {\r\n\r\n\t\t\tif (!Array.isArray(startOpen)) {\r\n\t\t\t\tstartOpen = [startOpen];\r\n\t\t\t}\r\n\r\n\t\t\tstartOpen.forEach(function (level) {\r\n\t\t\t\tlevel = typeof level == \"function\" ? level : function () {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t};\r\n\t\t\t});\r\n\r\n\t\t\tself.startOpen = startOpen;\r\n\t\t}\r\n\r\n\t\tif (groupHeader) {\r\n\t\t\tself.headerGenerator = Array.isArray(groupHeader) ? groupHeader : [groupHeader];\r\n\t\t}\r\n\r\n\t\tthis.initialized = true;\r\n\t};\r\n\r\n\tGroupRows.prototype.setDisplayIndex = function (index) {\r\n\t\tthis.displayIndex = index;\r\n\t};\r\n\r\n\tGroupRows.prototype.getDisplayIndex = function () {\r\n\t\treturn this.displayIndex;\r\n\t};\r\n\r\n\t//return appropriate rows with group headers\r\n\tGroupRows.prototype.getRows = function (rows) {\r\n\t\tif (this.groupIDLookups.length) {\r\n\r\n\t\t\tthis.table.options.dataGrouping.call(this.table);\r\n\r\n\t\t\tthis.generateGroups(rows);\r\n\r\n\t\t\tif (this.table.options.dataGrouped) {\r\n\t\t\t\tthis.table.options.dataGrouped.call(this.table, this.getGroups(true));\r\n\t\t\t}\r\n\r\n\t\t\treturn this.updateGroupRows();\r\n\t\t} else {\r\n\t\t\treturn rows.slice(0);\r\n\t\t}\r\n\t};\r\n\r\n\tGroupRows.prototype.getGroups = function (compoment) {\r\n\t\tvar groupComponents = [];\r\n\r\n\t\tthis.groupList.forEach(function (group) {\r\n\t\t\tgroupComponents.push(compoment ? group.getComponent() : group);\r\n\t\t});\r\n\r\n\t\treturn groupComponents;\r\n\t};\r\n\r\n\tGroupRows.prototype.getChildGroups = function (group) {\r\n\t\tvar _this69 = this;\r\n\r\n\t\tvar groupComponents = [];\r\n\r\n\t\tif (!group) {\r\n\t\t\tgroup = this;\r\n\t\t}\r\n\r\n\t\tgroup.groupList.forEach(function (child) {\r\n\t\t\tif (child.groupList.length) {\r\n\t\t\t\tgroupComponents = groupComponents.concat(_this69.getChildGroups(child));\r\n\t\t\t} else {\r\n\t\t\t\tgroupComponents.push(child);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn groupComponents;\r\n\t};\r\n\r\n\tGroupRows.prototype.wipe = function () {\r\n\t\tthis.groupList.forEach(function (group) {\r\n\t\t\tgroup.wipe();\r\n\t\t});\r\n\t};\r\n\r\n\tGroupRows.prototype.pullGroupListData = function (groupList) {\r\n\t\tvar self = this;\r\n\t\tvar groupListData = [];\r\n\r\n\t\tgroupList.forEach(function (group) {\r\n\t\t\tvar groupHeader = {};\r\n\t\t\tgroupHeader.level = 0;\r\n\t\t\tgroupHeader.rowCount = 0;\r\n\t\t\tgroupHeader.headerContent = \"\";\r\n\t\t\tvar childData = [];\r\n\r\n\t\t\tif (group.hasSubGroups) {\r\n\t\t\t\tchildData = self.pullGroupListData(group.groupList);\r\n\r\n\t\t\t\tgroupHeader.level = group.level;\r\n\t\t\t\tgroupHeader.rowCount = childData.length - group.groupList.length; // data length minus number of sub-headers\r\n\t\t\t\tgroupHeader.headerContent = group.generator(group.key, groupHeader.rowCount, group.rows, group);\r\n\r\n\t\t\t\tgroupListData.push(groupHeader);\r\n\t\t\t\tgroupListData = groupListData.concat(childData);\r\n\t\t\t} else {\r\n\t\t\t\tgroupHeader.level = group.level;\r\n\t\t\t\tgroupHeader.headerContent = group.generator(group.key, group.rows.length, group.rows, group);\r\n\t\t\t\tgroupHeader.rowCount = group.getRows().length;\r\n\r\n\t\t\t\tgroupListData.push(groupHeader);\r\n\r\n\t\t\t\tgroup.getRows().forEach(function (row) {\r\n\t\t\t\t\tgroupListData.push(row.getData(\"data\"));\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn groupListData;\r\n\t};\r\n\r\n\tGroupRows.prototype.getGroupedData = function () {\r\n\r\n\t\treturn this.pullGroupListData(this.groupList);\r\n\t};\r\n\r\n\tGroupRows.prototype.getRowGroup = function (row) {\r\n\t\tvar match = false;\r\n\r\n\t\tthis.groupList.forEach(function (group) {\r\n\t\t\tvar result = group.getRowGroup(row);\r\n\r\n\t\t\tif (result) {\r\n\t\t\t\tmatch = result;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn match;\r\n\t};\r\n\r\n\tGroupRows.prototype.countGroups = function () {\r\n\t\treturn this.groupList.length;\r\n\t};\r\n\r\n\tGroupRows.prototype.generateGroups = function (rows) {\r\n\t\tvar self = this,\r\n\t\t    oldGroups = self.groups;\r\n\r\n\t\tself.groups = {};\r\n\t\tself.groupList = [];\r\n\r\n\t\tif (this.allowedValues && this.allowedValues[0]) {\r\n\t\t\tthis.allowedValues[0].forEach(function (value) {\r\n\t\t\t\tself.createGroup(value, 0, oldGroups);\r\n\t\t\t});\r\n\r\n\t\t\trows.forEach(function (row) {\r\n\t\t\t\tself.assignRowToExistingGroup(row, oldGroups);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\trows.forEach(function (row) {\r\n\t\t\t\tself.assignRowToGroup(row, oldGroups);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tGroupRows.prototype.createGroup = function (groupID, level, oldGroups) {\r\n\t\tvar groupKey = level + \"_\" + groupID,\r\n\t\t    group;\r\n\r\n\t\toldGroups = oldGroups || [];\r\n\r\n\t\tgroup = new Group(this, false, level, groupID, this.groupIDLookups[0].field, this.headerGenerator[0], oldGroups[groupKey]);\r\n\r\n\t\tthis.groups[groupKey] = group;\r\n\t\tthis.groupList.push(group);\r\n\t};\r\n\r\n\t// GroupRows.prototype.assignRowToGroup = function(row, oldGroups){\r\n\t// \tvar groupID = this.groupIDLookups[0].func(row.getData()),\r\n\t// \tgroupKey = \"0_\" + groupID;\r\n\r\n\t// \tif(!this.groups[groupKey]){\r\n\t// \t\tthis.createGroup(groupID, 0, oldGroups);\r\n\t// \t}\r\n\r\n\t// \tthis.groups[groupKey].addRow(row);\r\n\t// };\r\n\r\n\tGroupRows.prototype.assignRowToExistingGroup = function (row, oldGroups) {\r\n\t\tvar groupID = this.groupIDLookups[0].func(row.getData()),\r\n\t\t    groupKey = \"0_\" + groupID;\r\n\r\n\t\tif (this.groups[groupKey]) {\r\n\t\t\tthis.groups[groupKey].addRow(row);\r\n\t\t}\r\n\t};\r\n\r\n\tGroupRows.prototype.assignRowToGroup = function (row, oldGroups) {\r\n\t\tvar groupID = this.groupIDLookups[0].func(row.getData()),\r\n\t\t    newGroupNeeded = !this.groups[\"0_\" + groupID];\r\n\r\n\t\tif (newGroupNeeded) {\r\n\t\t\tthis.createGroup(groupID, 0, oldGroups);\r\n\t\t}\r\n\r\n\t\tthis.groups[\"0_\" + groupID].addRow(row);\r\n\r\n\t\treturn !newGroupNeeded;\r\n\t};\r\n\r\n\tGroupRows.prototype.reassignRowToGroup = function (row) {\r\n\t\tvar oldRowGroup = row.getGroup(),\r\n\t\t    oldGroupPath = oldRowGroup.getPath(),\r\n\t\t    newGroupPath = this.getExpectedPath(row),\r\n\t\t    samePath = true;\r\n\t\t// figure out if new group path is the same as old group path\r\n\t\tvar samePath = oldGroupPath.length == newGroupPath.length && oldGroupPath.every(function (element, index) {\r\n\t\t\treturn element === newGroupPath[index];\r\n\t\t});\r\n\t\t// refresh if they new path and old path aren't the same (aka the row's groupings have changed)\r\n\t\tif (!samePath) {\r\n\t\t\toldRowGroup.removeRow(row);\r\n\t\t\tthis.assignRowToGroup(row, self.groups);\r\n\t\t\tthis.table.rowManager.refreshActiveData(\"group\", false, true);\r\n\t\t}\r\n\t};\r\n\r\n\tGroupRows.prototype.getExpectedPath = function (row) {\r\n\t\tvar groupPath = [],\r\n\t\t    rowData = row.getData();\r\n\t\tthis.groupIDLookups.forEach(function (groupId) {\r\n\t\t\tgroupPath.push(groupId.func(rowData));\r\n\t\t});\r\n\t\treturn groupPath;\r\n\t};\r\n\r\n\tGroupRows.prototype.updateGroupRows = function (force) {\r\n\t\tvar self = this,\r\n\t\t    output = [],\r\n\t\t    oldRowCount;\r\n\r\n\t\tself.groupList.forEach(function (group) {\r\n\t\t\toutput = output.concat(group.getHeadersAndRows());\r\n\t\t});\r\n\r\n\t\t//force update of table display\r\n\t\tif (force) {\r\n\r\n\t\t\tvar displayIndex = self.table.rowManager.setDisplayRows(output, this.getDisplayIndex());\r\n\r\n\t\t\tif (displayIndex !== true) {\r\n\t\t\t\tthis.setDisplayIndex(displayIndex);\r\n\t\t\t}\r\n\r\n\t\t\tself.table.rowManager.refreshActiveData(\"group\", true, true);\r\n\t\t}\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\tGroupRows.prototype.scrollHeaders = function (left) {\r\n\t\tif (this.table.options.virtualDomHoz) {\r\n\t\t\tleft -= this.table.vdomHoz.vDomPadLeft;\r\n\t\t}\r\n\r\n\t\tleft = left + \"px\";\r\n\r\n\t\tthis.groupList.forEach(function (group) {\r\n\t\t\tgroup.scrollHeader(left);\r\n\t\t});\r\n\t};\r\n\r\n\tGroupRows.prototype.removeGroup = function (group) {\r\n\t\tvar groupKey = group.level + \"_\" + group.key,\r\n\t\t    index;\r\n\r\n\t\tif (this.groups[groupKey]) {\r\n\t\t\tdelete this.groups[groupKey];\r\n\r\n\t\t\tindex = this.groupList.indexOf(group);\r\n\r\n\t\t\tif (index > -1) {\r\n\t\t\t\tthis.groupList.splice(index, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"groupRows\", GroupRows);\r\n\tvar History = function History(table) {\r\n\t\tthis.table = table; //hold Tabulator object\r\n\r\n\t\tthis.history = [];\r\n\t\tthis.index = -1;\r\n\t};\r\n\r\n\tHistory.prototype.clear = function () {\r\n\t\tthis.history = [];\r\n\t\tthis.index = -1;\r\n\t};\r\n\r\n\tHistory.prototype.action = function (type, component, data) {\r\n\r\n\t\tthis.history = this.history.slice(0, this.index + 1);\r\n\r\n\t\tthis.history.push({\r\n\t\t\ttype: type,\r\n\t\t\tcomponent: component,\r\n\t\t\tdata: data\r\n\t\t});\r\n\r\n\t\tthis.index++;\r\n\t};\r\n\r\n\tHistory.prototype.getHistoryUndoSize = function () {\r\n\t\treturn this.index + 1;\r\n\t};\r\n\r\n\tHistory.prototype.getHistoryRedoSize = function () {\r\n\t\treturn this.history.length - (this.index + 1);\r\n\t};\r\n\r\n\tHistory.prototype.clearComponentHistory = function (component) {\r\n\t\tvar index = this.history.findIndex(function (item) {\r\n\t\t\treturn item.component === component;\r\n\t\t});\r\n\r\n\t\tif (index > -1) {\r\n\t\t\tthis.history.splice(index, 1);\r\n\t\t\tif (index <= this.index) {\r\n\t\t\t\tthis.index--;\r\n\t\t\t}\r\n\r\n\t\t\tthis.clearComponentHistory(component);\r\n\t\t}\r\n\t};\r\n\r\n\tHistory.prototype.undo = function () {\r\n\r\n\t\tif (this.index > -1) {\r\n\t\t\tvar action = this.history[this.index];\r\n\r\n\t\t\tthis.undoers[action.type].call(this, action);\r\n\r\n\t\t\tthis.index--;\r\n\r\n\t\t\tthis.table.options.historyUndo.call(this.table, action.type, action.component.getComponent(), action.data);\r\n\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\tconsole.warn(\"History Undo Error - No more history to undo\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tHistory.prototype.redo = function () {\r\n\t\tif (this.history.length - 1 > this.index) {\r\n\r\n\t\t\tthis.index++;\r\n\r\n\t\t\tvar action = this.history[this.index];\r\n\r\n\t\t\tthis.redoers[action.type].call(this, action);\r\n\r\n\t\t\tthis.table.options.historyRedo.call(this.table, action.type, action.component.getComponent(), action.data);\r\n\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\tconsole.warn(\"History Redo Error - No more history to redo\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tHistory.prototype.undoers = {\r\n\t\tcellEdit: function cellEdit(action) {\r\n\t\t\taction.component.setValueProcessData(action.data.oldValue);\r\n\t\t},\r\n\r\n\t\trowAdd: function rowAdd(action) {\r\n\t\t\taction.component.deleteActual();\r\n\t\t},\r\n\r\n\t\trowDelete: function rowDelete(action) {\r\n\t\t\tvar newRow = this.table.rowManager.addRowActual(action.data.data, action.data.pos, action.data.index);\r\n\r\n\t\t\tif (this.table.options.groupBy && this.table.modExists(\"groupRows\")) {\r\n\t\t\t\tthis.table.modules.groupRows.updateGroupRows(true);\r\n\t\t\t}\r\n\r\n\t\t\tthis._rebindRow(action.component, newRow);\r\n\t\t},\r\n\r\n\t\trowMove: function rowMove(action) {\r\n\t\t\tthis.table.rowManager.moveRowActual(action.component, this.table.rowManager.rows[action.data.posFrom], !action.data.after);\r\n\t\t\tthis.table.rowManager.redraw();\r\n\t\t}\r\n\t};\r\n\r\n\tHistory.prototype.redoers = {\r\n\t\tcellEdit: function cellEdit(action) {\r\n\t\t\taction.component.setValueProcessData(action.data.newValue);\r\n\t\t},\r\n\r\n\t\trowAdd: function rowAdd(action) {\r\n\t\t\tvar newRow = this.table.rowManager.addRowActual(action.data.data, action.data.pos, action.data.index);\r\n\r\n\t\t\tif (this.table.options.groupBy && this.table.modExists(\"groupRows\")) {\r\n\t\t\t\tthis.table.modules.groupRows.updateGroupRows(true);\r\n\t\t\t}\r\n\r\n\t\t\tthis._rebindRow(action.component, newRow);\r\n\t\t},\r\n\r\n\t\trowDelete: function rowDelete(action) {\r\n\t\t\taction.component.deleteActual();\r\n\t\t},\r\n\r\n\t\trowMove: function rowMove(action) {\r\n\t\t\tthis.table.rowManager.moveRowActual(action.component, this.table.rowManager.rows[action.data.posTo], action.data.after);\r\n\t\t\tthis.table.rowManager.redraw();\r\n\t\t}\r\n\t};\r\n\r\n\t//rebind rows to new element after deletion\r\n\tHistory.prototype._rebindRow = function (oldRow, newRow) {\r\n\t\tthis.history.forEach(function (action) {\r\n\t\t\tif (action.component instanceof Row) {\r\n\t\t\t\tif (action.component === oldRow) {\r\n\t\t\t\t\taction.component = newRow;\r\n\t\t\t\t}\r\n\t\t\t} else if (action.component instanceof Cell) {\r\n\t\t\t\tif (action.component.row === oldRow) {\r\n\t\t\t\t\tvar field = action.component.column.getField();\r\n\r\n\t\t\t\t\tif (field) {\r\n\t\t\t\t\t\taction.component = newRow.getCell(field);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"history\", History);\r\n\tvar HtmlTableImport = function HtmlTableImport(table) {\r\n\t\tthis.table = table; //hold Tabulator object\r\n\t\tthis.fieldIndex = [];\r\n\t\tthis.hasIndex = false;\r\n\t};\r\n\r\n\tHtmlTableImport.prototype.parseTable = function () {\r\n\t\tvar self = this,\r\n\t\t    element = self.table.element,\r\n\t\t    options = self.table.options,\r\n\t\t    columns = options.columns,\r\n\t\t    headers = element.getElementsByTagName(\"th\"),\r\n\t\t    rows = element.getElementsByTagName(\"tbody\")[0],\r\n\t\t    data = [],\r\n\t\t    newTable;\r\n\r\n\t\tself.hasIndex = false;\r\n\r\n\t\tself.table.options.htmlImporting.call(this.table);\r\n\r\n\t\trows = rows ? rows.getElementsByTagName(\"tr\") : [];\r\n\r\n\t\t//check for tablator inline options\r\n\t\tself._extractOptions(element, options);\r\n\r\n\t\tif (headers.length) {\r\n\t\t\tself._extractHeaders(headers, rows);\r\n\t\t} else {\r\n\t\t\tself._generateBlankHeaders(headers, rows);\r\n\t\t}\r\n\r\n\t\t//iterate through table rows and build data set\r\n\t\tfor (var index = 0; index < rows.length; index++) {\r\n\t\t\tvar row = rows[index],\r\n\t\t\t    cells = row.getElementsByTagName(\"td\"),\r\n\t\t\t    item = {};\r\n\r\n\t\t\t//create index if the dont exist in table\r\n\t\t\tif (!self.hasIndex) {\r\n\t\t\t\titem[options.index] = index;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < cells.length; i++) {\r\n\t\t\t\tvar cell = cells[i];\r\n\t\t\t\tif (typeof this.fieldIndex[i] !== \"undefined\") {\r\n\t\t\t\t\titem[this.fieldIndex[i]] = cell.innerHTML;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//add row data to item\r\n\t\t\tdata.push(item);\r\n\t\t}\r\n\r\n\t\t//create new element\r\n\t\tvar newElement = document.createElement(\"div\");\r\n\r\n\t\t//transfer attributes to new element\r\n\t\tvar attributes = element.attributes;\r\n\r\n\t\t// loop through attributes and apply them on div\r\n\r\n\t\tfor (var i in attributes) {\r\n\t\t\tif (_typeof(attributes[i]) == \"object\") {\r\n\t\t\t\tnewElement.setAttribute(attributes[i].name, attributes[i].value);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// replace table with div element\r\n\t\telement.parentNode.replaceChild(newElement, element);\r\n\r\n\t\toptions.data = data;\r\n\r\n\t\tself.table.options.htmlImported.call(this.table);\r\n\r\n\t\t// // newElement.tabulator(options);\r\n\r\n\t\tthis.table.element = newElement;\r\n\t};\r\n\r\n\t//extract tabulator attribute options\r\n\tHtmlTableImport.prototype._extractOptions = function (element, options, defaultOptions) {\r\n\t\tvar attributes = element.attributes;\r\n\t\tvar optionsArr = defaultOptions ? Object.assign([], defaultOptions) : Object.keys(options);\r\n\t\tvar optionsList = {};\r\n\r\n\t\toptionsArr.forEach(function (item) {\r\n\t\t\toptionsList[item.toLowerCase()] = item;\r\n\t\t});\r\n\r\n\t\tfor (var index in attributes) {\r\n\t\t\tvar attrib = attributes[index];\r\n\t\t\tvar name;\r\n\r\n\t\t\tif (attrib && (typeof attrib === 'undefined' ? 'undefined' : _typeof(attrib)) == \"object\" && attrib.name && attrib.name.indexOf(\"tabulator-\") === 0) {\r\n\t\t\t\tname = attrib.name.replace(\"tabulator-\", \"\");\r\n\r\n\t\t\t\tif (typeof optionsList[name] !== \"undefined\") {\r\n\t\t\t\t\toptions[optionsList[name]] = this._attribValue(attrib.value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//get value of attribute\r\n\tHtmlTableImport.prototype._attribValue = function (value) {\r\n\t\tif (value === \"true\") {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tif (value === \"false\") {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t};\r\n\r\n\t//find column if it has already been defined\r\n\tHtmlTableImport.prototype._findCol = function (title) {\r\n\t\tvar match = this.table.options.columns.find(function (column) {\r\n\t\t\treturn column.title === title;\r\n\t\t});\r\n\r\n\t\treturn match || false;\r\n\t};\r\n\r\n\t//extract column from headers\r\n\tHtmlTableImport.prototype._extractHeaders = function (headers, rows) {\r\n\t\tfor (var index = 0; index < headers.length; index++) {\r\n\t\t\tvar header = headers[index],\r\n\t\t\t    exists = false,\r\n\t\t\t    col = this._findCol(header.textContent),\r\n\t\t\t    width,\r\n\t\t\t    attributes;\r\n\r\n\t\t\tif (col) {\r\n\t\t\t\texists = true;\r\n\t\t\t} else {\r\n\t\t\t\tcol = { title: header.textContent.trim() };\r\n\t\t\t}\r\n\r\n\t\t\tif (!col.field) {\r\n\t\t\t\tcol.field = header.textContent.trim().toLowerCase().replace(\" \", \"_\");\r\n\t\t\t}\r\n\r\n\t\t\twidth = header.getAttribute(\"width\");\r\n\r\n\t\t\tif (width && !col.width) {\r\n\t\t\t\tcol.width = width;\r\n\t\t\t}\r\n\r\n\t\t\t//check for tablator inline options\r\n\t\t\tattributes = header.attributes;\r\n\r\n\t\t\t// //check for tablator inline options\r\n\t\t\tthis._extractOptions(header, col, Column.prototype.defaultOptionList);\r\n\r\n\t\t\tthis.fieldIndex[index] = col.field;\r\n\r\n\t\t\tif (col.field == this.table.options.index) {\r\n\t\t\t\tthis.hasIndex = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (!exists) {\r\n\t\t\t\tthis.table.options.columns.push(col);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//generate blank headers\r\n\tHtmlTableImport.prototype._generateBlankHeaders = function (headers, rows) {\r\n\t\tfor (var index = 0; index < headers.length; index++) {\r\n\t\t\tvar header = headers[index],\r\n\t\t\t    col = { title: \"\", field: \"col\" + index };\r\n\r\n\t\t\tthis.fieldIndex[index] = col.field;\r\n\r\n\t\t\tvar width = header.getAttribute(\"width\");\r\n\r\n\t\t\tif (width) {\r\n\t\t\t\tcol.width = width;\r\n\t\t\t}\r\n\r\n\t\t\tthis.table.options.columns.push(col);\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"htmlTableImport\", HtmlTableImport);\r\n\tvar Keybindings = function Keybindings(table) {\r\n\t\tthis.table = table; //hold Tabulator object\r\n\t\tthis.watchKeys = null;\r\n\t\tthis.pressedKeys = null;\r\n\t\tthis.keyupBinding = false;\r\n\t\tthis.keydownBinding = false;\r\n\t};\r\n\r\n\tKeybindings.prototype.initialize = function () {\r\n\t\tvar bindings = this.table.options.keybindings,\r\n\t\t    mergedBindings = {};\r\n\r\n\t\tthis.watchKeys = {};\r\n\t\tthis.pressedKeys = [];\r\n\r\n\t\tif (bindings !== false) {\r\n\r\n\t\t\tfor (var key in this.bindings) {\r\n\t\t\t\tmergedBindings[key] = this.bindings[key];\r\n\t\t\t}\r\n\r\n\t\t\tif (Object.keys(bindings).length) {\r\n\r\n\t\t\t\tfor (var _key in bindings) {\r\n\t\t\t\t\tmergedBindings[_key] = bindings[_key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.mapBindings(mergedBindings);\r\n\t\t\tthis.bindEvents();\r\n\t\t}\r\n\t};\r\n\r\n\tKeybindings.prototype.mapBindings = function (bindings) {\r\n\t\tvar _this70 = this;\r\n\r\n\t\tvar self = this;\r\n\r\n\t\tvar _loop2 = function _loop2(key) {\r\n\r\n\t\t\tif (_this70.actions[key]) {\r\n\r\n\t\t\t\tif (bindings[key]) {\r\n\r\n\t\t\t\t\tif (_typeof(bindings[key]) !== \"object\") {\r\n\t\t\t\t\t\tbindings[key] = [bindings[key]];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbindings[key].forEach(function (binding) {\r\n\t\t\t\t\t\tself.mapBinding(key, binding);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn(\"Key Binding Error - no such action:\", key);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfor (var key in bindings) {\r\n\t\t\t_loop2(key);\r\n\t\t}\r\n\t};\r\n\r\n\tKeybindings.prototype.mapBinding = function (action, symbolsList) {\r\n\t\tvar self = this;\r\n\r\n\t\tvar binding = {\r\n\t\t\taction: this.actions[action],\r\n\t\t\tkeys: [],\r\n\t\t\tctrl: false,\r\n\t\t\tshift: false,\r\n\t\t\tmeta: false\r\n\t\t};\r\n\r\n\t\tvar symbols = symbolsList.toString().toLowerCase().split(\" \").join(\"\").split(\"+\");\r\n\r\n\t\tsymbols.forEach(function (symbol) {\r\n\t\t\tswitch (symbol) {\r\n\t\t\t\tcase \"ctrl\":\r\n\t\t\t\t\tbinding.ctrl = true;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"shift\":\r\n\t\t\t\t\tbinding.shift = true;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"meta\":\r\n\t\t\t\t\tbinding.meta = true;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tsymbol = parseInt(symbol);\r\n\t\t\t\t\tbinding.keys.push(symbol);\r\n\r\n\t\t\t\t\tif (!self.watchKeys[symbol]) {\r\n\t\t\t\t\t\tself.watchKeys[symbol] = [];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tself.watchKeys[symbol].push(binding);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tKeybindings.prototype.bindEvents = function () {\r\n\t\tvar self = this;\r\n\r\n\t\tthis.keyupBinding = function (e) {\r\n\t\t\tvar code = e.keyCode;\r\n\t\t\tvar bindings = self.watchKeys[code];\r\n\r\n\t\t\tif (bindings) {\r\n\r\n\t\t\t\tself.pressedKeys.push(code);\r\n\r\n\t\t\t\tbindings.forEach(function (binding) {\r\n\t\t\t\t\tself.checkBinding(e, binding);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.keydownBinding = function (e) {\r\n\t\t\tvar code = e.keyCode;\r\n\t\t\tvar bindings = self.watchKeys[code];\r\n\r\n\t\t\tif (bindings) {\r\n\r\n\t\t\t\tvar index = self.pressedKeys.indexOf(code);\r\n\r\n\t\t\t\tif (index > -1) {\r\n\t\t\t\t\tself.pressedKeys.splice(index, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.table.element.addEventListener(\"keydown\", this.keyupBinding);\r\n\r\n\t\tthis.table.element.addEventListener(\"keyup\", this.keydownBinding);\r\n\t};\r\n\r\n\tKeybindings.prototype.clearBindings = function () {\r\n\t\tif (this.keyupBinding) {\r\n\t\t\tthis.table.element.removeEventListener(\"keydown\", this.keyupBinding);\r\n\t\t}\r\n\r\n\t\tif (this.keydownBinding) {\r\n\t\t\tthis.table.element.removeEventListener(\"keyup\", this.keydownBinding);\r\n\t\t}\r\n\t};\r\n\r\n\tKeybindings.prototype.checkBinding = function (e, binding) {\r\n\t\tvar self = this,\r\n\t\t    match = true;\r\n\r\n\t\tif (e.ctrlKey == binding.ctrl && e.shiftKey == binding.shift && e.metaKey == binding.meta) {\r\n\t\t\tbinding.keys.forEach(function (key) {\r\n\t\t\t\tvar index = self.pressedKeys.indexOf(key);\r\n\r\n\t\t\t\tif (index == -1) {\r\n\t\t\t\t\tmatch = false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (match) {\r\n\t\t\t\tbinding.action.call(self, e);\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n\t//default bindings\r\n\tKeybindings.prototype.bindings = {\r\n\t\tnavPrev: \"shift + 9\",\r\n\t\tnavNext: 9,\r\n\t\tnavUp: 38,\r\n\t\tnavDown: 40,\r\n\t\tscrollPageUp: 33,\r\n\t\tscrollPageDown: 34,\r\n\t\tscrollToStart: 36,\r\n\t\tscrollToEnd: 35,\r\n\t\tundo: \"ctrl + 90\",\r\n\t\tredo: \"ctrl + 89\",\r\n\t\tcopyToClipboard: \"ctrl + 67\"\r\n\t};\r\n\r\n\t//default actions\r\n\tKeybindings.prototype.actions = {\r\n\t\tkeyBlock: function keyBlock(e) {\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\t\t},\r\n\t\tscrollPageUp: function scrollPageUp(e) {\r\n\t\t\tvar rowManager = this.table.rowManager,\r\n\t\t\t    newPos = rowManager.scrollTop - rowManager.height,\r\n\t\t\t    scrollMax = rowManager.element.scrollHeight;\r\n\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tif (rowManager.displayRowsCount) {\r\n\t\t\t\tif (newPos >= 0) {\r\n\t\t\t\t\trowManager.element.scrollTop = newPos;\r\n\t\t\t\t} else {\r\n\t\t\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[0]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.table.element.focus();\r\n\t\t},\r\n\t\tscrollPageDown: function scrollPageDown(e) {\r\n\t\t\tvar rowManager = this.table.rowManager,\r\n\t\t\t    newPos = rowManager.scrollTop + rowManager.height,\r\n\t\t\t    scrollMax = rowManager.element.scrollHeight;\r\n\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tif (rowManager.displayRowsCount) {\r\n\t\t\t\tif (newPos <= scrollMax) {\r\n\t\t\t\t\trowManager.element.scrollTop = newPos;\r\n\t\t\t\t} else {\r\n\t\t\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[rowManager.displayRowsCount - 1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.table.element.focus();\r\n\t\t},\r\n\t\tscrollToStart: function scrollToStart(e) {\r\n\t\t\tvar rowManager = this.table.rowManager;\r\n\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tif (rowManager.displayRowsCount) {\r\n\t\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[0]);\r\n\t\t\t}\r\n\r\n\t\t\tthis.table.element.focus();\r\n\t\t},\r\n\t\tscrollToEnd: function scrollToEnd(e) {\r\n\t\t\tvar rowManager = this.table.rowManager;\r\n\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tif (rowManager.displayRowsCount) {\r\n\t\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[rowManager.displayRowsCount - 1]);\r\n\t\t\t}\r\n\r\n\t\t\tthis.table.element.focus();\r\n\t\t},\r\n\t\tnavPrev: function navPrev(e) {\r\n\t\t\tvar cell = false;\r\n\r\n\t\t\tif (this.table.modExists(\"edit\")) {\r\n\t\t\t\tcell = this.table.modules.edit.currentCell;\r\n\r\n\t\t\t\tif (cell) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tcell.nav().prev();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tnavNext: function navNext(e) {\r\n\t\t\tvar cell = false;\r\n\t\t\tvar newRow = this.table.options.tabEndNewRow;\r\n\t\t\tvar nav;\r\n\r\n\t\t\tif (this.table.modExists(\"edit\")) {\r\n\t\t\t\tcell = this.table.modules.edit.currentCell;\r\n\r\n\t\t\t\tif (cell) {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tnav = cell.nav();\r\n\r\n\t\t\t\t\tif (!nav.next()) {\r\n\t\t\t\t\t\tif (newRow) {\r\n\r\n\t\t\t\t\t\t\tcell.getElement().firstChild.blur();\r\n\r\n\t\t\t\t\t\t\tif (newRow === true) {\r\n\t\t\t\t\t\t\t\tnewRow = this.table.addRow({});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif (typeof newRow == \"function\") {\r\n\t\t\t\t\t\t\t\t\tnewRow = this.table.addRow(newRow(cell.row.getComponent()));\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tnewRow = this.table.addRow(Object.assign({}, newRow));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tnewRow.then(function () {\r\n\t\t\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\t\t\tnav.next();\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tnavLeft: function navLeft(e) {\r\n\t\t\tvar cell = false;\r\n\r\n\t\t\tif (this.table.modExists(\"edit\")) {\r\n\t\t\t\tcell = this.table.modules.edit.currentCell;\r\n\r\n\t\t\t\tif (cell) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tcell.nav().left();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tnavRight: function navRight(e) {\r\n\t\t\tvar cell = false;\r\n\r\n\t\t\tif (this.table.modExists(\"edit\")) {\r\n\t\t\t\tcell = this.table.modules.edit.currentCell;\r\n\r\n\t\t\t\tif (cell) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tcell.nav().right();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tnavUp: function navUp(e) {\r\n\t\t\tvar cell = false;\r\n\r\n\t\t\tif (this.table.modExists(\"edit\")) {\r\n\t\t\t\tcell = this.table.modules.edit.currentCell;\r\n\r\n\t\t\t\tif (cell) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tcell.nav().up();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tnavDown: function navDown(e) {\r\n\t\t\tvar cell = false;\r\n\r\n\t\t\tif (this.table.modExists(\"edit\")) {\r\n\t\t\t\tcell = this.table.modules.edit.currentCell;\r\n\r\n\t\t\t\tif (cell) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tcell.nav().down();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tundo: function undo(e) {\r\n\t\t\tvar cell = false;\r\n\t\t\tif (this.table.options.history && this.table.modExists(\"history\") && this.table.modExists(\"edit\")) {\r\n\r\n\t\t\t\tcell = this.table.modules.edit.currentCell;\r\n\r\n\t\t\t\tif (!cell) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tthis.table.modules.history.undo();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tredo: function redo(e) {\r\n\t\t\tvar cell = false;\r\n\t\t\tif (this.table.options.history && this.table.modExists(\"history\") && this.table.modExists(\"edit\")) {\r\n\r\n\t\t\t\tcell = this.table.modules.edit.currentCell;\r\n\r\n\t\t\t\tif (!cell) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tthis.table.modules.history.redo();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcopyToClipboard: function copyToClipboard(e) {\r\n\t\t\tif (!this.table.modules.edit.currentCell) {\r\n\t\t\t\tif (this.table.modExists(\"clipboard\", true)) {\r\n\t\t\t\t\tthis.table.modules.clipboard.copy(false, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"keybindings\", Keybindings);\r\n\tvar Menu = function Menu(table) {\r\n\t\tthis.table = table; //hold Tabulator object\r\n\t\tthis.menuElements = [];\r\n\t\tthis.blurEvent = this.hideMenu.bind(this);\r\n\t\tthis.escEvent = this.escMenu.bind(this);\r\n\t\tthis.nestedMenuBlock = false;\r\n\t\tthis.positionReversedX = false;\r\n\t};\r\n\r\n\tMenu.prototype.initializeColumnHeader = function (column) {\r\n\t\tvar _this71 = this;\r\n\r\n\t\tvar headerMenuEl;\r\n\r\n\t\tif (column.definition.headerContextMenu) {\r\n\t\t\tcolumn.getElement().addEventListener(\"contextmenu\", this.LoadMenuEvent.bind(this, column, column.definition.headerContextMenu));\r\n\t\t\tthis.tapHold(column, column.definition.headerContextMenu);\r\n\t\t}\r\n\r\n\t\t// if(column.definition.headerClickMenu){\r\n\t\t// \tcolumn.getElement().addEventListener(\"click\", this.LoadMenuEvent.bind(this, column, column.definition.headerClickMenu));\r\n\t\t// }\r\n\r\n\t\tif (column.definition.headerMenu) {\r\n\r\n\t\t\theaderMenuEl = document.createElement(\"span\");\r\n\t\t\theaderMenuEl.classList.add(\"tabulator-header-menu-button\");\r\n\t\t\theaderMenuEl.innerHTML = \"&vellip;\";\r\n\r\n\t\t\theaderMenuEl.addEventListener(\"click\", function (e) {\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t_this71.LoadMenuEvent(column, column.definition.headerMenu, e);\r\n\t\t\t});\r\n\r\n\t\t\tcolumn.titleElement.insertBefore(headerMenuEl, column.titleElement.firstChild);\r\n\t\t}\r\n\t};\r\n\r\n\tMenu.prototype.LoadMenuEvent = function (component, menu, e) {\r\n\t\tmenu = typeof menu == \"function\" ? menu.call(this.table, component.getComponent(), e) : menu;\r\n\r\n\t\t// if(component instanceof Cell){\r\n\t\t// \te.stopImmediatePropagation();\r\n\t\t// }\r\n\r\n\t\tthis.loadMenu(e, component, menu);\r\n\t};\r\n\r\n\tMenu.prototype.tapHold = function (component, menu) {\r\n\t\tvar _this72 = this;\r\n\r\n\t\tvar element = component.getElement(),\r\n\t\t    tapHold = null,\r\n\t\t    loaded = false;\r\n\r\n\t\telement.addEventListener(\"touchstart\", function (e) {\r\n\t\t\tclearTimeout(tapHold);\r\n\t\t\tloaded = false;\r\n\r\n\t\t\ttapHold = setTimeout(function () {\r\n\t\t\t\tclearTimeout(tapHold);\r\n\t\t\t\ttapHold = null;\r\n\t\t\t\tloaded = true;\r\n\r\n\t\t\t\t_this72.LoadMenuEvent(component, menu, e);\r\n\t\t\t}, 1000);\r\n\t\t}, { passive: true });\r\n\r\n\t\telement.addEventListener(\"touchend\", function (e) {\r\n\t\t\tclearTimeout(tapHold);\r\n\t\t\ttapHold = null;\r\n\r\n\t\t\tif (loaded) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tMenu.prototype.initializeCell = function (cell) {\r\n\t\tif (cell.column.definition.contextMenu) {\r\n\t\t\tcell.getElement(true).addEventListener(\"contextmenu\", this.LoadMenuEvent.bind(this, cell, cell.column.definition.contextMenu));\r\n\t\t\tthis.tapHold(cell, cell.column.definition.contextMenu);\r\n\t\t}\r\n\r\n\t\tif (cell.column.definition.clickMenu) {\r\n\t\t\tcell.getElement(true).addEventListener(\"click\", this.LoadMenuEvent.bind(this, cell, cell.column.definition.clickMenu));\r\n\t\t}\r\n\t};\r\n\r\n\tMenu.prototype.initializeRow = function (row) {\r\n\t\tif (this.table.options.rowContextMenu) {\r\n\t\t\trow.getElement().addEventListener(\"contextmenu\", this.LoadMenuEvent.bind(this, row, this.table.options.rowContextMenu));\r\n\t\t\tthis.tapHold(row, this.table.options.rowContextMenu);\r\n\t\t}\r\n\r\n\t\tif (this.table.options.rowClickMenu) {\r\n\t\t\trow.getElement().addEventListener(\"click\", this.LoadMenuEvent.bind(this, row, this.table.options.rowClickMenu));\r\n\t\t}\r\n\t};\r\n\r\n\tMenu.prototype.initializeGroup = function (group) {\r\n\t\tif (this.table.options.groupContextMenu) {\r\n\t\t\tgroup.getElement().addEventListener(\"contextmenu\", this.LoadMenuEvent.bind(this, group, this.table.options.groupContextMenu));\r\n\t\t\tthis.tapHold(group, this.table.options.groupContextMenu);\r\n\t\t}\r\n\r\n\t\tif (this.table.options.groupClickMenu) {\r\n\t\t\tgroup.getElement().addEventListener(\"click\", this.LoadMenuEvent.bind(this, group, this.table.options.groupClickMenu));\r\n\t\t}\r\n\t};\r\n\r\n\tMenu.prototype.loadMenu = function (e, component, menu, parentEl) {\r\n\t\tvar _this73 = this;\r\n\r\n\t\tvar touch = !(e instanceof MouseEvent);\r\n\r\n\t\tvar menuEl = document.createElement(\"div\");\r\n\t\tmenuEl.classList.add(\"tabulator-menu\");\r\n\r\n\t\tif (!touch) {\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\r\n\t\t//abort if no menu set\r\n\t\tif (!menu || !menu.length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!parentEl) {\r\n\t\t\tif (this.nestedMenuBlock) {\r\n\t\t\t\t//abort if child menu already open\r\n\t\t\t\tif (this.isOpen()) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.nestedMenuBlock = setTimeout(function () {\r\n\t\t\t\t\t_this73.nestedMenuBlock = false;\r\n\t\t\t\t}, 100);\r\n\t\t\t}\r\n\r\n\t\t\tthis.hideMenu();\r\n\t\t\tthis.menuElements = [];\r\n\t\t}\r\n\r\n\t\tmenu.forEach(function (item) {\r\n\t\t\tvar itemEl = document.createElement(\"div\"),\r\n\t\t\t    label = item.label,\r\n\t\t\t    disabled = item.disabled;\r\n\r\n\t\t\tif (item.separator) {\r\n\t\t\t\titemEl.classList.add(\"tabulator-menu-separator\");\r\n\t\t\t} else {\r\n\t\t\t\titemEl.classList.add(\"tabulator-menu-item\");\r\n\r\n\t\t\t\tif (typeof label == \"function\") {\r\n\t\t\t\t\tlabel = label.call(_this73.table, component.getComponent());\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (label instanceof Node) {\r\n\t\t\t\t\titemEl.appendChild(label);\r\n\t\t\t\t} else {\r\n\t\t\t\t\titemEl.innerHTML = label;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (typeof disabled == \"function\") {\r\n\t\t\t\t\tdisabled = disabled.call(_this73.table, component.getComponent());\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (disabled) {\r\n\t\t\t\t\titemEl.classList.add(\"tabulator-menu-item-disabled\");\r\n\t\t\t\t\titemEl.addEventListener(\"click\", function (e) {\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (item.menu && item.menu.length) {\r\n\t\t\t\t\t\titemEl.addEventListener(\"click\", function (e) {\r\n\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t_this73.hideOldSubMenus(menuEl);\r\n\t\t\t\t\t\t\t_this73.loadMenu(e, component, item.menu, itemEl);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (item.action) {\r\n\t\t\t\t\t\t\titemEl.addEventListener(\"click\", function (e) {\r\n\t\t\t\t\t\t\t\titem.action(e, component.getComponent());\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (item.menu && item.menu.length) {\r\n\t\t\t\t\titemEl.classList.add(\"tabulator-menu-item-submenu\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tmenuEl.appendChild(itemEl);\r\n\t\t});\r\n\r\n\t\tmenuEl.addEventListener(\"click\", function (e) {\r\n\t\t\t_this73.hideMenu();\r\n\t\t});\r\n\r\n\t\tthis.menuElements.push(menuEl);\r\n\t\tthis.positionMenu(menuEl, parentEl, touch, e);\r\n\t};\r\n\r\n\tMenu.prototype.hideOldSubMenus = function (menuEl) {\r\n\t\tvar index = this.menuElements.indexOf(menuEl);\r\n\r\n\t\tif (index > -1) {\r\n\t\t\tfor (var _i13 = this.menuElements.length - 1; _i13 > index; _i13--) {\r\n\t\t\t\tvar el = this.menuElements[_i13];\r\n\r\n\t\t\t\tif (el.parentNode) {\r\n\t\t\t\t\tel.parentNode.removeChild(el);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.menuElements.pop();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tMenu.prototype.positionMenu = function (element, parentEl, touch, e) {\r\n\t\tvar _this74 = this;\r\n\r\n\t\tvar docHeight = Math.max(document.body.offsetHeight, window.innerHeight),\r\n\t\t    x,\r\n\t\t    y,\r\n\t\t    parentOffset;\r\n\r\n\t\tif (!parentEl) {\r\n\t\t\tx = touch ? e.touches[0].pageX : e.pageX;\r\n\t\t\ty = touch ? e.touches[0].pageY : e.pageY;\r\n\r\n\t\t\tthis.positionReversedX = false;\r\n\t\t} else {\r\n\t\t\tparentOffset = Tabulator.prototype.helpers.elOffset(parentEl);\r\n\t\t\tx = parentOffset.left + parentEl.offsetWidth;\r\n\t\t\ty = parentOffset.top - 1;\r\n\t\t}\r\n\r\n\t\telement.style.top = y + \"px\";\r\n\t\telement.style.left = x + \"px\";\r\n\r\n\t\tsetTimeout(function () {\r\n\t\t\t_this74.table.rowManager.element.addEventListener(\"scroll\", _this74.blurEvent);\r\n\t\t\tdocument.body.addEventListener(\"click\", _this74.blurEvent);\r\n\t\t\tdocument.body.addEventListener(\"contextmenu\", _this74.blurEvent);\r\n\t\t\twindow.addEventListener(\"resize\", _this74.blurEvent);\r\n\t\t\tdocument.body.addEventListener(\"keydown\", _this74.escEvent);\r\n\t\t}, 100);\r\n\r\n\t\tdocument.body.appendChild(element);\r\n\r\n\t\t//move menu to start on bottom edge if it is too close to the edge of the screen\r\n\t\tif (y + element.offsetHeight >= docHeight) {\r\n\t\t\telement.style.top = \"\";\r\n\r\n\t\t\tif (parentEl) {\r\n\t\t\t\telement.style.bottom = docHeight - parentOffset.top - parentEl.offsetHeight - 1 + \"px\";\r\n\t\t\t} else {\r\n\t\t\t\telement.style.bottom = docHeight - y + \"px\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//move menu to start on right edge if it is too close to the edge of the screen\r\n\t\tif (x + element.offsetWidth >= document.body.offsetWidth || this.positionReversedX) {\r\n\t\t\telement.style.left = \"\";\r\n\r\n\t\t\tif (parentEl) {\r\n\t\t\t\telement.style.right = document.documentElement.offsetWidth - parentOffset.left + \"px\";\r\n\t\t\t} else {\r\n\t\t\t\telement.style.right = document.documentElement.offsetWidth - x + \"px\";\r\n\t\t\t}\r\n\r\n\t\t\tthis.positionReversedX = true;\r\n\t\t}\r\n\t};\r\n\r\n\tMenu.prototype.isOpen = function () {\r\n\t\treturn !!this.menuElements.length;\r\n\t};\r\n\r\n\tMenu.prototype.escMenu = function (e) {\r\n\t\tif (e.keyCode == 27) {\r\n\t\t\tthis.hideMenu();\r\n\t\t}\r\n\t};\r\n\r\n\tMenu.prototype.hideMenu = function () {\r\n\t\tthis.menuElements.forEach(function (menuEl) {\r\n\t\t\tif (menuEl.parentNode) {\r\n\t\t\t\tmenuEl.parentNode.removeChild(menuEl);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tdocument.body.removeEventListener(\"keydown\", this.escEvent);\r\n\t\tdocument.body.removeEventListener(\"click\", this.blurEvent);\r\n\t\tdocument.body.removeEventListener(\"contextmenu\", this.blurEvent);\r\n\t\twindow.removeEventListener(\"resize\", this.blurEvent);\r\n\t\tthis.table.rowManager.element.removeEventListener(\"scroll\", this.blurEvent);\r\n\t};\r\n\r\n\t//default accessors\r\n\tMenu.prototype.menus = {};\r\n\r\n\tTabulator.prototype.registerModule(\"menu\", Menu);\r\n\tvar MoveColumns = function MoveColumns(table) {\r\n\t\tthis.table = table; //hold Tabulator object\r\n\t\tthis.placeholderElement = this.createPlaceholderElement();\r\n\t\tthis.hoverElement = false; //floating column header element\r\n\t\tthis.checkTimeout = false; //click check timeout holder\r\n\t\tthis.checkPeriod = 250; //period to wait on mousedown to consider this a move and not a click\r\n\t\tthis.moving = false; //currently moving column\r\n\t\tthis.toCol = false; //destination column\r\n\t\tthis.toColAfter = false; //position of moving column relative to the desitnation column\r\n\t\tthis.startX = 0; //starting position within header element\r\n\t\tthis.autoScrollMargin = 40; //auto scroll on edge when within margin\r\n\t\tthis.autoScrollStep = 5; //auto scroll distance in pixels\r\n\t\tthis.autoScrollTimeout = false; //auto scroll timeout\r\n\t\tthis.touchMove = false;\r\n\r\n\t\tthis.moveHover = this.moveHover.bind(this);\r\n\t\tthis.endMove = this.endMove.bind(this);\r\n\t};\r\n\r\n\tMoveColumns.prototype.createPlaceholderElement = function () {\r\n\t\tvar el = document.createElement(\"div\");\r\n\r\n\t\tel.classList.add(\"tabulator-col\");\r\n\t\tel.classList.add(\"tabulator-col-placeholder\");\r\n\r\n\t\treturn el;\r\n\t};\r\n\r\n\tMoveColumns.prototype.initializeColumn = function (column) {\r\n\t\tvar self = this,\r\n\t\t    config = {},\r\n\t\t    colEl;\r\n\r\n\t\tif (!column.modules.frozen) {\r\n\r\n\t\t\tcolEl = column.getElement();\r\n\r\n\t\t\tconfig.mousemove = function (e) {\r\n\t\t\t\tif (column.parent === self.moving.parent) {\r\n\t\t\t\t\tif ((self.touchMove ? e.touches[0].pageX : e.pageX) - Tabulator.prototype.helpers.elOffset(colEl).left + self.table.columnManager.element.scrollLeft > column.getWidth() / 2) {\r\n\t\t\t\t\t\tif (self.toCol !== column || !self.toColAfter) {\r\n\t\t\t\t\t\t\tcolEl.parentNode.insertBefore(self.placeholderElement, colEl.nextSibling);\r\n\t\t\t\t\t\t\tself.moveColumn(column, true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (self.toCol !== column || self.toColAfter) {\r\n\t\t\t\t\t\t\tcolEl.parentNode.insertBefore(self.placeholderElement, colEl);\r\n\t\t\t\t\t\t\tself.moveColumn(column, false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}.bind(self);\r\n\r\n\t\t\tcolEl.addEventListener(\"mousedown\", function (e) {\r\n\t\t\t\tself.touchMove = false;\r\n\t\t\t\tif (e.which === 1) {\r\n\t\t\t\t\tself.checkTimeout = setTimeout(function () {\r\n\t\t\t\t\t\tself.startMove(e, column);\r\n\t\t\t\t\t}, self.checkPeriod);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tcolEl.addEventListener(\"mouseup\", function (e) {\r\n\t\t\t\tif (e.which === 1) {\r\n\t\t\t\t\tif (self.checkTimeout) {\r\n\t\t\t\t\t\tclearTimeout(self.checkTimeout);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tself.bindTouchEvents(column);\r\n\t\t}\r\n\r\n\t\tcolumn.modules.moveColumn = config;\r\n\t};\r\n\r\n\tMoveColumns.prototype.bindTouchEvents = function (column) {\r\n\t\tvar self = this,\r\n\t\t    colEl = column.getElement(),\r\n\t\t    startXMove = false,\r\n\t\t    //shifting center position of the cell\r\n\t\tdir = false,\r\n\t\t    currentCol,\r\n\t\t    nextCol,\r\n\t\t    prevCol,\r\n\t\t    nextColWidth,\r\n\t\t    prevColWidth,\r\n\t\t    nextColWidthLast,\r\n\t\t    prevColWidthLast;\r\n\r\n\t\tcolEl.addEventListener(\"touchstart\", function (e) {\r\n\t\t\tself.checkTimeout = setTimeout(function () {\r\n\t\t\t\tself.touchMove = true;\r\n\t\t\t\tcurrentCol = column;\r\n\t\t\t\tnextCol = column.nextColumn();\r\n\t\t\t\tnextColWidth = nextCol ? nextCol.getWidth() / 2 : 0;\r\n\t\t\t\tprevCol = column.prevColumn();\r\n\t\t\t\tprevColWidth = prevCol ? prevCol.getWidth() / 2 : 0;\r\n\t\t\t\tnextColWidthLast = 0;\r\n\t\t\t\tprevColWidthLast = 0;\r\n\t\t\t\tstartXMove = false;\r\n\r\n\t\t\t\tself.startMove(e, column);\r\n\t\t\t}, self.checkPeriod);\r\n\t\t}, { passive: true });\r\n\r\n\t\tcolEl.addEventListener(\"touchmove\", function (e) {\r\n\t\t\tvar halfCol, diff, moveToCol;\r\n\r\n\t\t\tif (self.moving) {\r\n\t\t\t\tself.moveHover(e);\r\n\r\n\t\t\t\tif (!startXMove) {\r\n\t\t\t\t\tstartXMove = e.touches[0].pageX;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdiff = e.touches[0].pageX - startXMove;\r\n\r\n\t\t\t\tif (diff > 0) {\r\n\t\t\t\t\tif (nextCol && diff - nextColWidthLast > nextColWidth) {\r\n\t\t\t\t\t\tmoveToCol = nextCol;\r\n\r\n\t\t\t\t\t\tif (moveToCol !== column) {\r\n\t\t\t\t\t\t\tstartXMove = e.touches[0].pageX;\r\n\t\t\t\t\t\t\tmoveToCol.getElement().parentNode.insertBefore(self.placeholderElement, moveToCol.getElement().nextSibling);\r\n\t\t\t\t\t\t\tself.moveColumn(moveToCol, true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (prevCol && -diff - prevColWidthLast > prevColWidth) {\r\n\t\t\t\t\t\tmoveToCol = prevCol;\r\n\r\n\t\t\t\t\t\tif (moveToCol !== column) {\r\n\t\t\t\t\t\t\tstartXMove = e.touches[0].pageX;\r\n\t\t\t\t\t\t\tmoveToCol.getElement().parentNode.insertBefore(self.placeholderElement, moveToCol.getElement());\r\n\t\t\t\t\t\t\tself.moveColumn(moveToCol, false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (moveToCol) {\r\n\t\t\t\t\tcurrentCol = moveToCol;\r\n\t\t\t\t\tnextCol = moveToCol.nextColumn();\r\n\t\t\t\t\tnextColWidthLast = nextColWidth;\r\n\t\t\t\t\tnextColWidth = nextCol ? nextCol.getWidth() / 2 : 0;\r\n\t\t\t\t\tprevCol = moveToCol.prevColumn();\r\n\t\t\t\t\tprevColWidthLast = prevColWidth;\r\n\t\t\t\t\tprevColWidth = prevCol ? prevCol.getWidth() / 2 : 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, { passive: true });\r\n\r\n\t\tcolEl.addEventListener(\"touchend\", function (e) {\r\n\t\t\tif (self.checkTimeout) {\r\n\t\t\t\tclearTimeout(self.checkTimeout);\r\n\t\t\t}\r\n\t\t\tif (self.moving) {\r\n\t\t\t\tself.endMove(e);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tMoveColumns.prototype.startMove = function (e, column) {\r\n\t\tvar element = column.getElement();\r\n\r\n\t\tthis.moving = column;\r\n\t\tthis.startX = (this.touchMove ? e.touches[0].pageX : e.pageX) - Tabulator.prototype.helpers.elOffset(element).left;\r\n\r\n\t\tthis.table.element.classList.add(\"tabulator-block-select\");\r\n\r\n\t\t//create placeholder\r\n\t\tthis.placeholderElement.style.width = column.getWidth() + \"px\";\r\n\t\tthis.placeholderElement.style.height = column.getHeight() + \"px\";\r\n\r\n\t\telement.parentNode.insertBefore(this.placeholderElement, element);\r\n\t\telement.parentNode.removeChild(element);\r\n\r\n\t\t//create hover element\r\n\t\tthis.hoverElement = element.cloneNode(true);\r\n\t\tthis.hoverElement.classList.add(\"tabulator-moving\");\r\n\r\n\t\tthis.table.columnManager.getElement().appendChild(this.hoverElement);\r\n\r\n\t\tthis.hoverElement.style.left = \"0\";\r\n\t\tthis.hoverElement.style.bottom = \"0\";\r\n\r\n\t\tif (!this.touchMove) {\r\n\t\t\tthis._bindMouseMove();\r\n\r\n\t\t\tdocument.body.addEventListener(\"mousemove\", this.moveHover);\r\n\t\t\tdocument.body.addEventListener(\"mouseup\", this.endMove);\r\n\t\t}\r\n\r\n\t\tthis.moveHover(e);\r\n\t};\r\n\r\n\tMoveColumns.prototype._bindMouseMove = function () {\r\n\t\tthis.table.columnManager.columnsByIndex.forEach(function (column) {\r\n\t\t\tif (column.modules.moveColumn.mousemove) {\r\n\t\t\t\tcolumn.getElement().addEventListener(\"mousemove\", column.modules.moveColumn.mousemove);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tMoveColumns.prototype._unbindMouseMove = function () {\r\n\t\tthis.table.columnManager.columnsByIndex.forEach(function (column) {\r\n\t\t\tif (column.modules.moveColumn.mousemove) {\r\n\t\t\t\tcolumn.getElement().removeEventListener(\"mousemove\", column.modules.moveColumn.mousemove);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tMoveColumns.prototype.moveColumn = function (column, after) {\r\n\t\tvar movingCells = this.moving.getCells();\r\n\r\n\t\tthis.toCol = column;\r\n\t\tthis.toColAfter = after;\r\n\r\n\t\tif (after) {\r\n\t\t\tcolumn.getCells().forEach(function (cell, i) {\r\n\t\t\t\tvar cellEl = cell.getElement(true);\r\n\t\t\t\tcellEl.parentNode.insertBefore(movingCells[i].getElement(), cellEl.nextSibling);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tcolumn.getCells().forEach(function (cell, i) {\r\n\t\t\t\tvar cellEl = cell.getElement(true);\r\n\t\t\t\tcellEl.parentNode.insertBefore(movingCells[i].getElement(), cellEl);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tMoveColumns.prototype.endMove = function (e) {\r\n\t\tif (e.which === 1 || this.touchMove) {\r\n\t\t\tthis._unbindMouseMove();\r\n\r\n\t\t\tthis.placeholderElement.parentNode.insertBefore(this.moving.getElement(), this.placeholderElement.nextSibling);\r\n\t\t\tthis.placeholderElement.parentNode.removeChild(this.placeholderElement);\r\n\t\t\tthis.hoverElement.parentNode.removeChild(this.hoverElement);\r\n\r\n\t\t\tthis.table.element.classList.remove(\"tabulator-block-select\");\r\n\r\n\t\t\tif (this.toCol) {\r\n\t\t\t\tthis.table.columnManager.moveColumnActual(this.moving, this.toCol, this.toColAfter);\r\n\t\t\t}\r\n\r\n\t\t\tthis.moving = false;\r\n\t\t\tthis.toCol = false;\r\n\t\t\tthis.toColAfter = false;\r\n\r\n\t\t\tif (!this.touchMove) {\r\n\t\t\t\tdocument.body.removeEventListener(\"mousemove\", this.moveHover);\r\n\t\t\t\tdocument.body.removeEventListener(\"mouseup\", this.endMove);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tMoveColumns.prototype.moveHover = function (e) {\r\n\t\tvar self = this,\r\n\t\t    columnHolder = self.table.columnManager.getElement(),\r\n\t\t    scrollLeft = columnHolder.scrollLeft,\r\n\t\t    xPos = (self.touchMove ? e.touches[0].pageX : e.pageX) - Tabulator.prototype.helpers.elOffset(columnHolder).left + scrollLeft,\r\n\t\t    scrollPos;\r\n\r\n\t\tself.hoverElement.style.left = xPos - self.startX + \"px\";\r\n\r\n\t\tif (xPos - scrollLeft < self.autoScrollMargin) {\r\n\t\t\tif (!self.autoScrollTimeout) {\r\n\t\t\t\tself.autoScrollTimeout = setTimeout(function () {\r\n\t\t\t\t\tscrollPos = Math.max(0, scrollLeft - 5);\r\n\t\t\t\t\tself.table.rowManager.getElement().scrollLeft = scrollPos;\r\n\t\t\t\t\tself.autoScrollTimeout = false;\r\n\t\t\t\t}, 1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (scrollLeft + columnHolder.clientWidth - xPos < self.autoScrollMargin) {\r\n\t\t\tif (!self.autoScrollTimeout) {\r\n\t\t\t\tself.autoScrollTimeout = setTimeout(function () {\r\n\t\t\t\t\tscrollPos = Math.min(columnHolder.clientWidth, scrollLeft + 5);\r\n\t\t\t\t\tself.table.rowManager.getElement().scrollLeft = scrollPos;\r\n\t\t\t\t\tself.autoScrollTimeout = false;\r\n\t\t\t\t}, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"moveColumn\", MoveColumns);\r\n\r\n\tvar MoveRows = function MoveRows(table) {\r\n\r\n\t\tthis.table = table; //hold Tabulator object\r\n\t\tthis.placeholderElement = this.createPlaceholderElement();\r\n\t\tthis.hoverElement = false; //floating row header element\r\n\t\tthis.checkTimeout = false; //click check timeout holder\r\n\t\tthis.checkPeriod = 150; //period to wait on mousedown to consider this a move and not a click\r\n\t\tthis.moving = false; //currently moving row\r\n\t\tthis.toRow = false; //destination row\r\n\t\tthis.toRowAfter = false; //position of moving row relative to the desitnation row\r\n\t\tthis.hasHandle = false; //row has handle instead of fully movable row\r\n\t\tthis.startY = 0; //starting Y position within header element\r\n\t\tthis.startX = 0; //starting X position within header element\r\n\r\n\t\tthis.moveHover = this.moveHover.bind(this);\r\n\t\tthis.endMove = this.endMove.bind(this);\r\n\t\tthis.tableRowDropEvent = false;\r\n\r\n\t\tthis.touchMove = false;\r\n\r\n\t\tthis.connection = false;\r\n\t\tthis.connectionSelectorsTables = false;\r\n\t\tthis.connectionSelectorsElements = false;\r\n\t\tthis.connectionElements = [];\r\n\t\tthis.connections = [];\r\n\r\n\t\tthis.connectedTable = false;\r\n\t\tthis.connectedRow = false;\r\n\t};\r\n\r\n\tMoveRows.prototype.createPlaceholderElement = function () {\r\n\t\tvar el = document.createElement(\"div\");\r\n\r\n\t\tel.classList.add(\"tabulator-row\");\r\n\t\tel.classList.add(\"tabulator-row-placeholder\");\r\n\r\n\t\treturn el;\r\n\t};\r\n\r\n\tMoveRows.prototype.initialize = function (handle) {\r\n\t\tthis.connectionSelectorsTables = this.table.options.movableRowsConnectedTables;\r\n\t\tthis.connectionSelectorsElements = this.table.options.movableRowsConnectedElements;\r\n\r\n\t\tthis.connection = this.connectionSelectorsTables || this.connectionSelectorsElements;\r\n\t};\r\n\r\n\tMoveRows.prototype.setHandle = function (handle) {\r\n\t\tthis.hasHandle = handle;\r\n\t};\r\n\r\n\tMoveRows.prototype.initializeGroupHeader = function (group) {\r\n\t\tvar self = this,\r\n\t\t    config = {},\r\n\t\t    rowEl;\r\n\r\n\t\t//inter table drag drop\r\n\t\tconfig.mouseup = function (e) {\r\n\t\t\tself.tableRowDrop(e, row);\r\n\t\t}.bind(self);\r\n\r\n\t\t//same table drag drop\r\n\t\tconfig.mousemove = function (e) {\r\n\t\t\tif (e.pageY - Tabulator.prototype.helpers.elOffset(group.element).top + self.table.rowManager.element.scrollTop > group.getHeight() / 2) {\r\n\t\t\t\tif (self.toRow !== group || !self.toRowAfter) {\r\n\t\t\t\t\tvar rowEl = group.getElement();\r\n\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl.nextSibling);\r\n\t\t\t\t\tself.moveRow(group, true);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (self.toRow !== group || self.toRowAfter) {\r\n\t\t\t\t\tvar rowEl = group.getElement();\r\n\t\t\t\t\tif (rowEl.previousSibling) {\r\n\t\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl);\r\n\t\t\t\t\t\tself.moveRow(group, false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}.bind(self);\r\n\r\n\t\tgroup.modules.moveRow = config;\r\n\t};\r\n\r\n\tMoveRows.prototype.initializeRow = function (row) {\r\n\t\tvar self = this,\r\n\t\t    config = {},\r\n\t\t    rowEl;\r\n\r\n\t\t//inter table drag drop\r\n\t\tconfig.mouseup = function (e) {\r\n\t\t\tself.tableRowDrop(e, row);\r\n\t\t}.bind(self);\r\n\r\n\t\t//same table drag drop\r\n\t\tconfig.mousemove = function (e) {\r\n\t\t\tvar rowEl = row.getElement();\r\n\r\n\t\t\tif (e.pageY - Tabulator.prototype.helpers.elOffset(rowEl).top + self.table.rowManager.element.scrollTop > row.getHeight() / 2) {\r\n\t\t\t\tif (self.toRow !== row || !self.toRowAfter) {\r\n\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl.nextSibling);\r\n\t\t\t\t\tself.moveRow(row, true);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (self.toRow !== row || self.toRowAfter) {\r\n\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl);\r\n\t\t\t\t\tself.moveRow(row, false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}.bind(self);\r\n\r\n\t\tif (!this.hasHandle) {\r\n\r\n\t\t\trowEl = row.getElement();\r\n\r\n\t\t\trowEl.addEventListener(\"mousedown\", function (e) {\r\n\t\t\t\tif (e.which === 1) {\r\n\t\t\t\t\tself.checkTimeout = setTimeout(function () {\r\n\t\t\t\t\t\tself.startMove(e, row);\r\n\t\t\t\t\t}, self.checkPeriod);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\trowEl.addEventListener(\"mouseup\", function (e) {\r\n\t\t\t\tif (e.which === 1) {\r\n\t\t\t\t\tif (self.checkTimeout) {\r\n\t\t\t\t\t\tclearTimeout(self.checkTimeout);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.bindTouchEvents(row, row.getElement());\r\n\t\t}\r\n\r\n\t\trow.modules.moveRow = config;\r\n\t};\r\n\r\n\tMoveRows.prototype.initializeCell = function (cell) {\r\n\t\tvar self = this,\r\n\t\t    cellEl = cell.getElement(true);\r\n\r\n\t\tcellEl.addEventListener(\"mousedown\", function (e) {\r\n\t\t\tif (e.which === 1) {\r\n\t\t\t\tself.checkTimeout = setTimeout(function () {\r\n\t\t\t\t\tself.startMove(e, cell.row);\r\n\t\t\t\t}, self.checkPeriod);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tcellEl.addEventListener(\"mouseup\", function (e) {\r\n\t\t\tif (e.which === 1) {\r\n\t\t\t\tif (self.checkTimeout) {\r\n\t\t\t\t\tclearTimeout(self.checkTimeout);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.bindTouchEvents(cell.row, cellEl);\r\n\t};\r\n\r\n\tMoveRows.prototype.bindTouchEvents = function (row, element) {\r\n\t\tvar self = this,\r\n\t\t    startYMove = false,\r\n\t\t    //shifting center position of the cell\r\n\t\tdir = false,\r\n\t\t    currentRow,\r\n\t\t    nextRow,\r\n\t\t    prevRow,\r\n\t\t    nextRowHeight,\r\n\t\t    prevRowHeight,\r\n\t\t    nextRowHeightLast,\r\n\t\t    prevRowHeightLast;\r\n\r\n\t\telement.addEventListener(\"touchstart\", function (e) {\r\n\t\t\tself.checkTimeout = setTimeout(function () {\r\n\t\t\t\tself.touchMove = true;\r\n\t\t\t\tcurrentRow = row;\r\n\t\t\t\tnextRow = row.nextRow();\r\n\t\t\t\tnextRowHeight = nextRow ? nextRow.getHeight() / 2 : 0;\r\n\t\t\t\tprevRow = row.prevRow();\r\n\t\t\t\tprevRowHeight = prevRow ? prevRow.getHeight() / 2 : 0;\r\n\t\t\t\tnextRowHeightLast = 0;\r\n\t\t\t\tprevRowHeightLast = 0;\r\n\t\t\t\tstartYMove = false;\r\n\r\n\t\t\t\tself.startMove(e, row);\r\n\t\t\t}, self.checkPeriod);\r\n\t\t}, { passive: true });\r\n\t\tthis.moving, this.toRow, this.toRowAfter;\r\n\t\telement.addEventListener(\"touchmove\", function (e) {\r\n\r\n\t\t\tvar halfCol, diff, moveToRow;\r\n\r\n\t\t\tif (self.moving) {\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tself.moveHover(e);\r\n\r\n\t\t\t\tif (!startYMove) {\r\n\t\t\t\t\tstartYMove = e.touches[0].pageY;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdiff = e.touches[0].pageY - startYMove;\r\n\r\n\t\t\t\tif (diff > 0) {\r\n\t\t\t\t\tif (nextRow && diff - nextRowHeightLast > nextRowHeight) {\r\n\t\t\t\t\t\tmoveToRow = nextRow;\r\n\r\n\t\t\t\t\t\tif (moveToRow !== row) {\r\n\t\t\t\t\t\t\tstartYMove = e.touches[0].pageY;\r\n\t\t\t\t\t\t\tmoveToRow.getElement().parentNode.insertBefore(self.placeholderElement, moveToRow.getElement().nextSibling);\r\n\t\t\t\t\t\t\tself.moveRow(moveToRow, true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (prevRow && -diff - prevRowHeightLast > prevRowHeight) {\r\n\t\t\t\t\t\tmoveToRow = prevRow;\r\n\r\n\t\t\t\t\t\tif (moveToRow !== row) {\r\n\t\t\t\t\t\t\tstartYMove = e.touches[0].pageY;\r\n\t\t\t\t\t\t\tmoveToRow.getElement().parentNode.insertBefore(self.placeholderElement, moveToRow.getElement());\r\n\t\t\t\t\t\t\tself.moveRow(moveToRow, false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (moveToRow) {\r\n\t\t\t\t\tcurrentRow = moveToRow;\r\n\t\t\t\t\tnextRow = moveToRow.nextRow();\r\n\t\t\t\t\tnextRowHeightLast = nextRowHeight;\r\n\t\t\t\t\tnextRowHeight = nextRow ? nextRow.getHeight() / 2 : 0;\r\n\t\t\t\t\tprevRow = moveToRow.prevRow();\r\n\t\t\t\t\tprevRowHeightLast = prevRowHeight;\r\n\t\t\t\t\tprevRowHeight = prevRow ? prevRow.getHeight() / 2 : 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\telement.addEventListener(\"touchend\", function (e) {\r\n\t\t\tif (self.checkTimeout) {\r\n\t\t\t\tclearTimeout(self.checkTimeout);\r\n\t\t\t}\r\n\t\t\tif (self.moving) {\r\n\t\t\t\tself.endMove(e);\r\n\t\t\t\tself.touchMove = false;\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tMoveRows.prototype._bindMouseMove = function () {\r\n\t\tvar self = this;\r\n\r\n\t\tself.table.rowManager.getDisplayRows().forEach(function (row) {\r\n\t\t\tif ((row.type === \"row\" || row.type === \"group\") && row.modules.moveRow.mousemove) {\r\n\t\t\t\trow.getElement().addEventListener(\"mousemove\", row.modules.moveRow.mousemove);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tMoveRows.prototype._unbindMouseMove = function () {\r\n\t\tvar self = this;\r\n\r\n\t\tself.table.rowManager.getDisplayRows().forEach(function (row) {\r\n\t\t\tif ((row.type === \"row\" || row.type === \"group\") && row.modules.moveRow.mousemove) {\r\n\t\t\t\trow.getElement().removeEventListener(\"mousemove\", row.modules.moveRow.mousemove);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tMoveRows.prototype.startMove = function (e, row) {\r\n\t\tvar element = row.getElement();\r\n\r\n\t\tthis.setStartPosition(e, row);\r\n\r\n\t\tthis.moving = row;\r\n\r\n\t\tthis.table.element.classList.add(\"tabulator-block-select\");\r\n\r\n\t\t//create placeholder\r\n\t\tthis.placeholderElement.style.width = row.getWidth() + \"px\";\r\n\t\tthis.placeholderElement.style.height = row.getHeight() + \"px\";\r\n\r\n\t\tif (!this.connection) {\r\n\t\t\telement.parentNode.insertBefore(this.placeholderElement, element);\r\n\t\t\telement.parentNode.removeChild(element);\r\n\t\t} else {\r\n\t\t\tthis.table.element.classList.add(\"tabulator-movingrow-sending\");\r\n\t\t\tthis.connectToTables(row);\r\n\t\t}\r\n\r\n\t\t//create hover element\r\n\t\tthis.hoverElement = element.cloneNode(true);\r\n\t\tthis.hoverElement.classList.add(\"tabulator-moving\");\r\n\r\n\t\tif (this.connection) {\r\n\t\t\tdocument.body.appendChild(this.hoverElement);\r\n\t\t\tthis.hoverElement.style.left = \"0\";\r\n\t\t\tthis.hoverElement.style.top = \"0\";\r\n\t\t\tthis.hoverElement.style.width = this.table.element.clientWidth + \"px\";\r\n\t\t\tthis.hoverElement.style.whiteSpace = \"nowrap\";\r\n\t\t\tthis.hoverElement.style.overflow = \"hidden\";\r\n\t\t\tthis.hoverElement.style.pointerEvents = \"none\";\r\n\t\t} else {\r\n\t\t\tthis.table.rowManager.getTableElement().appendChild(this.hoverElement);\r\n\r\n\t\t\tthis.hoverElement.style.left = \"0\";\r\n\t\t\tthis.hoverElement.style.top = \"0\";\r\n\r\n\t\t\tthis._bindMouseMove();\r\n\t\t}\r\n\r\n\t\tdocument.body.addEventListener(\"mousemove\", this.moveHover);\r\n\t\tdocument.body.addEventListener(\"mouseup\", this.endMove);\r\n\r\n\t\tthis.moveHover(e);\r\n\t};\r\n\r\n\tMoveRows.prototype.setStartPosition = function (e, row) {\r\n\t\tvar pageX = this.touchMove ? e.touches[0].pageX : e.pageX,\r\n\t\t    pageY = this.touchMove ? e.touches[0].pageY : e.pageY,\r\n\t\t    element,\r\n\t\t    position;\r\n\r\n\t\telement = row.getElement();\r\n\t\tif (this.connection) {\r\n\t\t\tposition = element.getBoundingClientRect();\r\n\r\n\t\t\tthis.startX = position.left - pageX + window.pageXOffset;\r\n\t\t\tthis.startY = position.top - pageY + window.pageYOffset;\r\n\t\t} else {\r\n\t\t\tthis.startY = pageY - element.getBoundingClientRect().top;\r\n\t\t}\r\n\t};\r\n\r\n\tMoveRows.prototype.endMove = function (e) {\r\n\t\tif (!e || e.which === 1 || this.touchMove) {\r\n\t\t\tthis._unbindMouseMove();\r\n\r\n\t\t\tif (!this.connection) {\r\n\t\t\t\tthis.placeholderElement.parentNode.insertBefore(this.moving.getElement(), this.placeholderElement.nextSibling);\r\n\t\t\t\tthis.placeholderElement.parentNode.removeChild(this.placeholderElement);\r\n\t\t\t}\r\n\r\n\t\t\tthis.hoverElement.parentNode.removeChild(this.hoverElement);\r\n\r\n\t\t\tthis.table.element.classList.remove(\"tabulator-block-select\");\r\n\r\n\t\t\tif (this.toRow) {\r\n\t\t\t\tthis.table.rowManager.moveRow(this.moving, this.toRow, this.toRowAfter);\r\n\t\t\t}\r\n\r\n\t\t\tthis.moving = false;\r\n\t\t\tthis.toRow = false;\r\n\t\t\tthis.toRowAfter = false;\r\n\r\n\t\t\tdocument.body.removeEventListener(\"mousemove\", this.moveHover);\r\n\t\t\tdocument.body.removeEventListener(\"mouseup\", this.endMove);\r\n\r\n\t\t\tif (this.connection) {\r\n\t\t\t\tthis.table.element.classList.remove(\"tabulator-movingrow-sending\");\r\n\t\t\t\tthis.disconnectFromTables();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tMoveRows.prototype.moveRow = function (row, after) {\r\n\t\tthis.toRow = row;\r\n\t\tthis.toRowAfter = after;\r\n\t};\r\n\r\n\tMoveRows.prototype.moveHover = function (e) {\r\n\t\tif (this.connection) {\r\n\t\t\tthis.moveHoverConnections.call(this, e);\r\n\t\t} else {\r\n\t\t\tthis.moveHoverTable.call(this, e);\r\n\t\t}\r\n\t};\r\n\r\n\tMoveRows.prototype.moveHoverTable = function (e) {\r\n\t\tvar rowHolder = this.table.rowManager.getElement(),\r\n\t\t    scrollTop = rowHolder.scrollTop,\r\n\t\t    yPos = (this.touchMove ? e.touches[0].pageY : e.pageY) - rowHolder.getBoundingClientRect().top + scrollTop,\r\n\t\t    scrollPos;\r\n\r\n\t\tthis.hoverElement.style.top = yPos - this.startY + \"px\";\r\n\t};\r\n\r\n\tMoveRows.prototype.moveHoverConnections = function (e) {\r\n\t\tthis.hoverElement.style.left = this.startX + (this.touchMove ? e.touches[0].pageX : e.pageX) + \"px\";\r\n\t\tthis.hoverElement.style.top = this.startY + (this.touchMove ? e.touches[0].pageY : e.pageY) + \"px\";\r\n\t};\r\n\r\n\tMoveRows.prototype.elementRowDrop = function (e, element, row) {\r\n\t\tif (this.table.options.movableRowsElementDrop) {\r\n\t\t\tthis.table.options.movableRowsElementDrop(e, element, row ? row.getComponent() : false);\r\n\t\t}\r\n\t};\r\n\r\n\t//establish connection with other tables\r\n\tMoveRows.prototype.connectToTables = function (row) {\r\n\t\tvar _this75 = this;\r\n\r\n\t\tvar connectionTables;\r\n\r\n\t\tif (this.connectionSelectorsTables) {\r\n\t\t\tconnectionTables = this.table.modules.comms.getConnections(this.connectionSelectorsTables);\r\n\r\n\t\t\tthis.table.options.movableRowsSendingStart.call(this.table, connectionTables);\r\n\r\n\t\t\tthis.table.modules.comms.send(this.connectionSelectorsTables, \"moveRow\", \"connect\", {\r\n\t\t\t\trow: row\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (this.connectionSelectorsElements) {\r\n\r\n\t\t\tthis.connectionElements = [];\r\n\r\n\t\t\tif (!Array.isArray(this.connectionSelectorsElements)) {\r\n\t\t\t\tthis.connectionSelectorsElements = [this.connectionSelectorsElements];\r\n\t\t\t}\r\n\r\n\t\t\tthis.connectionSelectorsElements.forEach(function (query) {\r\n\t\t\t\tif (typeof query === \"string\") {\r\n\t\t\t\t\t_this75.connectionElements = _this75.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(query)));\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_this75.connectionElements.push(query);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.connectionElements.forEach(function (element) {\r\n\t\t\t\tvar dropEvent = function dropEvent(e) {\r\n\t\t\t\t\t_this75.elementRowDrop(e, element, _this75.moving);\r\n\t\t\t\t};\r\n\r\n\t\t\t\telement.addEventListener(\"mouseup\", dropEvent);\r\n\t\t\t\telement.tabulatorElementDropEvent = dropEvent;\r\n\r\n\t\t\t\telement.classList.add(\"tabulator-movingrow-receiving\");\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t//disconnect from other tables\r\n\tMoveRows.prototype.disconnectFromTables = function () {\r\n\t\tvar connectionTables;\r\n\r\n\t\tif (this.connectionSelectorsTables) {\r\n\t\t\tconnectionTables = this.table.modules.comms.getConnections(this.connectionSelectorsTables);\r\n\r\n\t\t\tthis.table.options.movableRowsSendingStop.call(this.table, connectionTables);\r\n\r\n\t\t\tthis.table.modules.comms.send(this.connectionSelectorsTables, \"moveRow\", \"disconnect\");\r\n\t\t}\r\n\r\n\t\tthis.connectionElements.forEach(function (element) {\r\n\t\t\telement.classList.remove(\"tabulator-movingrow-receiving\");\r\n\t\t\telement.removeEventListener(\"mouseup\", element.tabulatorElementDropEvent);\r\n\t\t\tdelete element.tabulatorElementDropEvent;\r\n\t\t});\r\n\t};\r\n\r\n\t//accept incomming connection\r\n\tMoveRows.prototype.connect = function (table, row) {\r\n\t\tvar self = this;\r\n\t\tif (!this.connectedTable) {\r\n\t\t\tthis.connectedTable = table;\r\n\t\t\tthis.connectedRow = row;\r\n\r\n\t\t\tthis.table.element.classList.add(\"tabulator-movingrow-receiving\");\r\n\r\n\t\t\tself.table.rowManager.getDisplayRows().forEach(function (row) {\r\n\t\t\t\tif (row.type === \"row\" && row.modules.moveRow && row.modules.moveRow.mouseup) {\r\n\t\t\t\t\trow.getElement().addEventListener(\"mouseup\", row.modules.moveRow.mouseup);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tself.tableRowDropEvent = self.tableRowDrop.bind(self);\r\n\r\n\t\t\tself.table.element.addEventListener(\"mouseup\", self.tableRowDropEvent);\r\n\r\n\t\t\tthis.table.options.movableRowsReceivingStart.call(this.table, row, table);\r\n\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\tconsole.warn(\"Move Row Error - Table cannot accept connection, already connected to table:\", this.connectedTable);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\t//close incomming connection\r\n\tMoveRows.prototype.disconnect = function (table) {\r\n\t\tvar self = this;\r\n\t\tif (table === this.connectedTable) {\r\n\t\t\tthis.connectedTable = false;\r\n\t\t\tthis.connectedRow = false;\r\n\r\n\t\t\tthis.table.element.classList.remove(\"tabulator-movingrow-receiving\");\r\n\r\n\t\t\tself.table.rowManager.getDisplayRows().forEach(function (row) {\r\n\t\t\t\tif (row.type === \"row\" && row.modules.moveRow && row.modules.moveRow.mouseup) {\r\n\t\t\t\t\trow.getElement().removeEventListener(\"mouseup\", row.modules.moveRow.mouseup);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tself.table.element.removeEventListener(\"mouseup\", self.tableRowDropEvent);\r\n\r\n\t\t\tthis.table.options.movableRowsReceivingStop.call(this.table, table);\r\n\t\t} else {\r\n\t\t\tconsole.warn(\"Move Row Error - trying to disconnect from non connected table\");\r\n\t\t}\r\n\t};\r\n\r\n\tMoveRows.prototype.dropComplete = function (table, row, success) {\r\n\t\tvar sender = false;\r\n\r\n\t\tif (success) {\r\n\r\n\t\t\tswitch (_typeof(this.table.options.movableRowsSender)) {\r\n\t\t\t\tcase \"string\":\r\n\t\t\t\t\tsender = this.senders[this.table.options.movableRowsSender];\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"function\":\r\n\t\t\t\t\tsender = this.table.options.movableRowsSender;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif (sender) {\r\n\t\t\t\tsender.call(this, this.moving.getComponent(), row ? row.getComponent() : undefined, table);\r\n\t\t\t} else {\r\n\t\t\t\tif (this.table.options.movableRowsSender) {\r\n\t\t\t\t\tconsole.warn(\"Mover Row Error - no matching sender found:\", this.table.options.movableRowsSender);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.table.options.movableRowsSent.call(this.table, this.moving.getComponent(), row ? row.getComponent() : undefined, table);\r\n\t\t} else {\r\n\t\t\tthis.table.options.movableRowsSentFailed.call(this.table, this.moving.getComponent(), row ? row.getComponent() : undefined, table);\r\n\t\t}\r\n\r\n\t\tthis.endMove();\r\n\t};\r\n\r\n\tMoveRows.prototype.tableRowDrop = function (e, row) {\r\n\t\tvar receiver = false,\r\n\t\t    success = false;\r\n\r\n\t\te.stopImmediatePropagation();\r\n\r\n\t\tswitch (_typeof(this.table.options.movableRowsReceiver)) {\r\n\t\t\tcase \"string\":\r\n\t\t\t\treceiver = this.receivers[this.table.options.movableRowsReceiver];\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"function\":\r\n\t\t\t\treceiver = this.table.options.movableRowsReceiver;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tif (receiver) {\r\n\t\t\tsuccess = receiver.call(this, this.connectedRow.getComponent(), row ? row.getComponent() : undefined, this.connectedTable);\r\n\t\t} else {\r\n\t\t\tconsole.warn(\"Mover Row Error - no matching receiver found:\", this.table.options.movableRowsReceiver);\r\n\t\t}\r\n\r\n\t\tif (success) {\r\n\t\t\tthis.table.options.movableRowsReceived.call(this.table, this.connectedRow.getComponent(), row ? row.getComponent() : undefined, this.connectedTable);\r\n\t\t} else {\r\n\t\t\tthis.table.options.movableRowsReceivedFailed.call(this.table, this.connectedRow.getComponent(), row ? row.getComponent() : undefined, this.connectedTable);\r\n\t\t}\r\n\r\n\t\tthis.table.modules.comms.send(this.connectedTable, \"moveRow\", \"dropcomplete\", {\r\n\t\t\trow: row,\r\n\t\t\tsuccess: success\r\n\t\t});\r\n\t};\r\n\r\n\tMoveRows.prototype.receivers = {\r\n\t\tinsert: function insert(fromRow, toRow, fromTable) {\r\n\t\t\tthis.table.addRow(fromRow.getData(), undefined, toRow);\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\tadd: function add(fromRow, toRow, fromTable) {\r\n\t\t\tthis.table.addRow(fromRow.getData());\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\tupdate: function update(fromRow, toRow, fromTable) {\r\n\t\t\tif (toRow) {\r\n\t\t\t\ttoRow.update(fromRow.getData());\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\treplace: function replace(fromRow, toRow, fromTable) {\r\n\t\t\tif (toRow) {\r\n\t\t\t\tthis.table.addRow(fromRow.getData(), undefined, toRow);\r\n\t\t\t\ttoRow.delete();\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tMoveRows.prototype.senders = {\r\n\t\tdelete: function _delete(fromRow, toRow, toTable) {\r\n\t\t\tfromRow.delete();\r\n\t\t}\r\n\t};\r\n\r\n\tMoveRows.prototype.commsReceived = function (table, action, data) {\r\n\t\tswitch (action) {\r\n\t\t\tcase \"connect\":\r\n\t\t\t\treturn this.connect(table, data.row);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"disconnect\":\r\n\t\t\t\treturn this.disconnect(table);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"dropcomplete\":\r\n\t\t\t\treturn this.dropComplete(table, data.row, data.success);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"moveRow\", MoveRows);\r\n\tvar Mutator = function Mutator(table) {\r\n\t\tthis.table = table; //hold Tabulator object\r\n\t\tthis.allowedTypes = [\"\", \"data\", \"edit\", \"clipboard\"]; //list of muatation types\r\n\t\tthis.enabled = true;\r\n\t};\r\n\r\n\t//initialize column mutator\r\n\tMutator.prototype.initializeColumn = function (column) {\r\n\t\tvar self = this,\r\n\t\t    match = false,\r\n\t\t    config = {};\r\n\r\n\t\tthis.allowedTypes.forEach(function (type) {\r\n\t\t\tvar key = \"mutator\" + (type.charAt(0).toUpperCase() + type.slice(1)),\r\n\t\t\t    mutator;\r\n\r\n\t\t\tif (column.definition[key]) {\r\n\t\t\t\tmutator = self.lookupMutator(column.definition[key]);\r\n\r\n\t\t\t\tif (mutator) {\r\n\t\t\t\t\tmatch = true;\r\n\r\n\t\t\t\t\tconfig[key] = {\r\n\t\t\t\t\t\tmutator: mutator,\r\n\t\t\t\t\t\tparams: column.definition[key + \"Params\"] || {}\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (match) {\r\n\t\t\tcolumn.modules.mutate = config;\r\n\t\t}\r\n\t};\r\n\r\n\tMutator.prototype.lookupMutator = function (value) {\r\n\t\tvar mutator = false;\r\n\r\n\t\t//set column mutator\r\n\t\tswitch (typeof value === 'undefined' ? 'undefined' : _typeof(value)) {\r\n\t\t\tcase \"string\":\r\n\t\t\t\tif (this.mutators[value]) {\r\n\t\t\t\t\tmutator = this.mutators[value];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.warn(\"Mutator Error - No such mutator found, ignoring: \", value);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"function\":\r\n\t\t\t\tmutator = value;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn mutator;\r\n\t};\r\n\r\n\t//apply mutator to row\r\n\tMutator.prototype.transformRow = function (data, type, updatedData) {\r\n\t\tvar self = this,\r\n\t\t    key = \"mutator\" + (type.charAt(0).toUpperCase() + type.slice(1)),\r\n\t\t    value;\r\n\r\n\t\tif (this.enabled) {\r\n\r\n\t\t\tself.table.columnManager.traverse(function (column) {\r\n\t\t\t\tvar mutator, params, component;\r\n\r\n\t\t\t\tif (column.modules.mutate) {\r\n\t\t\t\t\tmutator = column.modules.mutate[key] || column.modules.mutate.mutator || false;\r\n\r\n\t\t\t\t\tif (mutator) {\r\n\t\t\t\t\t\tvalue = column.getFieldValue(typeof updatedData !== \"undefined\" ? updatedData : data);\r\n\r\n\t\t\t\t\t\tif (type == \"data\" || typeof value !== \"undefined\") {\r\n\t\t\t\t\t\t\tcomponent = column.getComponent();\r\n\t\t\t\t\t\t\tparams = typeof mutator.params === \"function\" ? mutator.params(value, data, type, component) : mutator.params;\r\n\t\t\t\t\t\t\tcolumn.setFieldValue(data, mutator.mutator(value, data, type, params, component));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t};\r\n\r\n\t//apply mutator to new cell value\r\n\tMutator.prototype.transformCell = function (cell, value) {\r\n\t\tvar mutator = cell.column.modules.mutate.mutatorEdit || cell.column.modules.mutate.mutator || false,\r\n\t\t    tempData = {};\r\n\r\n\t\tif (mutator) {\r\n\t\t\ttempData = Object.assign(tempData, cell.row.getData());\r\n\t\t\tcell.column.setFieldValue(tempData, value);\r\n\t\t\treturn mutator.mutator(value, tempData, \"edit\", mutator.params, cell.getComponent());\r\n\t\t} else {\r\n\t\t\treturn value;\r\n\t\t}\r\n\t};\r\n\r\n\tMutator.prototype.enable = function () {\r\n\t\tthis.enabled = true;\r\n\t};\r\n\r\n\tMutator.prototype.disable = function () {\r\n\t\tthis.enabled = false;\r\n\t};\r\n\r\n\t//default mutators\r\n\tMutator.prototype.mutators = {};\r\n\r\n\tTabulator.prototype.registerModule(\"mutator\", Mutator);\r\n\tvar Page = function Page(table) {\r\n\r\n\t\tthis.table = table; //hold Tabulator object\r\n\r\n\t\tthis.mode = \"local\";\r\n\t\tthis.progressiveLoad = false;\r\n\r\n\t\tthis.size = 0;\r\n\t\tthis.page = 1;\r\n\t\tthis.count = 5;\r\n\t\tthis.max = 1;\r\n\r\n\t\tthis.displayIndex = 0; //index in display pipeline\r\n\r\n\t\tthis.initialLoad = true;\r\n\r\n\t\tthis.pageSizes = [];\r\n\r\n\t\tthis.dataReceivedNames = {};\r\n\t\tthis.dataSentNames = {};\r\n\r\n\t\tthis.createElements();\r\n\t};\r\n\r\n\tPage.prototype.createElements = function () {\r\n\r\n\t\tvar button;\r\n\r\n\t\tthis.element = document.createElement(\"span\");\r\n\t\tthis.element.classList.add(\"tabulator-paginator\");\r\n\r\n\t\tthis.pagesElement = document.createElement(\"span\");\r\n\t\tthis.pagesElement.classList.add(\"tabulator-pages\");\r\n\r\n\t\tbutton = document.createElement(\"button\");\r\n\t\tbutton.classList.add(\"tabulator-page\");\r\n\t\tbutton.setAttribute(\"type\", \"button\");\r\n\t\tbutton.setAttribute(\"role\", \"button\");\r\n\t\tbutton.setAttribute(\"aria-label\", \"\");\r\n\t\tbutton.setAttribute(\"title\", \"\");\r\n\r\n\t\tthis.firstBut = button.cloneNode(true);\r\n\t\tthis.firstBut.setAttribute(\"data-page\", \"first\");\r\n\r\n\t\tthis.prevBut = button.cloneNode(true);\r\n\t\tthis.prevBut.setAttribute(\"data-page\", \"prev\");\r\n\r\n\t\tthis.nextBut = button.cloneNode(true);\r\n\t\tthis.nextBut.setAttribute(\"data-page\", \"next\");\r\n\r\n\t\tthis.lastBut = button.cloneNode(true);\r\n\t\tthis.lastBut.setAttribute(\"data-page\", \"last\");\r\n\r\n\t\tif (this.table.options.paginationSizeSelector) {\r\n\t\t\tthis.pageSizeSelect = document.createElement(\"select\");\r\n\t\t\tthis.pageSizeSelect.classList.add(\"tabulator-page-size\");\r\n\t\t}\r\n\t};\r\n\r\n\tPage.prototype.generatePageSizeSelectList = function () {\r\n\t\tvar _this76 = this;\r\n\r\n\t\tvar pageSizes = [];\r\n\r\n\t\tif (this.pageSizeSelect) {\r\n\r\n\t\t\tif (Array.isArray(this.table.options.paginationSizeSelector)) {\r\n\t\t\t\tpageSizes = this.table.options.paginationSizeSelector;\r\n\t\t\t\tthis.pageSizes = pageSizes;\r\n\r\n\t\t\t\tif (this.pageSizes.indexOf(this.size) == -1) {\r\n\t\t\t\t\tpageSizes.unshift(this.size);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (this.pageSizes.indexOf(this.size) == -1) {\r\n\t\t\t\t\tpageSizes = [];\r\n\r\n\t\t\t\t\tfor (var _i14 = 1; _i14 < 5; _i14++) {\r\n\t\t\t\t\t\tpageSizes.push(this.size * _i14);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.pageSizes = pageSizes;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpageSizes = this.pageSizes;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\twhile (this.pageSizeSelect.firstChild) {\r\n\t\t\t\tthis.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);\r\n\t\t\t}pageSizes.forEach(function (item) {\r\n\t\t\t\tvar itemEl = document.createElement(\"option\");\r\n\t\t\t\titemEl.value = item;\r\n\r\n\t\t\t\tif (item === true) {\r\n\t\t\t\t\t_this76.table.modules.localize.bind(\"pagination|all\", function (value) {\r\n\t\t\t\t\t\titemEl.innerHTML = value;\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\titemEl.innerHTML = item;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_this76.pageSizeSelect.appendChild(itemEl);\r\n\t\t\t});\r\n\r\n\t\t\tthis.pageSizeSelect.value = this.size;\r\n\t\t}\r\n\t};\r\n\r\n\t//setup pageination\r\n\tPage.prototype.initialize = function (hidden) {\r\n\t\tvar self = this,\r\n\t\t    pageSelectLabel,\r\n\t\t    testElRow,\r\n\t\t    testElCell;\r\n\r\n\t\t//update param names\r\n\t\tthis.dataSentNames = Object.assign({}, this.paginationDataSentNames);\r\n\t\tthis.dataSentNames = Object.assign(this.dataSentNames, this.table.options.paginationDataSent);\r\n\r\n\t\tthis.dataReceivedNames = Object.assign({}, this.paginationDataReceivedNames);\r\n\t\tthis.dataReceivedNames = Object.assign(this.dataReceivedNames, this.table.options.paginationDataReceived);\r\n\r\n\t\t//build pagination element\r\n\r\n\t\t//bind localizations\r\n\t\tself.table.modules.localize.bind(\"pagination|first\", function (value) {\r\n\t\t\tself.firstBut.innerHTML = value;\r\n\t\t});\r\n\r\n\t\tself.table.modules.localize.bind(\"pagination|first_title\", function (value) {\r\n\t\t\tself.firstBut.setAttribute(\"aria-label\", value);\r\n\t\t\tself.firstBut.setAttribute(\"title\", value);\r\n\t\t});\r\n\r\n\t\tself.table.modules.localize.bind(\"pagination|prev\", function (value) {\r\n\t\t\tself.prevBut.innerHTML = value;\r\n\t\t});\r\n\r\n\t\tself.table.modules.localize.bind(\"pagination|prev_title\", function (value) {\r\n\t\t\tself.prevBut.setAttribute(\"aria-label\", value);\r\n\t\t\tself.prevBut.setAttribute(\"title\", value);\r\n\t\t});\r\n\r\n\t\tself.table.modules.localize.bind(\"pagination|next\", function (value) {\r\n\t\t\tself.nextBut.innerHTML = value;\r\n\t\t});\r\n\r\n\t\tself.table.modules.localize.bind(\"pagination|next_title\", function (value) {\r\n\t\t\tself.nextBut.setAttribute(\"aria-label\", value);\r\n\t\t\tself.nextBut.setAttribute(\"title\", value);\r\n\t\t});\r\n\r\n\t\tself.table.modules.localize.bind(\"pagination|last\", function (value) {\r\n\t\t\tself.lastBut.innerHTML = value;\r\n\t\t});\r\n\r\n\t\tself.table.modules.localize.bind(\"pagination|last_title\", function (value) {\r\n\t\t\tself.lastBut.setAttribute(\"aria-label\", value);\r\n\t\t\tself.lastBut.setAttribute(\"title\", value);\r\n\t\t});\r\n\r\n\t\t//click bindings\r\n\t\tself.firstBut.addEventListener(\"click\", function () {\r\n\t\t\tself.setPage(1).then(function () {}).catch(function () {});\r\n\t\t});\r\n\r\n\t\tself.prevBut.addEventListener(\"click\", function () {\r\n\t\t\tself.previousPage().then(function () {}).catch(function () {});\r\n\t\t});\r\n\r\n\t\tself.nextBut.addEventListener(\"click\", function () {\r\n\t\t\tself.nextPage().then(function () {}).catch(function () {});\r\n\t\t});\r\n\r\n\t\tself.lastBut.addEventListener(\"click\", function () {\r\n\t\t\tself.setPage(self.max).then(function () {}).catch(function () {});\r\n\t\t});\r\n\r\n\t\tif (self.table.options.paginationElement) {\r\n\t\t\tself.element = self.table.options.paginationElement;\r\n\t\t}\r\n\r\n\t\tif (this.pageSizeSelect) {\r\n\t\t\tpageSelectLabel = document.createElement(\"label\");\r\n\r\n\t\t\tself.table.modules.localize.bind(\"pagination|page_size\", function (value) {\r\n\t\t\t\tself.pageSizeSelect.setAttribute(\"aria-label\", value);\r\n\t\t\t\tself.pageSizeSelect.setAttribute(\"title\", value);\r\n\t\t\t\tpageSelectLabel.innerHTML = value;\r\n\t\t\t});\r\n\r\n\t\t\tself.element.appendChild(pageSelectLabel);\r\n\t\t\tself.element.appendChild(self.pageSizeSelect);\r\n\r\n\t\t\tself.pageSizeSelect.addEventListener(\"change\", function (e) {\r\n\t\t\t\tself.setPageSize(self.pageSizeSelect.value == \"true\" ? true : self.pageSizeSelect.value);\r\n\t\t\t\tself.setPage(1).then(function () {}).catch(function () {});\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t//append to DOM\r\n\t\tself.element.appendChild(self.firstBut);\r\n\t\tself.element.appendChild(self.prevBut);\r\n\t\tself.element.appendChild(self.pagesElement);\r\n\t\tself.element.appendChild(self.nextBut);\r\n\t\tself.element.appendChild(self.lastBut);\r\n\r\n\t\tif (!self.table.options.paginationElement && !hidden) {\r\n\t\t\tself.table.footerManager.append(self.element, self);\r\n\t\t}\r\n\r\n\t\t//set default values\r\n\t\tself.mode = self.table.options.pagination;\r\n\r\n\t\tif (self.table.options.paginationSize) {\r\n\t\t\tself.size = self.table.options.paginationSize;\r\n\t\t} else {\r\n\t\t\ttestElRow = document.createElement(\"div\");\r\n\t\t\ttestElRow.classList.add(\"tabulator-row\");\r\n\t\t\ttestElRow.style.visibility = hidden;\r\n\r\n\t\t\ttestElCell = document.createElement(\"div\");\r\n\t\t\ttestElCell.classList.add(\"tabulator-cell\");\r\n\t\t\ttestElCell.innerHTML = \"Page Row Test\";\r\n\r\n\t\t\ttestElRow.appendChild(testElCell);\r\n\r\n\t\t\tself.table.rowManager.getTableElement().appendChild(testElRow);\r\n\r\n\t\t\tself.size = Math.floor(self.table.rowManager.getElement().clientHeight / testElRow.offsetHeight);\r\n\r\n\t\t\tself.table.rowManager.getTableElement().removeChild(testElRow);\r\n\t\t}\r\n\r\n\t\t// self.page = self.table.options.paginationInitialPage || 1;\r\n\t\tself.count = self.table.options.paginationButtonCount;\r\n\r\n\t\tself.generatePageSizeSelectList();\r\n\t};\r\n\r\n\tPage.prototype.initializeProgressive = function (mode) {\r\n\t\tthis.initialize(true);\r\n\t\tthis.mode = \"progressive_\" + mode;\r\n\t\tthis.progressiveLoad = true;\r\n\t};\r\n\r\n\tPage.prototype.setDisplayIndex = function (index) {\r\n\t\tthis.displayIndex = index;\r\n\t};\r\n\r\n\tPage.prototype.getDisplayIndex = function () {\r\n\t\treturn this.displayIndex;\r\n\t};\r\n\r\n\t//calculate maximum page from number of rows\r\n\tPage.prototype.setMaxRows = function (rowCount) {\r\n\t\tif (!rowCount) {\r\n\t\t\tthis.max = 1;\r\n\t\t} else {\r\n\t\t\tthis.max = this.size === true ? 1 : Math.ceil(rowCount / this.size);\r\n\t\t}\r\n\r\n\t\tif (this.page > this.max) {\r\n\t\t\tthis.page = this.max;\r\n\t\t}\r\n\t};\r\n\r\n\t//reset to first page without triggering action\r\n\tPage.prototype.reset = function (force, columnsChanged) {\r\n\t\tif (this.mode == \"local\" || force) {\r\n\t\t\tthis.page = 1;\r\n\t\t}\r\n\r\n\t\tif (columnsChanged) {\r\n\t\t\tthis.initialLoad = true;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t};\r\n\r\n\t//set the maxmum page\r\n\tPage.prototype.setMaxPage = function (max) {\r\n\r\n\t\tmax = parseInt(max);\r\n\r\n\t\tthis.max = max || 1;\r\n\r\n\t\tif (this.page > this.max) {\r\n\t\t\tthis.page = this.max;\r\n\t\t\tthis.trigger();\r\n\t\t}\r\n\t};\r\n\r\n\t//set current page number\r\n\tPage.prototype.setPage = function (page) {\r\n\t\tvar _this77 = this;\r\n\r\n\t\tvar self = this;\r\n\r\n\t\tswitch (page) {\r\n\t\t\tcase \"first\":\r\n\t\t\t\treturn this.setPage(1);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"prev\":\r\n\t\t\t\treturn this.previousPage();\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"next\":\r\n\t\t\t\treturn this.nextPage();\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"last\":\r\n\t\t\t\treturn this.setPage(this.max);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\tpage = parseInt(page);\r\n\r\n\t\t\tif (page > 0 && page <= _this77.max || _this77.mode !== \"local\") {\r\n\t\t\t\t_this77.page = page;\r\n\t\t\t\t_this77.trigger().then(function () {\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t}).catch(function () {\r\n\t\t\t\t\treject();\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (self.table.options.persistence && self.table.modExists(\"persistence\", true) && self.table.modules.persistence.config.page) {\r\n\t\t\t\t\tself.table.modules.persistence.save(\"page\");\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn(\"Pagination Error - Requested page is out of range of 1 - \" + _this77.max + \":\", page);\r\n\t\t\t\treject();\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tPage.prototype.setPageToRow = function (row) {\r\n\t\tvar _this78 = this;\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\tvar rows = _this78.table.rowManager.getDisplayRows(_this78.displayIndex - 1);\r\n\t\t\tvar index = rows.indexOf(row);\r\n\r\n\t\t\tif (index > -1) {\r\n\t\t\t\tvar page = _this78.size === true ? 1 : Math.ceil((index + 1) / _this78.size);\r\n\r\n\t\t\t\t_this78.setPage(page).then(function () {\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t}).catch(function () {\r\n\t\t\t\t\treject();\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn(\"Pagination Error - Requested row is not visible\");\r\n\t\t\t\treject();\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tPage.prototype.setPageSize = function (size) {\r\n\t\tif (size !== true) {\r\n\t\t\tsize = parseInt(size);\r\n\t\t}\r\n\r\n\t\tif (size > 0) {\r\n\t\t\tthis.size = size;\r\n\t\t}\r\n\r\n\t\tif (this.pageSizeSelect) {\r\n\t\t\t// this.pageSizeSelect.value = size;\r\n\t\t\tthis.generatePageSizeSelectList();\r\n\t\t}\r\n\r\n\t\tif (this.table.options.persistence && this.table.modExists(\"persistence\", true) && this.table.modules.persistence.config.page) {\r\n\t\t\tthis.table.modules.persistence.save(\"page\");\r\n\t\t}\r\n\t};\r\n\r\n\t//setup the pagination buttons\r\n\tPage.prototype._setPageButtons = function () {\r\n\t\tvar self = this;\r\n\r\n\t\tvar leftSize = Math.floor((this.count - 1) / 2);\r\n\t\tvar rightSize = Math.ceil((this.count - 1) / 2);\r\n\t\tvar min = this.max - this.page + leftSize + 1 < this.count ? this.max - this.count + 1 : Math.max(this.page - leftSize, 1);\r\n\t\tvar max = this.page <= rightSize ? Math.min(this.count, this.max) : Math.min(this.page + rightSize, this.max);\r\n\r\n\t\twhile (self.pagesElement.firstChild) {\r\n\t\t\tself.pagesElement.removeChild(self.pagesElement.firstChild);\r\n\t\t}if (self.page == 1) {\r\n\t\t\tself.firstBut.disabled = true;\r\n\t\t\tself.prevBut.disabled = true;\r\n\t\t} else {\r\n\t\t\tself.firstBut.disabled = false;\r\n\t\t\tself.prevBut.disabled = false;\r\n\t\t}\r\n\r\n\t\tif (self.page == self.max) {\r\n\t\t\tself.lastBut.disabled = true;\r\n\t\t\tself.nextBut.disabled = true;\r\n\t\t} else {\r\n\t\t\tself.lastBut.disabled = false;\r\n\t\t\tself.nextBut.disabled = false;\r\n\t\t}\r\n\r\n\t\tfor (var _i15 = min; _i15 <= max; _i15++) {\r\n\t\t\tif (_i15 > 0 && _i15 <= self.max) {\r\n\t\t\t\tself.pagesElement.appendChild(self._generatePageButton(_i15));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.footerRedraw();\r\n\t};\r\n\r\n\tPage.prototype._generatePageButton = function (page) {\r\n\t\tvar self = this,\r\n\t\t    button = document.createElement(\"button\");\r\n\r\n\t\tbutton.classList.add(\"tabulator-page\");\r\n\t\tif (page == self.page) {\r\n\t\t\tbutton.classList.add(\"active\");\r\n\t\t}\r\n\r\n\t\tbutton.setAttribute(\"type\", \"button\");\r\n\t\tbutton.setAttribute(\"role\", \"button\");\r\n\r\n\t\tself.table.modules.localize.bind(\"pagination|page_title\", function (value) {\r\n\t\t\tbutton.setAttribute(\"aria-label\", value + \" \" + page);\r\n\t\t\tbutton.setAttribute(\"title\", value + \" \" + page);\r\n\t\t});\r\n\r\n\t\tbutton.setAttribute(\"data-page\", page);\r\n\t\tbutton.textContent = page;\r\n\r\n\t\tbutton.addEventListener(\"click\", function (e) {\r\n\t\t\tself.setPage(page).then(function () {}).catch(function () {});\r\n\t\t});\r\n\r\n\t\treturn button;\r\n\t};\r\n\r\n\t//previous page\r\n\tPage.prototype.previousPage = function () {\r\n\t\tvar _this79 = this;\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\t\t\tif (_this79.page > 1) {\r\n\t\t\t\t_this79.page--;\r\n\t\t\t\t_this79.trigger().then(function () {\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t}).catch(function () {\r\n\t\t\t\t\treject();\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (_this79.table.options.persistence && _this79.table.modExists(\"persistence\", true) && _this79.table.modules.persistence.config.page) {\r\n\t\t\t\t\t_this79.table.modules.persistence.save(\"page\");\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn(\"Pagination Error - Previous page would be less than page 1:\", 0);\r\n\t\t\t\treject();\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t//next page\r\n\tPage.prototype.nextPage = function () {\r\n\t\tvar _this80 = this;\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\t\t\tif (_this80.page < _this80.max) {\r\n\t\t\t\t_this80.page++;\r\n\t\t\t\t_this80.trigger().then(function () {\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t}).catch(function () {\r\n\t\t\t\t\treject();\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (_this80.table.options.persistence && _this80.table.modExists(\"persistence\", true) && _this80.table.modules.persistence.config.page) {\r\n\t\t\t\t\t_this80.table.modules.persistence.save(\"page\");\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (!_this80.progressiveLoad) {\r\n\t\t\t\t\tconsole.warn(\"Pagination Error - Next page would be greater than maximum page of \" + _this80.max + \":\", _this80.max + 1);\r\n\t\t\t\t}\r\n\t\t\t\treject();\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t//return current page number\r\n\tPage.prototype.getPage = function () {\r\n\t\treturn this.page;\r\n\t};\r\n\r\n\t//return max page number\r\n\tPage.prototype.getPageMax = function () {\r\n\t\treturn this.max;\r\n\t};\r\n\r\n\tPage.prototype.getPageSize = function (size) {\r\n\t\treturn this.size;\r\n\t};\r\n\r\n\tPage.prototype.getMode = function () {\r\n\t\treturn this.mode;\r\n\t};\r\n\r\n\t//return appropriate rows for current page\r\n\tPage.prototype.getRows = function (data) {\r\n\t\tvar output, start, end;\r\n\r\n\t\tif (this.mode == \"local\") {\r\n\t\t\toutput = [];\r\n\r\n\t\t\tif (this.size === true) {\r\n\t\t\t\tstart = 0;\r\n\t\t\t\tend = data.length;\r\n\t\t\t} else {\r\n\t\t\t\tstart = this.size * (this.page - 1);\r\n\t\t\t\tend = start + parseInt(this.size);\r\n\t\t\t}\r\n\r\n\t\t\tthis._setPageButtons();\r\n\r\n\t\t\tfor (var _i16 = start; _i16 < end; _i16++) {\r\n\t\t\t\tif (data[_i16]) {\r\n\t\t\t\t\toutput.push(data[_i16]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn output;\r\n\t\t} else {\r\n\r\n\t\t\tthis._setPageButtons();\r\n\r\n\t\t\treturn data.slice(0);\r\n\t\t}\r\n\t};\r\n\r\n\tPage.prototype.trigger = function () {\r\n\t\tvar _this81 = this;\r\n\r\n\t\tvar left;\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\tswitch (_this81.mode) {\r\n\t\t\t\tcase \"local\":\r\n\t\t\t\t\tleft = _this81.table.rowManager.scrollLeft;\r\n\r\n\t\t\t\t\t_this81.table.rowManager.refreshActiveData(\"page\");\r\n\t\t\t\t\t_this81.table.rowManager.scrollHorizontal(left);\r\n\r\n\t\t\t\t\t_this81.table.options.pageLoaded.call(_this81.table, _this81.getPage());\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"remote\":\r\n\t\t\t\tcase \"progressive_load\":\r\n\t\t\t\tcase \"progressive_scroll\":\r\n\t\t\t\t\t_this81.table.modules.ajax.blockActiveRequest();\r\n\t\t\t\t\t_this81._getRemotePage().then(function () {\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t}).catch(function () {\r\n\t\t\t\t\t\treject();\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tconsole.warn(\"Pagination Error - no such pagination mode:\", _this81.mode);\r\n\t\t\t\t\treject();\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tPage.prototype._getRemotePage = function () {\r\n\t\tvar _this82 = this;\r\n\r\n\t\tvar self = this,\r\n\t\t    oldParams,\r\n\t\t    pageParams;\r\n\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\r\n\t\t\tif (!self.table.modExists(\"ajax\", true)) {\r\n\t\t\t\treject();\r\n\t\t\t}\r\n\r\n\t\t\t//record old params and restore after request has been made\r\n\t\t\toldParams = Tabulator.prototype.helpers.deepClone(self.table.modules.ajax.getParams() || {});\r\n\t\t\tpageParams = self.table.modules.ajax.getParams();\r\n\r\n\t\t\t//configure request params\r\n\t\t\tpageParams[_this82.dataSentNames.page] = self.page;\r\n\r\n\t\t\t//set page size if defined\r\n\t\t\tif (_this82.size) {\r\n\t\t\t\tpageParams[_this82.dataSentNames.size] = _this82.size;\r\n\t\t\t}\r\n\r\n\t\t\t//set sort data if defined\r\n\t\t\tif (_this82.table.options.ajaxSorting && _this82.table.modExists(\"sort\")) {\r\n\t\t\t\tvar sorters = self.table.modules.sort.getSort();\r\n\r\n\t\t\t\tsorters.forEach(function (item) {\r\n\t\t\t\t\tdelete item.column;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tpageParams[_this82.dataSentNames.sorters] = sorters;\r\n\t\t\t}\r\n\r\n\t\t\t//set filter data if defined\r\n\t\t\tif (_this82.table.options.ajaxFiltering && _this82.table.modExists(\"filter\")) {\r\n\t\t\t\tvar filters = self.table.modules.filter.getFilters(true, true);\r\n\t\t\t\tpageParams[_this82.dataSentNames.filters] = filters;\r\n\t\t\t}\r\n\r\n\t\t\tself.table.modules.ajax.setParams(pageParams);\r\n\r\n\t\t\tself.table.modules.ajax.sendRequest(_this82.progressiveLoad).then(function (data) {\r\n\t\t\t\tself._parseRemoteData(data);\r\n\t\t\t\tresolve();\r\n\t\t\t}).catch(function (e) {\r\n\t\t\t\treject();\r\n\t\t\t});\r\n\r\n\t\t\tself.table.modules.ajax.setParams(oldParams);\r\n\t\t});\r\n\t};\r\n\r\n\tPage.prototype._parseRemoteData = function (data) {\r\n\t\tvar self = this,\r\n\t\t    left,\r\n\t\t    data,\r\n\t\t    margin;\r\n\r\n\t\tif (typeof data[this.dataReceivedNames.last_page] === \"undefined\") {\r\n\t\t\tconsole.warn(\"Remote Pagination Error - Server response missing '\" + this.dataReceivedNames.last_page + \"' property\");\r\n\t\t}\r\n\r\n\t\tif (data[this.dataReceivedNames.data]) {\r\n\t\t\tthis.max = parseInt(data[this.dataReceivedNames.last_page]) || 1;\r\n\r\n\t\t\tif (this.progressiveLoad) {\r\n\t\t\t\tswitch (this.mode) {\r\n\t\t\t\t\tcase \"progressive_load\":\r\n\r\n\t\t\t\t\t\tif (this.page == 1) {\r\n\t\t\t\t\t\t\tthis.table.rowManager.setData(data[this.dataReceivedNames.data], false, this.initialLoad && this.page == 1);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.table.rowManager.addRows(data[this.dataReceivedNames.data]);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (this.page < this.max) {\r\n\t\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\t\tself.nextPage().then(function () {}).catch(function () {});\r\n\t\t\t\t\t\t\t}, self.table.options.ajaxProgressiveLoadDelay);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"progressive_scroll\":\r\n\t\t\t\t\t\tdata = this.table.rowManager.getData().concat(data[this.dataReceivedNames.data]);\r\n\r\n\t\t\t\t\t\tthis.table.rowManager.setData(data, true, this.initialLoad && this.page == 1);\r\n\r\n\t\t\t\t\t\tmargin = this.table.options.ajaxProgressiveLoadScrollMargin || this.table.rowManager.element.clientHeight * 2;\r\n\r\n\t\t\t\t\t\tif (self.table.rowManager.element.scrollHeight <= self.table.rowManager.element.clientHeight + margin) {\r\n\t\t\t\t\t\t\tself.nextPage().then(function () {}).catch(function () {});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tleft = this.table.rowManager.scrollLeft;\r\n\r\n\t\t\t\tthis.table.rowManager.setData(data[this.dataReceivedNames.data], false, this.initialLoad && this.page == 1);\r\n\r\n\t\t\t\tthis.table.rowManager.scrollHorizontal(left);\r\n\r\n\t\t\t\tthis.table.columnManager.scrollHorizontal(left);\r\n\r\n\t\t\t\tthis.table.options.pageLoaded.call(this.table, this.getPage());\r\n\t\t\t}\r\n\r\n\t\t\tthis.initialLoad = false;\r\n\t\t} else {\r\n\t\t\tconsole.warn(\"Remote Pagination Error - Server response missing '\" + this.dataReceivedNames.data + \"' property\");\r\n\t\t}\r\n\t};\r\n\r\n\t//handle the footer element being redrawn\r\n\tPage.prototype.footerRedraw = function () {\r\n\t\tvar footer = this.table.footerManager.element;\r\n\r\n\t\tif (Math.ceil(footer.clientWidth) - footer.scrollWidth < 0) {\r\n\t\t\tthis.pagesElement.style.display = 'none';\r\n\t\t} else {\r\n\t\t\tthis.pagesElement.style.display = '';\r\n\r\n\t\t\tif (Math.ceil(footer.clientWidth) - footer.scrollWidth < 0) {\r\n\t\t\t\tthis.pagesElement.style.display = 'none';\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//set the paramter names for pagination requests\r\n\tPage.prototype.paginationDataSentNames = {\r\n\t\t\"page\": \"page\",\r\n\t\t\"size\": \"size\",\r\n\t\t\"sorters\": \"sorters\",\r\n\t\t// \"sort_dir\":\"sort_dir\",\r\n\t\t\"filters\": \"filters\"\r\n\t\t// \"filter_value\":\"filter_value\",\r\n\t\t// \"filter_type\":\"filter_type\",\r\n\t};\r\n\r\n\t//set the property names for pagination responses\r\n\tPage.prototype.paginationDataReceivedNames = {\r\n\t\t\"current_page\": \"current_page\",\r\n\t\t\"last_page\": \"last_page\",\r\n\t\t\"data\": \"data\"\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"page\", Page);\r\n\r\n\tvar Persistence = function Persistence(table) {\r\n\t\tthis.table = table; //hold Tabulator object\r\n\t\tthis.mode = \"\";\r\n\t\tthis.id = \"\";\r\n\t\t// this.persistProps = [\"field\", \"width\", \"visible\"];\r\n\t\tthis.defWatcherBlock = false;\r\n\t\tthis.config = {};\r\n\t\tthis.readFunc = false;\r\n\t\tthis.writeFunc = false;\r\n\t};\r\n\r\n\t// Test for whether localStorage is available for use.\r\n\tPersistence.prototype.localStorageTest = function () {\r\n\t\tvar testKey = \"_tabulator_test\";\r\n\r\n\t\ttry {\r\n\t\t\twindow.localStorage.setItem(testKey, testKey);\r\n\t\t\twindow.localStorage.removeItem(testKey);\r\n\t\t\treturn true;\r\n\t\t} catch (e) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\t//setup parameters\r\n\tPersistence.prototype.initialize = function () {\r\n\t\t//determine persistent layout storage type\r\n\r\n\t\tvar mode = this.table.options.persistenceMode,\r\n\t\t    id = this.table.options.persistenceID,\r\n\t\t    retreivedData;\r\n\r\n\t\tthis.mode = mode !== true ? mode : this.localStorageTest() ? \"local\" : \"cookie\";\r\n\r\n\t\tif (this.table.options.persistenceReaderFunc) {\r\n\t\t\tif (typeof this.table.options.persistenceReaderFunc === \"function\") {\r\n\t\t\t\tthis.readFunc = this.table.options.persistenceReaderFunc;\r\n\t\t\t} else {\r\n\t\t\t\tif (this.readers[this.table.options.persistenceReaderFunc]) {\r\n\t\t\t\t\tthis.readFunc = this.readers[this.table.options.persistenceReaderFunc];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.warn(\"Persistence Read Error - invalid reader set\", this.table.options.persistenceReaderFunc);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (this.readers[this.mode]) {\r\n\t\t\t\tthis.readFunc = this.readers[this.mode];\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn(\"Persistence Read Error - invalid reader set\", this.mode);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.table.options.persistenceWriterFunc) {\r\n\t\t\tif (typeof this.table.options.persistenceWriterFunc === \"function\") {\r\n\t\t\t\tthis.writeFunc = this.table.options.persistenceWriterFunc;\r\n\t\t\t} else {\r\n\t\t\t\tif (this.readers[this.table.options.persistenceWriterFunc]) {\r\n\t\t\t\t\tthis.writeFunc = this.readers[this.table.options.persistenceWriterFunc];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.warn(\"Persistence Write Error - invalid reader set\", this.table.options.persistenceWriterFunc);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (this.writers[this.mode]) {\r\n\t\t\t\tthis.writeFunc = this.writers[this.mode];\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn(\"Persistence Write Error - invalid writer set\", this.mode);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//set storage tag\r\n\t\tthis.id = \"tabulator-\" + (id || this.table.element.getAttribute(\"id\") || \"\");\r\n\r\n\t\tthis.config = {\r\n\t\t\tsort: this.table.options.persistence === true || this.table.options.persistence.sort,\r\n\t\t\tfilter: this.table.options.persistence === true || this.table.options.persistence.filter,\r\n\t\t\tgroup: this.table.options.persistence === true || this.table.options.persistence.group,\r\n\t\t\tpage: this.table.options.persistence === true || this.table.options.persistence.page,\r\n\t\t\tcolumns: this.table.options.persistence === true ? [\"title\", \"width\", \"visible\"] : this.table.options.persistence.columns\r\n\t\t};\r\n\r\n\t\t//load pagination data if needed\r\n\t\tif (this.config.page) {\r\n\t\t\tretreivedData = this.retreiveData(\"page\");\r\n\r\n\t\t\tif (retreivedData) {\r\n\t\t\t\tif (typeof retreivedData.paginationSize !== \"undefined\" && (this.config.page === true || this.config.page.size)) {\r\n\t\t\t\t\tthis.table.options.paginationSize = retreivedData.paginationSize;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (typeof retreivedData.paginationInitialPage !== \"undefined\" && (this.config.page === true || this.config.page.page)) {\r\n\t\t\t\t\tthis.table.options.paginationInitialPage = retreivedData.paginationInitialPage;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//load group data if needed\r\n\t\tif (this.config.group) {\r\n\t\t\tretreivedData = this.retreiveData(\"group\");\r\n\r\n\t\t\tif (retreivedData) {\r\n\t\t\t\tif (typeof retreivedData.groupBy !== \"undefined\" && (this.config.group === true || this.config.group.groupBy)) {\r\n\t\t\t\t\tthis.table.options.groupBy = retreivedData.groupBy;\r\n\t\t\t\t}\r\n\t\t\t\tif (typeof retreivedData.groupStartOpen !== \"undefined\" && (this.config.group === true || this.config.group.groupStartOpen)) {\r\n\t\t\t\t\tthis.table.options.groupStartOpen = retreivedData.groupStartOpen;\r\n\t\t\t\t}\r\n\t\t\t\tif (typeof retreivedData.groupHeader !== \"undefined\" && (this.config.group === true || this.config.group.groupHeader)) {\r\n\t\t\t\t\tthis.table.options.groupHeader = retreivedData.groupHeader;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.config.columns) {\r\n\t\t\tthis.table.options.columns = this.load(\"columns\", this.table.options.columns);\r\n\t\t}\r\n\t};\r\n\r\n\tPersistence.prototype.initializeColumn = function (column) {\r\n\t\tvar self = this,\r\n\t\t    def,\r\n\t\t    keys;\r\n\r\n\t\tif (this.config.columns) {\r\n\t\t\tthis.defWatcherBlock = true;\r\n\r\n\t\t\tdef = column.getDefinition();\r\n\r\n\t\t\tkeys = this.config.columns === true ? Object.keys(def) : this.config.columns;\r\n\r\n\t\t\tkeys.forEach(function (key) {\r\n\t\t\t\tvar props = Object.getOwnPropertyDescriptor(def, key);\r\n\t\t\t\tvar value = def[key];\r\n\t\t\t\tif (props) {\r\n\t\t\t\t\tObject.defineProperty(def, key, {\r\n\t\t\t\t\t\tset: function set(newValue) {\r\n\t\t\t\t\t\t\tvalue = newValue;\r\n\r\n\t\t\t\t\t\t\tif (!self.defWatcherBlock) {\r\n\t\t\t\t\t\t\t\tself.save(\"columns\");\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (props.set) {\r\n\t\t\t\t\t\t\t\tprops.set(newValue);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tget: function get() {\r\n\t\t\t\t\t\t\tif (props.get) {\r\n\t\t\t\t\t\t\t\tprops.get();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn value;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.defWatcherBlock = false;\r\n\t\t}\r\n\t};\r\n\r\n\t//load saved definitions\r\n\tPersistence.prototype.load = function (type, current) {\r\n\t\tvar data = this.retreiveData(type);\r\n\r\n\t\tif (current) {\r\n\t\t\tdata = data ? this.mergeDefinition(current, data) : current;\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t};\r\n\r\n\t//retreive data from memory\r\n\tPersistence.prototype.retreiveData = function (type) {\r\n\t\treturn this.readFunc ? this.readFunc(this.id, type) : false;\r\n\t};\r\n\r\n\t//merge old and new column definitions\r\n\tPersistence.prototype.mergeDefinition = function (oldCols, newCols) {\r\n\t\tvar self = this,\r\n\t\t    output = [];\r\n\r\n\t\t// oldCols = oldCols || [];\r\n\t\tnewCols = newCols || [];\r\n\r\n\t\tnewCols.forEach(function (column, to) {\r\n\r\n\t\t\tvar from = self._findColumn(oldCols, column),\r\n\t\t\t    keys;\r\n\r\n\t\t\tif (from) {\r\n\r\n\t\t\t\tif (self.config.columns === true || self.config.columns == undefined) {\r\n\t\t\t\t\tkeys = Object.keys(from);\r\n\t\t\t\t\tkeys.push(\"width\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tkeys = self.config.columns;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tkeys.forEach(function (key) {\r\n\t\t\t\t\tif (key !== \"columns\" && typeof column[key] !== \"undefined\") {\r\n\t\t\t\t\t\tfrom[key] = column[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (from.columns) {\r\n\t\t\t\t\tfrom.columns = self.mergeDefinition(from.columns, column.columns);\r\n\t\t\t\t}\r\n\r\n\t\t\t\toutput.push(from);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\toldCols.forEach(function (column, i) {\r\n\t\t\tvar from = self._findColumn(newCols, column);\r\n\t\t\tif (!from) {\r\n\t\t\t\tif (output.length > i) {\r\n\t\t\t\t\toutput.splice(i, 0, column);\r\n\t\t\t\t} else {\r\n\t\t\t\t\toutput.push(column);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\t//find matching columns\r\n\tPersistence.prototype._findColumn = function (columns, subject) {\r\n\t\tvar type = subject.columns ? \"group\" : subject.field ? \"field\" : \"object\";\r\n\r\n\t\treturn columns.find(function (col) {\r\n\t\t\tswitch (type) {\r\n\t\t\t\tcase \"group\":\r\n\t\t\t\t\treturn col.title === subject.title && col.columns.length === subject.columns.length;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"field\":\r\n\t\t\t\t\treturn col.field === subject.field;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"object\":\r\n\t\t\t\t\treturn col === subject;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t//save data\r\n\tPersistence.prototype.save = function (type) {\r\n\t\tvar data = {};\r\n\r\n\t\tswitch (type) {\r\n\t\t\tcase \"columns\":\r\n\t\t\t\tdata = this.parseColumns(this.table.columnManager.getColumns());\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"filter\":\r\n\t\t\t\tdata = this.table.modules.filter.getFilters();\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"sort\":\r\n\t\t\t\tdata = this.validateSorters(this.table.modules.sort.getSort());\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"group\":\r\n\t\t\t\tdata = this.getGroupConfig();\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"page\":\r\n\t\t\t\tdata = this.getPageConfig();\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tif (this.writeFunc) {\r\n\t\t\tthis.writeFunc(this.id, type, data);\r\n\t\t}\r\n\t};\r\n\r\n\t//ensure sorters contain no function data\r\n\tPersistence.prototype.validateSorters = function (data) {\r\n\t\tdata.forEach(function (item) {\r\n\t\t\titem.column = item.field;\r\n\t\t\tdelete item.field;\r\n\t\t});\r\n\r\n\t\treturn data;\r\n\t};\r\n\r\n\tPersistence.prototype.getGroupConfig = function () {\r\n\t\tvar data = {};\r\n\r\n\t\tif (this.config.group) {\r\n\t\t\tif (this.config.group === true || this.config.group.groupBy) {\r\n\t\t\t\tdata.groupBy = this.table.options.groupBy;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.config.group === true || this.config.group.groupStartOpen) {\r\n\t\t\t\tdata.groupStartOpen = this.table.options.groupStartOpen;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.config.group === true || this.config.group.groupHeader) {\r\n\t\t\t\tdata.groupHeader = this.table.options.groupHeader;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t};\r\n\r\n\tPersistence.prototype.getPageConfig = function () {\r\n\t\tvar data = {};\r\n\r\n\t\tif (this.config.page) {\r\n\t\t\tif (this.config.page === true || this.config.page.size) {\r\n\t\t\t\tdata.paginationSize = this.table.modules.page.getPageSize();\r\n\t\t\t}\r\n\r\n\t\t\tif (this.config.page === true || this.config.page.page) {\r\n\t\t\t\tdata.paginationInitialPage = this.table.modules.page.getPage();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t};\r\n\r\n\t//parse columns for data to store\r\n\tPersistence.prototype.parseColumns = function (columns) {\r\n\t\tvar self = this,\r\n\t\t    definitions = [],\r\n\t\t    excludedKeys = [\"headerContextMenu\", \"headerMenu\", \"contextMenu\", \"clickMenu\"];\r\n\r\n\t\tcolumns.forEach(function (column) {\r\n\t\t\tvar defStore = {},\r\n\t\t\t    colDef = column.getDefinition(),\r\n\t\t\t    keys;\r\n\r\n\t\t\tif (column.isGroup) {\r\n\t\t\t\tdefStore.title = colDef.title;\r\n\t\t\t\tdefStore.columns = self.parseColumns(column.getColumns());\r\n\t\t\t} else {\r\n\t\t\t\tdefStore.field = column.getField();\r\n\r\n\t\t\t\tif (self.config.columns === true || self.config.columns == undefined) {\r\n\t\t\t\t\tkeys = Object.keys(colDef);\r\n\t\t\t\t\tkeys.push(\"width\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tkeys = self.config.columns;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tkeys.forEach(function (key) {\r\n\r\n\t\t\t\t\tswitch (key) {\r\n\t\t\t\t\t\tcase \"width\":\r\n\t\t\t\t\t\t\tdefStore.width = column.getWidth();\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"visible\":\r\n\t\t\t\t\t\t\tdefStore.visible = column.visible;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tif (typeof colDef[key] !== \"function\" && excludedKeys.indexOf(key) === -1) {\r\n\t\t\t\t\t\t\t\tdefStore[key] = colDef[key];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tdefinitions.push(defStore);\r\n\t\t});\r\n\r\n\t\treturn definitions;\r\n\t};\r\n\r\n\t// read peristence information from storage\r\n\tPersistence.prototype.readers = {\r\n\t\tlocal: function local(id, type) {\r\n\t\t\tvar data = localStorage.getItem(id + \"-\" + type);\r\n\r\n\t\t\treturn data ? JSON.parse(data) : false;\r\n\t\t},\r\n\t\tcookie: function cookie(id, type) {\r\n\t\t\tvar cookie = document.cookie,\r\n\t\t\t    key = id + \"-\" + type,\r\n\t\t\t    cookiePos = cookie.indexOf(key + \"=\"),\r\n\t\t\t    end,\r\n\t\t\t    data;\r\n\r\n\t\t\t//if cookie exists, decode and load column data into tabulator\r\n\t\t\tif (cookiePos > -1) {\r\n\t\t\t\tcookie = cookie.substr(cookiePos);\r\n\r\n\t\t\t\tend = cookie.indexOf(\";\");\r\n\r\n\t\t\t\tif (end > -1) {\r\n\t\t\t\t\tcookie = cookie.substr(0, end);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdata = cookie.replace(key + \"=\", \"\");\r\n\t\t\t}\r\n\r\n\t\t\treturn data ? JSON.parse(data) : false;\r\n\t\t}\r\n\t};\r\n\r\n\t//write persistence information to storage\r\n\tPersistence.prototype.writers = {\r\n\t\tlocal: function local(id, type, data) {\r\n\t\t\tlocalStorage.setItem(id + \"-\" + type, JSON.stringify(data));\r\n\t\t},\r\n\t\tcookie: function cookie(id, type, data) {\r\n\t\t\tvar expireDate = new Date();\r\n\r\n\t\t\texpireDate.setDate(expireDate.getDate() + 10000);\r\n\r\n\t\t\tdocument.cookie = id + \"-\" + type + \"=\" + JSON.stringify(data) + \"; expires=\" + expireDate.toUTCString();\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"persistence\", Persistence);\r\n\r\n\tvar Print = function Print(table) {\r\n\t\tthis.table = table; //hold Tabulator object\r\n\t\tthis.element = false;\r\n\t\tthis.manualBlock = false;\r\n\t};\r\n\r\n\tPrint.prototype.initialize = function () {\r\n\t\twindow.addEventListener(\"beforeprint\", this.replaceTable.bind(this));\r\n\t\twindow.addEventListener(\"afterprint\", this.cleanup.bind(this));\r\n\t};\r\n\r\n\tPrint.prototype.replaceTable = function () {\r\n\t\tif (!this.manualBlock) {\r\n\t\t\tthis.element = document.createElement(\"div\");\r\n\t\t\tthis.element.classList.add(\"tabulator-print-table\");\r\n\r\n\t\t\tthis.element.appendChild(this.table.modules.export.genereateTable(this.table.options.printConfig, this.table.options.printStyled, this.table.options.printRowRange, \"print\"));\r\n\r\n\t\t\tthis.table.element.style.display = \"none\";\r\n\r\n\t\t\tthis.table.element.parentNode.insertBefore(this.element, this.table.element);\r\n\t\t}\r\n\t};\r\n\r\n\tPrint.prototype.cleanup = function () {\r\n\t\tdocument.body.classList.remove(\"tabulator-print-fullscreen-hide\");\r\n\r\n\t\tif (this.element && this.element.parentNode) {\r\n\t\t\tthis.element.parentNode.removeChild(this.element);\r\n\t\t\tthis.table.element.style.display = \"\";\r\n\t\t}\r\n\t};\r\n\r\n\tPrint.prototype.printFullscreen = function (visible, style, config) {\r\n\t\tvar scrollX = window.scrollX,\r\n\t\t    scrollY = window.scrollY,\r\n\t\t    headerEl = document.createElement(\"div\"),\r\n\t\t    footerEl = document.createElement(\"div\"),\r\n\t\t    tableEl = this.table.modules.export.genereateTable(typeof config != \"undefined\" ? config : this.table.options.printConfig, typeof style != \"undefined\" ? style : this.table.options.printStyled, visible, \"print\"),\r\n\t\t    headerContent,\r\n\t\t    footerContent;\r\n\r\n\t\tthis.manualBlock = true;\r\n\r\n\t\tthis.element = document.createElement(\"div\");\r\n\t\tthis.element.classList.add(\"tabulator-print-fullscreen\");\r\n\r\n\t\tif (this.table.options.printHeader) {\r\n\t\t\theaderEl.classList.add(\"tabulator-print-header\");\r\n\r\n\t\t\theaderContent = typeof this.table.options.printHeader == \"function\" ? this.table.options.printHeader.call(this.table) : this.table.options.printHeader;\r\n\r\n\t\t\tif (typeof headerContent == \"string\") {\r\n\t\t\t\theaderEl.innerHTML = headerContent;\r\n\t\t\t} else {\r\n\t\t\t\theaderEl.appendChild(headerContent);\r\n\t\t\t}\r\n\r\n\t\t\tthis.element.appendChild(headerEl);\r\n\t\t}\r\n\r\n\t\tthis.element.appendChild(tableEl);\r\n\r\n\t\tif (this.table.options.printFooter) {\r\n\t\t\tfooterEl.classList.add(\"tabulator-print-footer\");\r\n\r\n\t\t\tfooterContent = typeof this.table.options.printFooter == \"function\" ? this.table.options.printFooter.call(this.table) : this.table.options.printFooter;\r\n\r\n\t\t\tif (typeof footerContent == \"string\") {\r\n\t\t\t\tfooterEl.innerHTML = footerContent;\r\n\t\t\t} else {\r\n\t\t\t\tfooterEl.appendChild(footerContent);\r\n\t\t\t}\r\n\r\n\t\t\tthis.element.appendChild(footerEl);\r\n\t\t}\r\n\r\n\t\tdocument.body.classList.add(\"tabulator-print-fullscreen-hide\");\r\n\t\tdocument.body.appendChild(this.element);\r\n\r\n\t\tif (this.table.options.printFormatter) {\r\n\t\t\tthis.table.options.printFormatter(this.element, tableEl);\r\n\t\t}\r\n\r\n\t\twindow.print();\r\n\r\n\t\tthis.cleanup();\r\n\r\n\t\twindow.scrollTo(scrollX, scrollY);\r\n\r\n\t\tthis.manualBlock = false;\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"print\", Print);\r\n\tvar ReactiveData = function ReactiveData(table) {\r\n\t\tthis.table = table; //hold Tabulator object\r\n\t\tthis.data = false;\r\n\t\tthis.blocked = false; //block reactivity while performing update\r\n\t\tthis.origFuncs = {}; // hold original data array functions to allow replacement after data is done with\r\n\t\tthis.currentVersion = 0;\r\n\t};\r\n\r\n\tReactiveData.prototype.watchData = function (data) {\r\n\t\tvar self = this,\r\n\t\t    pushFunc,\r\n\t\t    version;\r\n\r\n\t\tthis.currentVersion++;\r\n\r\n\t\tversion = this.currentVersion;\r\n\r\n\t\tself.unwatchData();\r\n\r\n\t\tself.data = data;\r\n\r\n\t\t//override array push function\r\n\t\tself.origFuncs.push = data.push;\r\n\r\n\t\tObject.defineProperty(self.data, \"push\", {\r\n\t\t\tenumerable: false,\r\n\t\t\tconfigurable: true,\r\n\t\t\tvalue: function value() {\r\n\t\t\t\tvar args = Array.from(arguments);\r\n\r\n\t\t\t\tif (!self.blocked && version === self.currentVersion) {\r\n\t\t\t\t\targs.forEach(function (arg) {\r\n\t\t\t\t\t\tself.table.rowManager.addRowActual(arg, false);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn self.origFuncs.push.apply(data, arguments);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t//override array unshift function\r\n\t\tself.origFuncs.unshift = data.unshift;\r\n\r\n\t\tObject.defineProperty(self.data, \"unshift\", {\r\n\t\t\tenumerable: false,\r\n\t\t\tconfigurable: true,\r\n\t\t\tvalue: function value() {\r\n\t\t\t\tvar args = Array.from(arguments);\r\n\r\n\t\t\t\tif (!self.blocked && version === self.currentVersion) {\r\n\t\t\t\t\targs.forEach(function (arg) {\r\n\t\t\t\t\t\tself.table.rowManager.addRowActual(arg, true);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn self.origFuncs.unshift.apply(data, arguments);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t//override array shift function\r\n\t\tself.origFuncs.shift = data.shift;\r\n\r\n\t\tObject.defineProperty(self.data, \"shift\", {\r\n\t\t\tenumerable: false,\r\n\t\t\tconfigurable: true,\r\n\t\t\tvalue: function value() {\r\n\t\t\t\tvar row;\r\n\r\n\t\t\t\tif (!self.blocked && version === self.currentVersion) {\r\n\t\t\t\t\tif (self.data.length) {\r\n\t\t\t\t\t\trow = self.table.rowManager.getRowFromDataObject(self.data[0]);\r\n\r\n\t\t\t\t\t\tif (row) {\r\n\t\t\t\t\t\t\trow.deleteActual();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn self.origFuncs.shift.call(data);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t//override array pop function\r\n\t\tself.origFuncs.pop = data.pop;\r\n\r\n\t\tObject.defineProperty(self.data, \"pop\", {\r\n\t\t\tenumerable: false,\r\n\t\t\tconfigurable: true,\r\n\t\t\tvalue: function value() {\r\n\t\t\t\tvar row;\r\n\t\t\t\tif (!self.blocked && version === self.currentVersion) {\r\n\t\t\t\t\tif (self.data.length) {\r\n\t\t\t\t\t\trow = self.table.rowManager.getRowFromDataObject(self.data[self.data.length - 1]);\r\n\r\n\t\t\t\t\t\tif (row) {\r\n\t\t\t\t\t\t\trow.deleteActual();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn self.origFuncs.pop.call(data);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t//override array splice function\r\n\t\tself.origFuncs.splice = data.splice;\r\n\r\n\t\tObject.defineProperty(self.data, \"splice\", {\r\n\t\t\tenumerable: false,\r\n\t\t\tconfigurable: true,\r\n\t\t\tvalue: function value() {\r\n\t\t\t\tvar args = Array.from(arguments),\r\n\t\t\t\t    start = args[0] < 0 ? data.length + args[0] : args[0],\r\n\t\t\t\t    end = args[1],\r\n\t\t\t\t    newRows = args[2] ? args.slice(2) : false,\r\n\t\t\t\t    startRow;\r\n\r\n\t\t\t\tif (!self.blocked && version === self.currentVersion) {\r\n\r\n\t\t\t\t\t//add new rows\r\n\t\t\t\t\tif (newRows) {\r\n\t\t\t\t\t\tstartRow = data[start] ? self.table.rowManager.getRowFromDataObject(data[start]) : false;\r\n\r\n\t\t\t\t\t\tif (startRow) {\r\n\t\t\t\t\t\t\tnewRows.forEach(function (rowData) {\r\n\t\t\t\t\t\t\t\tself.table.rowManager.addRowActual(rowData, true, startRow, true);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnewRows = newRows.slice().reverse();\r\n\r\n\t\t\t\t\t\t\tnewRows.forEach(function (rowData) {\r\n\t\t\t\t\t\t\t\tself.table.rowManager.addRowActual(rowData, true, false, true);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//delete removed rows\r\n\t\t\t\t\tif (end !== 0) {\r\n\t\t\t\t\t\tvar oldRows = data.slice(start, typeof args[1] === \"undefined\" ? args[1] : start + end);\r\n\r\n\t\t\t\t\t\toldRows.forEach(function (rowData, i) {\r\n\t\t\t\t\t\t\tvar row = self.table.rowManager.getRowFromDataObject(rowData);\r\n\r\n\t\t\t\t\t\t\tif (row) {\r\n\t\t\t\t\t\t\t\trow.deleteActual(i !== oldRows.length - 1);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (newRows || end !== 0) {\r\n\t\t\t\t\t\tself.table.rowManager.reRenderInPosition();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn self.origFuncs.splice.apply(data, arguments);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tReactiveData.prototype.unwatchData = function () {\r\n\t\tif (this.data !== false) {\r\n\t\t\tfor (var key in this.origFuncs) {\r\n\t\t\t\tObject.defineProperty(this.data, key, {\r\n\t\t\t\t\tenumerable: true,\r\n\t\t\t\t\tconfigurable: true,\r\n\t\t\t\t\twritable: true,\r\n\t\t\t\t\tvalue: this.origFuncs.key\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tReactiveData.prototype.watchRow = function (row) {\r\n\t\tvar data = row.getData();\r\n\r\n\t\tthis.blocked = true;\r\n\r\n\t\tfor (var key in data) {\r\n\t\t\tthis.watchKey(row, data, key);\r\n\t\t}\r\n\r\n\t\tif (this.table.options.dataTree) {\r\n\t\t\tthis.watchTreeChildren(row);\r\n\t\t}\r\n\r\n\t\tthis.blocked = false;\r\n\t};\r\n\r\n\tReactiveData.prototype.watchTreeChildren = function (row) {\r\n\t\tvar self = this,\r\n\t\t    childField = row.getData()[this.table.options.dataTreeChildField],\r\n\t\t    origFuncs = {};\r\n\r\n\t\tfunction rebuildTree() {\r\n\t\t\tself.table.modules.dataTree.initializeRow(row);\r\n\t\t\tself.table.modules.dataTree.layoutRow(row);\r\n\t\t\tself.table.rowManager.refreshActiveData(\"tree\", false, true);\r\n\t\t}\r\n\r\n\t\tif (childField) {\r\n\r\n\t\t\torigFuncs.push = childField.push;\r\n\r\n\t\t\tObject.defineProperty(childField, \"push\", {\r\n\t\t\t\tenumerable: false,\r\n\t\t\t\tconfigurable: true,\r\n\t\t\t\tvalue: function value() {\r\n\t\t\t\t\tvar result = origFuncs.push.apply(childField, arguments);\r\n\r\n\t\t\t\t\trebuildTree();\r\n\r\n\t\t\t\t\treturn result;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\torigFuncs.unshift = childField.unshift;\r\n\r\n\t\t\tObject.defineProperty(childField, \"unshift\", {\r\n\t\t\t\tenumerable: false,\r\n\t\t\t\tconfigurable: true,\r\n\t\t\t\tvalue: function value() {\r\n\t\t\t\t\tvar result = origFuncs.unshift.apply(childField, arguments);\r\n\r\n\t\t\t\t\trebuildTree();\r\n\r\n\t\t\t\t\treturn result;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\torigFuncs.shift = childField.shift;\r\n\r\n\t\t\tObject.defineProperty(childField, \"shift\", {\r\n\t\t\t\tenumerable: false,\r\n\t\t\t\tconfigurable: true,\r\n\t\t\t\tvalue: function value() {\r\n\t\t\t\t\tvar result = origFuncs.shift.call(childField);\r\n\r\n\t\t\t\t\trebuildTree();\r\n\r\n\t\t\t\t\treturn result;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\torigFuncs.pop = childField.pop;\r\n\r\n\t\t\tObject.defineProperty(childField, \"pop\", {\r\n\t\t\t\tenumerable: false,\r\n\t\t\t\tconfigurable: true,\r\n\t\t\t\tvalue: function value() {\r\n\t\t\t\t\tvar result = origFuncs.pop.call(childField);\r\n\r\n\t\t\t\t\trebuildTree();\r\n\r\n\t\t\t\t\treturn result;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\torigFuncs.splice = childField.splice;\r\n\r\n\t\t\tObject.defineProperty(childField, \"splice\", {\r\n\t\t\t\tenumerable: false,\r\n\t\t\t\tconfigurable: true,\r\n\t\t\t\tvalue: function value() {\r\n\t\t\t\t\tvar result = origFuncs.splice.apply(childField, arguments);\r\n\r\n\t\t\t\t\trebuildTree();\r\n\r\n\t\t\t\t\treturn result;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tReactiveData.prototype.watchKey = function (row, data, key) {\r\n\t\tvar self = this,\r\n\t\t    props = Object.getOwnPropertyDescriptor(data, key),\r\n\t\t    value = data[key],\r\n\t\t    version = this.currentVersion;\r\n\r\n\t\tObject.defineProperty(data, key, {\r\n\t\t\tset: function set(newValue) {\r\n\t\t\t\tvalue = newValue;\r\n\t\t\t\tif (!self.blocked && version === self.currentVersion) {\r\n\t\t\t\t\tvar update = {};\r\n\t\t\t\t\tupdate[key] = newValue;\r\n\t\t\t\t\trow.updateData(update);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (props.set) {\r\n\t\t\t\t\tprops.set(newValue);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tget: function get() {\r\n\r\n\t\t\t\tif (props.get) {\r\n\t\t\t\t\tprops.get();\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tReactiveData.prototype.unwatchRow = function (row) {\r\n\t\tvar data = row.getData();\r\n\r\n\t\tfor (var key in data) {\r\n\t\t\tObject.defineProperty(data, key, {\r\n\t\t\t\tvalue: data[key]\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tReactiveData.prototype.block = function () {\r\n\t\tthis.blocked = true;\r\n\t};\r\n\r\n\tReactiveData.prototype.unblock = function () {\r\n\t\tthis.blocked = false;\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"reactiveData\", ReactiveData);\r\n\r\n\tvar ResizeColumns = function ResizeColumns(table) {\r\n\t\tthis.table = table; //hold Tabulator object\r\n\t\tthis.startColumn = false;\r\n\t\tthis.startX = false;\r\n\t\tthis.startWidth = false;\r\n\t\tthis.handle = null;\r\n\t\tthis.prevHandle = null;\r\n\t};\r\n\r\n\tResizeColumns.prototype.initializeColumn = function (type, column, element) {\r\n\t\tvar self = this,\r\n\t\t    variableHeight = false,\r\n\t\t    mode = this.table.options.resizableColumns;\r\n\r\n\t\t//set column resize mode\r\n\t\tif (type === \"header\") {\r\n\t\t\tvariableHeight = column.definition.formatter == \"textarea\" || column.definition.variableHeight;\r\n\t\t\tcolumn.modules.resize = { variableHeight: variableHeight };\r\n\t\t}\r\n\r\n\t\tif (mode === true || mode == type) {\r\n\r\n\t\t\tvar handle = document.createElement('div');\r\n\t\t\thandle.className = \"tabulator-col-resize-handle\";\r\n\r\n\t\t\tvar prevHandle = document.createElement('div');\r\n\t\t\tprevHandle.className = \"tabulator-col-resize-handle prev\";\r\n\r\n\t\t\thandle.addEventListener(\"click\", function (e) {\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t});\r\n\r\n\t\t\tvar handleDown = function handleDown(e) {\r\n\t\t\t\tvar nearestColumn = column.getLastColumn();\r\n\r\n\t\t\t\tif (nearestColumn && self._checkResizability(nearestColumn)) {\r\n\t\t\t\t\tself.startColumn = column;\r\n\t\t\t\t\tself._mouseDown(e, nearestColumn, handle);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\thandle.addEventListener(\"mousedown\", handleDown);\r\n\t\t\thandle.addEventListener(\"touchstart\", handleDown, { passive: true });\r\n\r\n\t\t\t//reszie column on  double click\r\n\t\t\thandle.addEventListener(\"dblclick\", function (e) {\r\n\t\t\t\tvar col = column.getLastColumn();\r\n\r\n\t\t\t\tif (col && self._checkResizability(col)) {\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\tcol.reinitializeWidth(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tprevHandle.addEventListener(\"click\", function (e) {\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t});\r\n\r\n\t\t\tvar prevHandleDown = function prevHandleDown(e) {\r\n\t\t\t\tvar nearestColumn, colIndex, prevColumn;\r\n\r\n\t\t\t\tnearestColumn = column.getFirstColumn();\r\n\r\n\t\t\t\tif (nearestColumn) {\r\n\t\t\t\t\tcolIndex = self.table.columnManager.findColumnIndex(nearestColumn);\r\n\t\t\t\t\tprevColumn = colIndex > 0 ? self.table.columnManager.getColumnByIndex(colIndex - 1) : false;\r\n\r\n\t\t\t\t\tif (prevColumn && self._checkResizability(prevColumn)) {\r\n\t\t\t\t\t\tself.startColumn = column;\r\n\t\t\t\t\t\tself._mouseDown(e, prevColumn, prevHandle);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tprevHandle.addEventListener(\"mousedown\", prevHandleDown);\r\n\t\t\tprevHandle.addEventListener(\"touchstart\", prevHandleDown, { passive: true });\r\n\r\n\t\t\t//resize column on double click\r\n\t\t\tprevHandle.addEventListener(\"dblclick\", function (e) {\r\n\t\t\t\tvar nearestColumn, colIndex, prevColumn;\r\n\r\n\t\t\t\tnearestColumn = column.getFirstColumn();\r\n\r\n\t\t\t\tif (nearestColumn) {\r\n\t\t\t\t\tcolIndex = self.table.columnManager.findColumnIndex(nearestColumn);\r\n\t\t\t\t\tprevColumn = colIndex > 0 ? self.table.columnManager.getColumnByIndex(colIndex - 1) : false;\r\n\r\n\t\t\t\t\tif (prevColumn && self._checkResizability(prevColumn)) {\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\tprevColumn.reinitializeWidth(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\telement.appendChild(handle);\r\n\t\t\telement.appendChild(prevHandle);\r\n\t\t}\r\n\t};\r\n\r\n\tResizeColumns.prototype._checkResizability = function (column) {\r\n\t\treturn typeof column.definition.resizable != \"undefined\" ? column.definition.resizable : this.table.options.resizableColumns;\r\n\t};\r\n\r\n\tResizeColumns.prototype._mouseDown = function (e, column, handle) {\r\n\t\tvar self = this;\r\n\r\n\t\tself.table.element.classList.add(\"tabulator-block-select\");\r\n\r\n\t\tfunction mouseMove(e) {\r\n\t\t\t// self.table.columnManager.tempScrollBlock();\r\n\r\n\t\t\tif (self.table.rtl) {\r\n\t\t\t\tcolumn.setWidth(self.startWidth - ((typeof e.screenX === \"undefined\" ? e.touches[0].screenX : e.screenX) - self.startX));\r\n\t\t\t} else {\r\n\t\t\t\tcolumn.setWidth(self.startWidth + ((typeof e.screenX === \"undefined\" ? e.touches[0].screenX : e.screenX) - self.startX));\r\n\t\t\t}\r\n\r\n\t\t\tif (self.table.options.virtualDomHoz) {\r\n\t\t\t\tself.table.vdomHoz.reinitialize(true);\r\n\t\t\t}\r\n\r\n\t\t\tif (!self.table.browserSlow && column.modules.resize && column.modules.resize.variableHeight) {\r\n\t\t\t\tcolumn.checkCellHeights();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction mouseUp(e) {\r\n\r\n\t\t\t//block editor from taking action while resizing is taking place\r\n\t\t\tif (self.startColumn.modules.edit) {\r\n\t\t\t\tself.startColumn.modules.edit.blocked = false;\r\n\t\t\t}\r\n\r\n\t\t\tif (self.table.browserSlow && column.modules.resize && column.modules.resize.variableHeight) {\r\n\t\t\t\tcolumn.checkCellHeights();\r\n\t\t\t}\r\n\r\n\t\t\tdocument.body.removeEventListener(\"mouseup\", mouseUp);\r\n\t\t\tdocument.body.removeEventListener(\"mousemove\", mouseMove);\r\n\r\n\t\t\thandle.removeEventListener(\"touchmove\", mouseMove);\r\n\t\t\thandle.removeEventListener(\"touchend\", mouseUp);\r\n\r\n\t\t\tself.table.element.classList.remove(\"tabulator-block-select\");\r\n\r\n\t\t\tif (self.table.options.persistence && self.table.modExists(\"persistence\", true) && self.table.modules.persistence.config.columns) {\r\n\t\t\t\tself.table.modules.persistence.save(\"columns\");\r\n\t\t\t}\r\n\r\n\t\t\tself.table.options.columnResized.call(self.table, column.getComponent());\r\n\t\t}\r\n\r\n\t\te.stopPropagation(); //prevent resize from interfereing with movable columns\r\n\r\n\t\t//block editor from taking action while resizing is taking place\r\n\t\tif (self.startColumn.modules.edit) {\r\n\t\t\tself.startColumn.modules.edit.blocked = true;\r\n\t\t}\r\n\r\n\t\tself.startX = typeof e.screenX === \"undefined\" ? e.touches[0].screenX : e.screenX;\r\n\t\tself.startWidth = column.getWidth();\r\n\r\n\t\tdocument.body.addEventListener(\"mousemove\", mouseMove);\r\n\t\tdocument.body.addEventListener(\"mouseup\", mouseUp);\r\n\t\thandle.addEventListener(\"touchmove\", mouseMove, { passive: true });\r\n\t\thandle.addEventListener(\"touchend\", mouseUp);\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"resizeColumns\", ResizeColumns);\r\n\tvar ResizeRows = function ResizeRows(table) {\r\n\t\tthis.table = table; //hold Tabulator object\r\n\t\tthis.startColumn = false;\r\n\t\tthis.startY = false;\r\n\t\tthis.startHeight = false;\r\n\t\tthis.handle = null;\r\n\t\tthis.prevHandle = null;\r\n\t};\r\n\r\n\tResizeRows.prototype.initializeRow = function (row) {\r\n\t\tvar self = this,\r\n\t\t    rowEl = row.getElement();\r\n\r\n\t\tvar handle = document.createElement('div');\r\n\t\thandle.className = \"tabulator-row-resize-handle\";\r\n\r\n\t\tvar prevHandle = document.createElement('div');\r\n\t\tprevHandle.className = \"tabulator-row-resize-handle prev\";\r\n\r\n\t\thandle.addEventListener(\"click\", function (e) {\r\n\t\t\te.stopPropagation();\r\n\t\t});\r\n\r\n\t\tvar handleDown = function handleDown(e) {\r\n\t\t\tself.startRow = row;\r\n\t\t\tself._mouseDown(e, row, handle);\r\n\t\t};\r\n\r\n\t\thandle.addEventListener(\"mousedown\", handleDown);\r\n\t\thandle.addEventListener(\"touchstart\", handleDown, { passive: true });\r\n\r\n\t\tprevHandle.addEventListener(\"click\", function (e) {\r\n\t\t\te.stopPropagation();\r\n\t\t});\r\n\r\n\t\tvar prevHandleDown = function prevHandleDown(e) {\r\n\t\t\tvar prevRow = self.table.rowManager.prevDisplayRow(row);\r\n\r\n\t\t\tif (prevRow) {\r\n\t\t\t\tself.startRow = prevRow;\r\n\t\t\t\tself._mouseDown(e, prevRow, prevHandle);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tprevHandle.addEventListener(\"mousedown\", prevHandleDown);\r\n\t\tprevHandle.addEventListener(\"touchstart\", prevHandleDown, { passive: true });\r\n\r\n\t\trowEl.appendChild(handle);\r\n\t\trowEl.appendChild(prevHandle);\r\n\t};\r\n\r\n\tResizeRows.prototype._mouseDown = function (e, row, handle) {\r\n\t\tvar self = this;\r\n\r\n\t\tself.table.element.classList.add(\"tabulator-block-select\");\r\n\r\n\t\tfunction mouseMove(e) {\r\n\t\t\trow.setHeight(self.startHeight + ((typeof e.screenY === \"undefined\" ? e.touches[0].screenY : e.screenY) - self.startY));\r\n\t\t}\r\n\r\n\t\tfunction mouseUp(e) {\r\n\r\n\t\t\t// //block editor from taking action while resizing is taking place\r\n\t\t\t// if(self.startColumn.modules.edit){\r\n\t\t\t// \tself.startColumn.modules.edit.blocked = false;\r\n\t\t\t// }\r\n\r\n\t\t\tdocument.body.removeEventListener(\"mouseup\", mouseMove);\r\n\t\t\tdocument.body.removeEventListener(\"mousemove\", mouseMove);\r\n\r\n\t\t\thandle.removeEventListener(\"touchmove\", mouseMove);\r\n\t\t\thandle.removeEventListener(\"touchend\", mouseUp);\r\n\r\n\t\t\tself.table.element.classList.remove(\"tabulator-block-select\");\r\n\r\n\t\t\tself.table.options.rowResized.call(this.table, row.getComponent());\r\n\t\t}\r\n\r\n\t\te.stopPropagation(); //prevent resize from interfereing with movable columns\r\n\r\n\t\t//block editor from taking action while resizing is taking place\r\n\t\t// if(self.startColumn.modules.edit){\r\n\t\t// \tself.startColumn.modules.edit.blocked = true;\r\n\t\t// }\r\n\r\n\t\tself.startY = typeof e.screenY === \"undefined\" ? e.touches[0].screenY : e.screenY;\r\n\t\tself.startHeight = row.getHeight();\r\n\r\n\t\tdocument.body.addEventListener(\"mousemove\", mouseMove);\r\n\t\tdocument.body.addEventListener(\"mouseup\", mouseUp);\r\n\r\n\t\thandle.addEventListener(\"touchmove\", mouseMove, { passive: true });\r\n\t\thandle.addEventListener(\"touchend\", mouseUp);\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"resizeRows\", ResizeRows);\r\n\tvar ResizeTable = function ResizeTable(table) {\r\n\t\tthis.table = table; //hold Tabulator object\r\n\t\tthis.binding = false;\r\n\t\tthis.observer = false;\r\n\t\tthis.containerObserver = false;\r\n\r\n\t\tthis.tableHeight = 0;\r\n\t\tthis.tableWidth = 0;\r\n\t\tthis.containerHeight = 0;\r\n\t\tthis.containerWidth = 0;\r\n\r\n\t\tthis.autoResize = false;\r\n\t};\r\n\r\n\tResizeTable.prototype.initialize = function (row) {\r\n\t\tvar _this83 = this;\r\n\r\n\t\tvar table = this.table,\r\n\t\t    tableStyle;\r\n\r\n\t\tthis.tableHeight = table.element.clientHeight;\r\n\t\tthis.tableWidth = table.element.clientWidth;\r\n\r\n\t\tif (table.element.parentNode) {\r\n\t\t\tthis.containerHeight = table.element.parentNode.clientHeight;\r\n\t\t\tthis.containerWidth = table.element.parentNode.clientWidth;\r\n\t\t}\r\n\r\n\t\tif (typeof ResizeObserver !== \"undefined\" && table.rowManager.getRenderMode() === \"virtual\") {\r\n\r\n\t\t\tthis.autoResize = true;\r\n\r\n\t\t\tthis.observer = new ResizeObserver(function (entry) {\r\n\t\t\t\tif (!table.browserMobile || table.browserMobile && !table.modules.edit.currentCell) {\r\n\r\n\t\t\t\t\tvar nodeHeight = Math.floor(entry[0].contentRect.height);\r\n\t\t\t\t\tvar nodeWidth = Math.floor(entry[0].contentRect.width);\r\n\r\n\t\t\t\t\tif (_this83.tableHeight != nodeHeight || _this83.tableWidth != nodeWidth) {\r\n\t\t\t\t\t\t_this83.tableHeight = nodeHeight;\r\n\t\t\t\t\t\t_this83.tableWidth = nodeWidth;\r\n\r\n\t\t\t\t\t\tif (table.element.parentNode) {\r\n\t\t\t\t\t\t\t_this83.containerHeight = table.element.parentNode.clientHeight;\r\n\t\t\t\t\t\t\t_this83.containerWidth = table.element.parentNode.clientWidth;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (table.options.virtualDomHoz) {\r\n\t\t\t\t\t\t\ttable.vdomHoz.reinitialize(true);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\ttable.redraw();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.observer.observe(table.element);\r\n\r\n\t\t\ttableStyle = window.getComputedStyle(table.element);\r\n\r\n\t\t\tif (this.table.element.parentNode && !this.table.rowManager.fixedHeight && (tableStyle.getPropertyValue(\"max-height\") || tableStyle.getPropertyValue(\"min-height\"))) {\r\n\r\n\t\t\t\tthis.containerObserver = new ResizeObserver(function (entry) {\r\n\t\t\t\t\tif (!table.browserMobile || table.browserMobile && !table.modules.edit.currentCell) {\r\n\r\n\t\t\t\t\t\tvar nodeHeight = Math.floor(entry[0].contentRect.height);\r\n\t\t\t\t\t\tvar nodeWidth = Math.floor(entry[0].contentRect.width);\r\n\r\n\t\t\t\t\t\tif (_this83.containerHeight != nodeHeight || _this83.containerWidth != nodeWidth) {\r\n\t\t\t\t\t\t\t_this83.containerHeight = nodeHeight;\r\n\t\t\t\t\t\t\t_this83.containerWidth = nodeWidth;\r\n\t\t\t\t\t\t\t_this83.tableHeight = table.element.clientHeight;\r\n\t\t\t\t\t\t\t_this83.tableWidth = table.element.clientWidth;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (table.options.virtualDomHoz) {\r\n\t\t\t\t\t\t\ttable.vdomHoz.reinitialize(true);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\ttable.redraw();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.containerObserver.observe(this.table.element.parentNode);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.binding = function () {\r\n\t\t\t\tif (!table.browserMobile || table.browserMobile && !table.modules.edit.currentCell) {\r\n\t\t\t\t\tif (table.options.virtualDomHoz) {\r\n\t\t\t\t\t\ttable.vdomHoz.reinitialize(true);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttable.redraw();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\twindow.addEventListener(\"resize\", this.binding);\r\n\t\t}\r\n\t};\r\n\r\n\tResizeTable.prototype.clearBindings = function (row) {\r\n\t\tif (this.binding) {\r\n\t\t\twindow.removeEventListener(\"resize\", this.binding);\r\n\t\t}\r\n\r\n\t\tif (this.observer) {\r\n\t\t\tthis.observer.unobserve(this.table.element);\r\n\t\t}\r\n\r\n\t\tif (this.containerObserver) {\r\n\t\t\tthis.containerObserver.unobserve(this.table.element.parentNode);\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"resizeTable\", ResizeTable);\r\n\tvar ResponsiveLayout = function ResponsiveLayout(table) {\r\n\t\tthis.table = table; //hold Tabulator object\r\n\t\tthis.columns = [];\r\n\t\tthis.hiddenColumns = [];\r\n\t\tthis.mode = \"\";\r\n\t\tthis.index = 0;\r\n\t\tthis.collapseFormatter = [];\r\n\t\tthis.collapseStartOpen = true;\r\n\t\tthis.collapseHandleColumn = false;\r\n\t};\r\n\r\n\t//generate resposive columns list\r\n\tResponsiveLayout.prototype.initialize = function () {\r\n\t\tvar self = this,\r\n\t\t    columns = [];\r\n\r\n\t\tthis.mode = this.table.options.responsiveLayout;\r\n\t\tthis.collapseFormatter = this.table.options.responsiveLayoutCollapseFormatter || this.formatCollapsedData;\r\n\t\tthis.collapseStartOpen = this.table.options.responsiveLayoutCollapseStartOpen;\r\n\t\tthis.hiddenColumns = [];\r\n\r\n\t\t//detemine level of responsivity for each column\r\n\t\tthis.table.columnManager.columnsByIndex.forEach(function (column, i) {\r\n\t\t\tif (column.modules.responsive) {\r\n\t\t\t\tif (column.modules.responsive.order && column.modules.responsive.visible) {\r\n\t\t\t\t\tcolumn.modules.responsive.index = i;\r\n\t\t\t\t\tcolumns.push(column);\r\n\r\n\t\t\t\t\tif (!column.visible && self.mode === \"collapse\") {\r\n\t\t\t\t\t\tself.hiddenColumns.push(column);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t//sort list by responsivity\r\n\t\tcolumns = columns.reverse();\r\n\t\tcolumns = columns.sort(function (a, b) {\r\n\t\t\tvar diff = b.modules.responsive.order - a.modules.responsive.order;\r\n\t\t\treturn diff || b.modules.responsive.index - a.modules.responsive.index;\r\n\t\t});\r\n\r\n\t\tthis.columns = columns;\r\n\r\n\t\tif (this.mode === \"collapse\") {\r\n\t\t\tthis.generateCollapsedContent();\r\n\t\t}\r\n\r\n\t\t//assign collapse column\r\n\t\tfor (var _iterator = this.table.columnManager.columnsByIndex, _isArray = Array.isArray(_iterator), _i17 = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\r\n\t\t\tvar _ref;\r\n\r\n\t\t\tif (_isArray) {\r\n\t\t\t\tif (_i17 >= _iterator.length) break;\r\n\t\t\t\t_ref = _iterator[_i17++];\r\n\t\t\t} else {\r\n\t\t\t\t_i17 = _iterator.next();\r\n\t\t\t\tif (_i17.done) break;\r\n\t\t\t\t_ref = _i17.value;\r\n\t\t\t}\r\n\r\n\t\t\tvar col = _ref;\r\n\r\n\t\t\tif (col.definition.formatter == \"responsiveCollapse\") {\r\n\t\t\t\tthis.collapseHandleColumn = col;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.collapseHandleColumn) {\r\n\t\t\tif (this.hiddenColumns.length) {\r\n\t\t\t\tthis.collapseHandleColumn.show();\r\n\t\t\t} else {\r\n\t\t\t\tthis.collapseHandleColumn.hide();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//define layout information\r\n\tResponsiveLayout.prototype.initializeColumn = function (column) {\r\n\t\tvar def = column.getDefinition();\r\n\r\n\t\tcolumn.modules.responsive = { order: typeof def.responsive === \"undefined\" ? 1 : def.responsive, visible: def.visible === false ? false : true };\r\n\t};\r\n\r\n\tResponsiveLayout.prototype.initializeRow = function (row) {\r\n\t\tvar el;\r\n\r\n\t\tif (row.type !== \"calc\") {\r\n\t\t\tel = document.createElement(\"div\");\r\n\t\t\tel.classList.add(\"tabulator-responsive-collapse\");\r\n\r\n\t\t\trow.modules.responsiveLayout = {\r\n\t\t\t\telement: el,\r\n\t\t\t\topen: this.collapseStartOpen\r\n\t\t\t};\r\n\r\n\t\t\tif (!this.collapseStartOpen) {\r\n\t\t\t\tel.style.display = 'none';\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tResponsiveLayout.prototype.layoutRow = function (row) {\r\n\t\tvar rowEl = row.getElement();\r\n\r\n\t\tif (row.modules.responsiveLayout) {\r\n\t\t\trowEl.appendChild(row.modules.responsiveLayout.element);\r\n\t\t\tthis.generateCollapsedRowContent(row);\r\n\t\t}\r\n\t};\r\n\r\n\t//update column visibility\r\n\tResponsiveLayout.prototype.updateColumnVisibility = function (column, visible) {\r\n\t\tvar index;\r\n\t\tif (column.modules.responsive) {\r\n\t\t\tcolumn.modules.responsive.visible = visible;\r\n\t\t\tthis.initialize();\r\n\t\t}\r\n\t};\r\n\r\n\tResponsiveLayout.prototype.hideColumn = function (column) {\r\n\t\tvar colCount = this.hiddenColumns.length;\r\n\r\n\t\tcolumn.hide(false, true);\r\n\r\n\t\tif (this.mode === \"collapse\") {\r\n\t\t\tthis.hiddenColumns.unshift(column);\r\n\t\t\tthis.generateCollapsedContent();\r\n\r\n\t\t\tif (this.collapseHandleColumn && !colCount) {\r\n\t\t\t\tthis.collapseHandleColumn.show();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tResponsiveLayout.prototype.showColumn = function (column) {\r\n\t\tvar index;\r\n\r\n\t\tcolumn.show(false, true);\r\n\t\t//set column width to prevent calculation loops on uninitialized columns\r\n\t\tcolumn.setWidth(column.getWidth());\r\n\r\n\t\tif (this.mode === \"collapse\") {\r\n\t\t\tindex = this.hiddenColumns.indexOf(column);\r\n\r\n\t\t\tif (index > -1) {\r\n\t\t\t\tthis.hiddenColumns.splice(index, 1);\r\n\t\t\t}\r\n\r\n\t\t\tthis.generateCollapsedContent();\r\n\r\n\t\t\tif (this.collapseHandleColumn && !this.hiddenColumns.length) {\r\n\t\t\t\tthis.collapseHandleColumn.hide();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//redraw columns to fit space\r\n\tResponsiveLayout.prototype.update = function () {\r\n\t\tvar self = this,\r\n\t\t    working = true;\r\n\r\n\t\twhile (working) {\r\n\r\n\t\t\tvar width = self.table.modules.layout.getMode() == \"fitColumns\" ? self.table.columnManager.getFlexBaseWidth() : self.table.columnManager.getWidth();\r\n\r\n\t\t\tvar diff = (self.table.options.headerVisible ? self.table.columnManager.element.clientWidth : self.table.element.clientWidth) - width;\r\n\r\n\t\t\tif (diff < 0) {\r\n\t\t\t\t//table is too wide\r\n\t\t\t\tvar column = self.columns[self.index];\r\n\r\n\t\t\t\tif (column) {\r\n\t\t\t\t\tself.hideColumn(column);\r\n\t\t\t\t\tself.index++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tworking = false;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\t//table has spare space\r\n\t\t\t\tvar _column = self.columns[self.index - 1];\r\n\r\n\t\t\t\tif (_column) {\r\n\t\t\t\t\tif (diff > 0) {\r\n\t\t\t\t\t\tif (diff >= _column.getWidth()) {\r\n\t\t\t\t\t\t\tself.showColumn(_column);\r\n\t\t\t\t\t\t\tself.index--;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tworking = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tworking = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tworking = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!self.table.rowManager.activeRowsCount) {\r\n\t\t\t\tself.table.rowManager.renderEmptyScroll();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tResponsiveLayout.prototype.generateCollapsedContent = function () {\r\n\t\tvar self = this,\r\n\t\t    rows = this.table.rowManager.getDisplayRows();\r\n\r\n\t\trows.forEach(function (row) {\r\n\t\t\tself.generateCollapsedRowContent(row);\r\n\t\t});\r\n\t};\r\n\r\n\tResponsiveLayout.prototype.generateCollapsedRowContent = function (row) {\r\n\t\tvar el, contents;\r\n\r\n\t\tif (row.modules.responsiveLayout) {\r\n\t\t\tel = row.modules.responsiveLayout.element;\r\n\r\n\t\t\twhile (el.firstChild) {\r\n\t\t\t\tel.removeChild(el.firstChild);\r\n\t\t\t}contents = this.collapseFormatter(this.generateCollapsedRowData(row));\r\n\t\t\tif (contents) {\r\n\t\t\t\tel.appendChild(contents);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tResponsiveLayout.prototype.generateCollapsedRowData = function (row) {\r\n\t\tvar self = this,\r\n\t\t    data = row.getData(),\r\n\t\t    output = [],\r\n\t\t    mockCellComponent;\r\n\r\n\t\tthis.hiddenColumns.forEach(function (column) {\r\n\t\t\tvar value = column.getFieldValue(data);\r\n\r\n\t\t\tif (column.definition.title && column.field) {\r\n\t\t\t\tif (column.modules.format && self.table.options.responsiveLayoutCollapseUseFormatters) {\r\n\r\n\t\t\t\t\tmockCellComponent = {\r\n\t\t\t\t\t\tvalue: false,\r\n\t\t\t\t\t\tdata: {},\r\n\t\t\t\t\t\tgetValue: function getValue() {\r\n\t\t\t\t\t\t\treturn value;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tgetData: function getData() {\r\n\t\t\t\t\t\t\treturn data;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tgetElement: function getElement() {\r\n\t\t\t\t\t\t\treturn document.createElement(\"div\");\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tgetRow: function getRow() {\r\n\t\t\t\t\t\t\treturn row.getComponent();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tgetColumn: function getColumn() {\r\n\t\t\t\t\t\t\treturn column.getComponent();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\toutput.push({\r\n\t\t\t\t\t\tfield: column.field,\r\n\t\t\t\t\t\ttitle: column.definition.title,\r\n\t\t\t\t\t\tvalue: column.modules.format.formatter.call(self.table.modules.format, mockCellComponent, column.modules.format.params)\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\toutput.push({\r\n\t\t\t\t\t\tfield: column.field,\r\n\t\t\t\t\t\ttitle: column.definition.title,\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\tResponsiveLayout.prototype.formatCollapsedData = function (data) {\r\n\t\tvar list = document.createElement(\"table\");\r\n\r\n\t\tdata.forEach(function (item) {\r\n\t\t\tvar row = document.createElement(\"tr\");\r\n\t\t\tvar titleData = document.createElement(\"td\");\r\n\t\t\tvar valueData = document.createElement(\"td\");\r\n\t\t\tvar node_content;\r\n\r\n\t\t\tvar titleHighlight = document.createElement(\"strong\");\r\n\t\t\ttitleData.appendChild(titleHighlight);\r\n\t\t\tthis.table.modules.localize.bind(\"columns|\" + item.field, function (text) {\r\n\t\t\t\ttitleHighlight.innerText = text || item.title;\r\n\t\t\t});\r\n\r\n\t\t\tif (item.value instanceof Node) {\r\n\t\t\t\tnode_content = document.createElement(\"div\");\r\n\t\t\t\tnode_content.appendChild(item.value);\r\n\t\t\t\tvalueData.appendChild(node_content);\r\n\t\t\t} else {\r\n\t\t\t\tvalueData.innerHTML = item.value;\r\n\t\t\t}\r\n\r\n\t\t\trow.appendChild(titleData);\r\n\t\t\trow.appendChild(valueData);\r\n\t\t\tlist.appendChild(row);\r\n\t\t}, this);\r\n\r\n\t\treturn Object.keys(data).length ? list : \"\";\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"responsiveLayout\", ResponsiveLayout);\r\n\r\n\tvar SelectRow = function SelectRow(table) {\r\n\t\tthis.table = table; //hold Tabulator object\r\n\t\tthis.selecting = false; //flag selecting in progress\r\n\t\tthis.lastClickedRow = false; //last clicked row\r\n\t\tthis.selectPrev = []; //hold previously selected element for drag drop selection\r\n\t\tthis.selectedRows = []; //hold selected rows\r\n\t\tthis.headerCheckboxElement = null; // hold header select element\r\n\t};\r\n\r\n\tSelectRow.prototype.clearSelectionData = function (silent) {\r\n\t\tthis.selecting = false;\r\n\t\tthis.lastClickedRow = false;\r\n\t\tthis.selectPrev = [];\r\n\t\tthis.selectedRows = [];\r\n\r\n\t\tif (!silent) {\r\n\t\t\tthis._rowSelectionChanged();\r\n\t\t}\r\n\t};\r\n\r\n\tSelectRow.prototype.initializeRow = function (row) {\r\n\t\tvar self = this,\r\n\t\t    element = row.getElement();\r\n\r\n\t\t// trigger end of row selection\r\n\t\tvar endSelect = function endSelect() {\r\n\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\tself.selecting = false;\r\n\t\t\t}, 50);\r\n\r\n\t\t\tdocument.body.removeEventListener(\"mouseup\", endSelect);\r\n\t\t};\r\n\r\n\t\trow.modules.select = { selected: false };\r\n\r\n\t\t//set row selection class\r\n\t\tif (self.table.options.selectableCheck.call(this.table, row.getComponent())) {\r\n\t\t\telement.classList.add(\"tabulator-selectable\");\r\n\t\t\telement.classList.remove(\"tabulator-unselectable\");\r\n\r\n\t\t\tif (self.table.options.selectable && self.table.options.selectable != \"highlight\") {\r\n\t\t\t\tif (self.table.options.selectableRangeMode === \"click\") {\r\n\t\t\t\t\telement.addEventListener(\"click\", function (e) {\r\n\t\t\t\t\t\tif (e.shiftKey) {\r\n\t\t\t\t\t\t\tself.table._clearSelection();\r\n\t\t\t\t\t\t\tself.lastClickedRow = self.lastClickedRow || row;\r\n\r\n\t\t\t\t\t\t\tvar lastClickedRowIdx = self.table.rowManager.getDisplayRowIndex(self.lastClickedRow);\r\n\t\t\t\t\t\t\tvar rowIdx = self.table.rowManager.getDisplayRowIndex(row);\r\n\r\n\t\t\t\t\t\t\tvar fromRowIdx = lastClickedRowIdx <= rowIdx ? lastClickedRowIdx : rowIdx;\r\n\t\t\t\t\t\t\tvar toRowIdx = lastClickedRowIdx >= rowIdx ? lastClickedRowIdx : rowIdx;\r\n\r\n\t\t\t\t\t\t\tvar rows = self.table.rowManager.getDisplayRows().slice(0);\r\n\t\t\t\t\t\t\tvar toggledRows = rows.splice(fromRowIdx, toRowIdx - fromRowIdx + 1);\r\n\r\n\t\t\t\t\t\t\tif (e.ctrlKey || e.metaKey) {\r\n\t\t\t\t\t\t\t\ttoggledRows.forEach(function (toggledRow) {\r\n\t\t\t\t\t\t\t\t\tif (toggledRow !== self.lastClickedRow) {\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (self.table.options.selectable !== true && !self.isRowSelected(row)) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (self.selectedRows.length < self.table.options.selectable) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tself.toggleRow(toggledRow);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tself.toggleRow(toggledRow);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tself.lastClickedRow = row;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tself.deselectRows(undefined, true);\r\n\r\n\t\t\t\t\t\t\t\tif (self.table.options.selectable !== true) {\r\n\t\t\t\t\t\t\t\t\tif (toggledRows.length > self.table.options.selectable) {\r\n\t\t\t\t\t\t\t\t\t\ttoggledRows = toggledRows.slice(0, self.table.options.selectable);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tself.selectRows(toggledRows);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tself.table._clearSelection();\r\n\t\t\t\t\t\t} else if (e.ctrlKey || e.metaKey) {\r\n\t\t\t\t\t\t\tself.toggleRow(row);\r\n\t\t\t\t\t\t\tself.lastClickedRow = row;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tself.deselectRows(undefined, true);\r\n\t\t\t\t\t\t\tself.selectRows(row);\r\n\t\t\t\t\t\t\tself.lastClickedRow = row;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\telement.addEventListener(\"click\", function (e) {\r\n\t\t\t\t\t\tif (!self.table.modExists(\"edit\") || !self.table.modules.edit.getCurrentCell()) {\r\n\t\t\t\t\t\t\tself.table._clearSelection();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!self.selecting) {\r\n\t\t\t\t\t\t\tself.toggleRow(row);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\telement.addEventListener(\"mousedown\", function (e) {\r\n\t\t\t\t\t\tif (e.shiftKey) {\r\n\t\t\t\t\t\t\tself.table._clearSelection();\r\n\r\n\t\t\t\t\t\t\tself.selecting = true;\r\n\r\n\t\t\t\t\t\t\tself.selectPrev = [];\r\n\r\n\t\t\t\t\t\t\tdocument.body.addEventListener(\"mouseup\", endSelect);\r\n\t\t\t\t\t\t\tdocument.body.addEventListener(\"keyup\", endSelect);\r\n\r\n\t\t\t\t\t\t\tself.toggleRow(row);\r\n\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\telement.addEventListener(\"mouseenter\", function (e) {\r\n\t\t\t\t\t\tif (self.selecting) {\r\n\t\t\t\t\t\t\tself.table._clearSelection();\r\n\t\t\t\t\t\t\tself.toggleRow(row);\r\n\r\n\t\t\t\t\t\t\tif (self.selectPrev[1] == row) {\r\n\t\t\t\t\t\t\t\tself.toggleRow(self.selectPrev[0]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\telement.addEventListener(\"mouseout\", function (e) {\r\n\t\t\t\t\t\tif (self.selecting) {\r\n\t\t\t\t\t\t\tself.table._clearSelection();\r\n\t\t\t\t\t\t\tself.selectPrev.unshift(row);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\telement.classList.add(\"tabulator-unselectable\");\r\n\t\t\telement.classList.remove(\"tabulator-selectable\");\r\n\t\t}\r\n\t};\r\n\r\n\t//toggle row selection\r\n\tSelectRow.prototype.toggleRow = function (row) {\r\n\t\tif (this.table.options.selectableCheck.call(this.table, row.getComponent())) {\r\n\t\t\tif (row.modules.select && row.modules.select.selected) {\r\n\t\t\t\tthis._deselectRow(row);\r\n\t\t\t} else {\r\n\t\t\t\tthis._selectRow(row);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//select a number of rows\r\n\tSelectRow.prototype.selectRows = function (rows) {\r\n\t\tvar _this84 = this;\r\n\r\n\t\tvar rowMatch;\r\n\r\n\t\tswitch (typeof rows === 'undefined' ? 'undefined' : _typeof(rows)) {\r\n\t\t\tcase \"undefined\":\r\n\t\t\t\tthis.table.rowManager.rows.forEach(function (row) {\r\n\t\t\t\t\t_this84._selectRow(row, true, true);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis._rowSelectionChanged();\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"string\":\r\n\r\n\t\t\t\trowMatch = this.table.rowManager.findRow(rows);\r\n\r\n\t\t\t\tif (rowMatch) {\r\n\t\t\t\t\tthis._selectRow(rowMatch, true, true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.table.rowManager.getRows(rows).forEach(function (row) {\r\n\t\t\t\t\t\t_this84._selectRow(row, true, true);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._rowSelectionChanged();\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tif (Array.isArray(rows)) {\r\n\t\t\t\t\trows.forEach(function (row) {\r\n\t\t\t\t\t\t_this84._selectRow(row, true, true);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tthis._rowSelectionChanged();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis._selectRow(rows, false, true);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\t//select an individual row\r\n\tSelectRow.prototype._selectRow = function (rowInfo, silent, force) {\r\n\t\tvar index;\r\n\r\n\t\t//handle max row count\r\n\t\tif (!isNaN(this.table.options.selectable) && this.table.options.selectable !== true && !force) {\r\n\t\t\tif (this.selectedRows.length >= this.table.options.selectable) {\r\n\t\t\t\tif (this.table.options.selectableRollingSelection) {\r\n\t\t\t\t\tthis._deselectRow(this.selectedRows[0]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar row = this.table.rowManager.findRow(rowInfo);\r\n\r\n\t\tif (row) {\r\n\t\t\tif (this.selectedRows.indexOf(row) == -1) {\r\n\t\t\t\trow.getElement().classList.add(\"tabulator-selected\");\r\n\t\t\t\tif (!row.modules.select) {\r\n\t\t\t\t\trow.modules.select = {};\r\n\t\t\t\t}\r\n\r\n\t\t\t\trow.modules.select.selected = true;\r\n\t\t\t\tif (row.modules.select.checkboxEl) {\r\n\t\t\t\t\trow.modules.select.checkboxEl.checked = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.selectedRows.push(row);\r\n\r\n\t\t\t\tif (this.table.options.dataTreeSelectPropagate) {\r\n\t\t\t\t\tthis.childRowSelection(row, true);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!silent) {\r\n\t\t\t\t\tthis.table.options.rowSelected.call(this.table, row.getComponent());\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._rowSelectionChanged(silent);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (!silent) {\r\n\t\t\t\tconsole.warn(\"Selection Error - No such row found, ignoring selection:\" + rowInfo);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tSelectRow.prototype.isRowSelected = function (row) {\r\n\t\treturn this.selectedRows.indexOf(row) !== -1;\r\n\t};\r\n\r\n\t//deselect a number of rows\r\n\tSelectRow.prototype.deselectRows = function (rows, silent) {\r\n\t\tvar self = this,\r\n\t\t    rowCount;\r\n\r\n\t\tif (typeof rows == \"undefined\") {\r\n\r\n\t\t\trowCount = self.selectedRows.length;\r\n\r\n\t\t\tfor (var _i18 = 0; _i18 < rowCount; _i18++) {\r\n\t\t\t\tself._deselectRow(self.selectedRows[0], true);\r\n\t\t\t}\r\n\r\n\t\t\tself._rowSelectionChanged(silent);\r\n\t\t} else {\r\n\t\t\tif (Array.isArray(rows)) {\r\n\t\t\t\trows.forEach(function (row) {\r\n\t\t\t\t\tself._deselectRow(row, true);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tself._rowSelectionChanged(silent);\r\n\t\t\t} else {\r\n\t\t\t\tself._deselectRow(rows, silent);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//deselect an individual row\r\n\tSelectRow.prototype._deselectRow = function (rowInfo, silent) {\r\n\t\tvar self = this,\r\n\t\t    row = self.table.rowManager.findRow(rowInfo),\r\n\t\t    index;\r\n\r\n\t\tif (row) {\r\n\t\t\tindex = self.selectedRows.findIndex(function (selectedRow) {\r\n\t\t\t\treturn selectedRow == row;\r\n\t\t\t});\r\n\r\n\t\t\tif (index > -1) {\r\n\r\n\t\t\t\trow.getElement().classList.remove(\"tabulator-selected\");\r\n\t\t\t\tif (!row.modules.select) {\r\n\t\t\t\t\trow.modules.select = {};\r\n\t\t\t\t}\r\n\r\n\t\t\t\trow.modules.select.selected = false;\r\n\t\t\t\tif (row.modules.select.checkboxEl) {\r\n\t\t\t\t\trow.modules.select.checkboxEl.checked = false;\r\n\t\t\t\t}\r\n\t\t\t\tself.selectedRows.splice(index, 1);\r\n\r\n\t\t\t\tif (this.table.options.dataTreeSelectPropagate) {\r\n\t\t\t\t\tthis.childRowSelection(row, false);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!silent) {\r\n\t\t\t\t\tself.table.options.rowDeselected.call(this.table, row.getComponent());\r\n\t\t\t\t}\r\n\r\n\t\t\t\tself._rowSelectionChanged(silent);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (!silent) {\r\n\t\t\t\tconsole.warn(\"Deselection Error - No such row found, ignoring selection:\" + rowInfo);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tSelectRow.prototype.getSelectedData = function () {\r\n\t\tvar data = [];\r\n\r\n\t\tthis.selectedRows.forEach(function (row) {\r\n\t\t\tdata.push(row.getData());\r\n\t\t});\r\n\r\n\t\treturn data;\r\n\t};\r\n\r\n\tSelectRow.prototype.getSelectedRows = function () {\r\n\r\n\t\tvar rows = [];\r\n\r\n\t\tthis.selectedRows.forEach(function (row) {\r\n\t\t\trows.push(row.getComponent());\r\n\t\t});\r\n\r\n\t\treturn rows;\r\n\t};\r\n\r\n\tSelectRow.prototype._rowSelectionChanged = function (silent) {\r\n\t\tif (this.headerCheckboxElement) {\r\n\t\t\tif (this.selectedRows.length === 0) {\r\n\t\t\t\tthis.headerCheckboxElement.checked = false;\r\n\t\t\t\tthis.headerCheckboxElement.indeterminate = false;\r\n\t\t\t} else if (this.table.rowManager.rows.length === this.selectedRows.length) {\r\n\t\t\t\tthis.headerCheckboxElement.checked = true;\r\n\t\t\t\tthis.headerCheckboxElement.indeterminate = false;\r\n\t\t\t} else {\r\n\t\t\t\tthis.headerCheckboxElement.indeterminate = true;\r\n\t\t\t\tthis.headerCheckboxElement.checked = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!silent) {\r\n\t\t\tthis.table.options.rowSelectionChanged.call(this.table, this.getSelectedData(), this.getSelectedRows());\r\n\t\t}\r\n\t};\r\n\r\n\tSelectRow.prototype.registerRowSelectCheckbox = function (row, element) {\r\n\t\tif (!row._row.modules.select) {\r\n\t\t\trow._row.modules.select = {};\r\n\t\t}\r\n\r\n\t\trow._row.modules.select.checkboxEl = element;\r\n\t};\r\n\r\n\tSelectRow.prototype.registerHeaderSelectCheckbox = function (element) {\r\n\t\tthis.headerCheckboxElement = element;\r\n\t};\r\n\r\n\tSelectRow.prototype.childRowSelection = function (row, select) {\r\n\t\tvar children = this.table.modules.dataTree.getChildren(row, true);\r\n\r\n\t\tif (select) {\r\n\t\t\tfor (var _iterator2 = children, _isArray2 = Array.isArray(_iterator2), _i19 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();;) {\r\n\t\t\t\tvar _ref2;\r\n\r\n\t\t\t\tif (_isArray2) {\r\n\t\t\t\t\tif (_i19 >= _iterator2.length) break;\r\n\t\t\t\t\t_ref2 = _iterator2[_i19++];\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_i19 = _iterator2.next();\r\n\t\t\t\t\tif (_i19.done) break;\r\n\t\t\t\t\t_ref2 = _i19.value;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar child = _ref2;\r\n\r\n\t\t\t\tthis._selectRow(child, true);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (var _iterator3 = children, _isArray3 = Array.isArray(_iterator3), _i20 = 0, _iterator3 = _isArray3 ? _iterator3 : _iterator3[Symbol.iterator]();;) {\r\n\t\t\t\tvar _ref3;\r\n\r\n\t\t\t\tif (_isArray3) {\r\n\t\t\t\t\tif (_i20 >= _iterator3.length) break;\r\n\t\t\t\t\t_ref3 = _iterator3[_i20++];\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_i20 = _iterator3.next();\r\n\t\t\t\t\tif (_i20.done) break;\r\n\t\t\t\t\t_ref3 = _i20.value;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar _child = _ref3;\r\n\r\n\t\t\t\tthis._deselectRow(_child, true);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"selectRow\", SelectRow);\r\n\r\n\tvar Sort = function Sort(table) {\r\n\t\tthis.table = table; //hold Tabulator object\r\n\t\tthis.sortList = []; //holder current sort\r\n\t\tthis.changed = false; //has the sort changed since last render\r\n\t};\r\n\r\n\t//initialize column header for sorting\r\n\tSort.prototype.initializeColumn = function (column, content) {\r\n\t\tvar self = this,\r\n\t\t    sorter = false,\r\n\t\t    colEl,\r\n\t\t    arrowEl;\r\n\r\n\t\tswitch (_typeof(column.definition.sorter)) {\r\n\t\t\tcase \"string\":\r\n\t\t\t\tif (self.sorters[column.definition.sorter]) {\r\n\t\t\t\t\tsorter = self.sorters[column.definition.sorter];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.warn(\"Sort Error - No such sorter found: \", column.definition.sorter);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"function\":\r\n\t\t\t\tsorter = column.definition.sorter;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcolumn.modules.sort = {\r\n\t\t\tsorter: sorter, dir: \"none\",\r\n\t\t\tparams: column.definition.sorterParams || {},\r\n\t\t\tstartingDir: column.definition.headerSortStartingDir || \"asc\",\r\n\t\t\ttristate: typeof column.definition.headerSortTristate !== \"undefined\" ? column.definition.headerSortTristate : this.table.options.headerSortTristate\r\n\t\t};\r\n\r\n\t\tif (typeof column.definition.headerSort === \"undefined\" ? this.table.options.headerSort !== false : column.definition.headerSort !== false) {\r\n\r\n\t\t\tcolEl = column.getElement();\r\n\r\n\t\t\tcolEl.classList.add(\"tabulator-sortable\");\r\n\r\n\t\t\tarrowEl = document.createElement(\"div\");\r\n\t\t\tarrowEl.classList.add(\"tabulator-col-sorter\");\r\n\r\n\t\t\tif (_typeof(this.table.options.headerSortElement) == \"object\") {\r\n\t\t\t\tarrowEl.appendChild(this.table.options.headerSortElement);\r\n\t\t\t} else {\r\n\t\t\t\tarrowEl.innerHTML = this.table.options.headerSortElement;\r\n\t\t\t}\r\n\r\n\t\t\t//create sorter arrow\r\n\t\t\tcontent.appendChild(arrowEl);\r\n\r\n\t\t\tcolumn.modules.sort.element = arrowEl;\r\n\r\n\t\t\t//sort on click\r\n\t\t\tcolEl.addEventListener(\"click\", function (e) {\r\n\t\t\t\tvar dir = \"\",\r\n\t\t\t\t    sorters = [],\r\n\t\t\t\t    match = false;\r\n\r\n\t\t\t\tif (column.modules.sort) {\r\n\t\t\t\t\tif (column.modules.sort.tristate) {\r\n\t\t\t\t\t\tif (column.modules.sort.dir == \"none\") {\r\n\t\t\t\t\t\t\tdir = column.modules.sort.startingDir;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (column.modules.sort.dir == column.modules.sort.startingDir) {\r\n\t\t\t\t\t\t\t\tdir = column.modules.sort.dir == \"asc\" ? \"desc\" : \"asc\";\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tdir = \"none\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tswitch (column.modules.sort.dir) {\r\n\t\t\t\t\t\t\tcase \"asc\":\r\n\t\t\t\t\t\t\t\tdir = \"desc\";\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase \"desc\":\r\n\t\t\t\t\t\t\t\tdir = \"asc\";\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tdir = column.modules.sort.startingDir;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (self.table.options.columnHeaderSortMulti && (e.shiftKey || e.ctrlKey)) {\r\n\t\t\t\t\t\tsorters = self.getSort();\r\n\r\n\t\t\t\t\t\tmatch = sorters.findIndex(function (sorter) {\r\n\t\t\t\t\t\t\treturn sorter.field === column.getField();\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tif (match > -1) {\r\n\t\t\t\t\t\t\tsorters[match].dir = dir;\r\n\r\n\t\t\t\t\t\t\tif (match != sorters.length - 1) {\r\n\t\t\t\t\t\t\t\tmatch = sorters.splice(match, 1)[0];\r\n\t\t\t\t\t\t\t\tif (dir != \"none\") {\r\n\t\t\t\t\t\t\t\t\tsorters.push(match);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (dir != \"none\") {\r\n\t\t\t\t\t\t\t\tsorters.push({ column: column, dir: dir });\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t//add to existing sort\r\n\t\t\t\t\t\tself.setSort(sorters);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (dir == \"none\") {\r\n\t\t\t\t\t\t\tself.clear();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t//sort by column only\r\n\t\t\t\t\t\t\tself.setSort(column, dir);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tself.table.rowManager.sorterRefresh(!self.sortList.length);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t//check if the sorters have changed since last use\r\n\tSort.prototype.hasChanged = function () {\r\n\t\tvar changed = this.changed;\r\n\t\tthis.changed = false;\r\n\t\treturn changed;\r\n\t};\r\n\r\n\t//return current sorters\r\n\tSort.prototype.getSort = function () {\r\n\t\tvar self = this,\r\n\t\t    sorters = [];\r\n\r\n\t\tself.sortList.forEach(function (item) {\r\n\t\t\tif (item.column) {\r\n\t\t\t\tsorters.push({ column: item.column.getComponent(), field: item.column.getField(), dir: item.dir });\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn sorters;\r\n\t};\r\n\r\n\t//change sort list and trigger sort\r\n\tSort.prototype.setSort = function (sortList, dir) {\r\n\t\tvar self = this,\r\n\t\t    newSortList = [];\r\n\r\n\t\tif (!Array.isArray(sortList)) {\r\n\t\t\tsortList = [{ column: sortList, dir: dir }];\r\n\t\t}\r\n\r\n\t\tsortList.forEach(function (item) {\r\n\t\t\tvar column;\r\n\r\n\t\t\tcolumn = self.table.columnManager.findColumn(item.column);\r\n\r\n\t\t\tif (column) {\r\n\t\t\t\titem.column = column;\r\n\t\t\t\tnewSortList.push(item);\r\n\t\t\t\tself.changed = true;\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn(\"Sort Warning - Sort field does not exist and is being ignored: \", item.column);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tself.sortList = newSortList;\r\n\r\n\t\tif (this.table.options.persistence && this.table.modExists(\"persistence\", true) && this.table.modules.persistence.config.sort) {\r\n\t\t\tthis.table.modules.persistence.save(\"sort\");\r\n\t\t}\r\n\t};\r\n\r\n\t//clear sorters\r\n\tSort.prototype.clear = function () {\r\n\t\tthis.setSort([]);\r\n\t};\r\n\r\n\t//find appropriate sorter for column\r\n\tSort.prototype.findSorter = function (column) {\r\n\t\tvar row = this.table.rowManager.activeRows[0],\r\n\t\t    sorter = \"string\",\r\n\t\t    field,\r\n\t\t    value;\r\n\r\n\t\tif (row) {\r\n\t\t\trow = row.getData();\r\n\t\t\tfield = column.getField();\r\n\r\n\t\t\tif (field) {\r\n\r\n\t\t\t\tvalue = column.getFieldValue(row);\r\n\r\n\t\t\t\tswitch (typeof value === 'undefined' ? 'undefined' : _typeof(value)) {\r\n\t\t\t\t\tcase \"undefined\":\r\n\t\t\t\t\t\tsorter = \"string\";\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"boolean\":\r\n\t\t\t\t\t\tsorter = \"boolean\";\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tif (!isNaN(value) && value !== \"\") {\r\n\t\t\t\t\t\t\tsorter = \"number\";\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (value.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)) {\r\n\t\t\t\t\t\t\t\tsorter = \"alphanum\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this.sorters[sorter];\r\n\t};\r\n\r\n\t//work through sort list sorting data\r\n\tSort.prototype.sort = function (data) {\r\n\t\tvar self = this,\r\n\t\t    sortList = this.table.options.sortOrderReverse ? self.sortList.slice().reverse() : self.sortList,\r\n\t\t    sortListActual = [],\r\n\t\t    rowComponents = [],\r\n\t\t    lastSort;\r\n\r\n\t\tif (self.table.options.dataSorting) {\r\n\t\t\tself.table.options.dataSorting.call(self.table, self.getSort());\r\n\t\t}\r\n\r\n\t\tself.clearColumnHeaders();\r\n\r\n\t\tif (!self.table.options.ajaxSorting) {\r\n\r\n\t\t\t//build list of valid sorters and trigger column specific callbacks before sort begins\r\n\t\t\tsortList.forEach(function (item, i) {\r\n\t\t\t\tvar sortObj = item.column.modules.sort;\r\n\r\n\t\t\t\tif (item.column && sortObj) {\r\n\r\n\t\t\t\t\t//if no sorter has been defined, take a guess\r\n\t\t\t\t\tif (!sortObj.sorter) {\r\n\t\t\t\t\t\tsortObj.sorter = self.findSorter(item.column);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\titem.params = typeof sortObj.params === \"function\" ? sortObj.params(item.column.getComponent(), item.dir) : sortObj.params;\r\n\r\n\t\t\t\t\tsortListActual.push(item);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tself.setColumnHeader(item.column, item.dir);\r\n\t\t\t});\r\n\r\n\t\t\t//sort data\r\n\t\t\tif (sortListActual.length) {\r\n\t\t\t\tself._sortItems(data, sortListActual);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsortList.forEach(function (item, i) {\r\n\t\t\t\tself.setColumnHeader(item.column, item.dir);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (self.table.options.dataSorted) {\r\n\t\t\tdata.forEach(function (row) {\r\n\t\t\t\trowComponents.push(row.getComponent());\r\n\t\t\t});\r\n\r\n\t\t\tself.table.options.dataSorted.call(self.table, self.getSort(), rowComponents);\r\n\t\t}\r\n\t};\r\n\r\n\t//clear sort arrows on columns\r\n\tSort.prototype.clearColumnHeaders = function () {\r\n\t\tthis.table.columnManager.getRealColumns().forEach(function (column) {\r\n\t\t\tif (column.modules.sort) {\r\n\t\t\t\tcolumn.modules.sort.dir = \"none\";\r\n\t\t\t\tcolumn.getElement().setAttribute(\"aria-sort\", \"none\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t//set the column header sort direction\r\n\tSort.prototype.setColumnHeader = function (column, dir) {\r\n\t\tcolumn.modules.sort.dir = dir;\r\n\t\tcolumn.getElement().setAttribute(\"aria-sort\", dir);\r\n\t};\r\n\r\n\t//sort each item in sort list\r\n\tSort.prototype._sortItems = function (data, sortList) {\r\n\t\tvar _this85 = this;\r\n\r\n\t\tvar sorterCount = sortList.length - 1;\r\n\r\n\t\tdata.sort(function (a, b) {\r\n\t\t\tvar result;\r\n\r\n\t\t\tfor (var i = sorterCount; i >= 0; i--) {\r\n\t\t\t\tvar sortItem = sortList[i];\r\n\r\n\t\t\t\tresult = _this85._sortRow(a, b, sortItem.column, sortItem.dir, sortItem.params);\r\n\r\n\t\t\t\tif (result !== 0) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn result;\r\n\t\t});\r\n\t};\r\n\r\n\t//process individual rows for a sort function on active data\r\n\tSort.prototype._sortRow = function (a, b, column, dir, params) {\r\n\t\tvar el1Comp, el2Comp, colComp;\r\n\r\n\t\t//switch elements depending on search direction\r\n\t\tvar el1 = dir == \"asc\" ? a : b;\r\n\t\tvar el2 = dir == \"asc\" ? b : a;\r\n\r\n\t\ta = column.getFieldValue(el1.getData());\r\n\t\tb = column.getFieldValue(el2.getData());\r\n\r\n\t\ta = typeof a !== \"undefined\" ? a : \"\";\r\n\t\tb = typeof b !== \"undefined\" ? b : \"\";\r\n\r\n\t\tel1Comp = el1.getComponent();\r\n\t\tel2Comp = el2.getComponent();\r\n\r\n\t\treturn column.modules.sort.sorter.call(this, a, b, el1Comp, el2Comp, column.getComponent(), dir, params);\r\n\t};\r\n\r\n\t//default data sorters\r\n\tSort.prototype.sorters = {\r\n\r\n\t\t//sort numbers\r\n\t\tnumber: function number(a, b, aRow, bRow, column, dir, params) {\r\n\t\t\tvar alignEmptyValues = params.alignEmptyValues;\r\n\t\t\tvar decimal = params.decimalSeparator;\r\n\t\t\tvar thousand = params.thousandSeparator;\r\n\t\t\tvar emptyAlign = 0;\r\n\r\n\t\t\ta = String(a);\r\n\t\t\tb = String(b);\r\n\r\n\t\t\tif (thousand) {\r\n\t\t\t\ta = a.split(thousand).join(\"\");\r\n\t\t\t\tb = b.split(thousand).join(\"\");\r\n\t\t\t}\r\n\r\n\t\t\tif (decimal) {\r\n\t\t\t\ta = a.split(decimal).join(\".\");\r\n\t\t\t\tb = b.split(decimal).join(\".\");\r\n\t\t\t}\r\n\r\n\t\t\ta = parseFloat(a);\r\n\t\t\tb = parseFloat(b);\r\n\r\n\t\t\t//handle non numeric values\r\n\t\t\tif (isNaN(a)) {\r\n\t\t\t\temptyAlign = isNaN(b) ? 0 : -1;\r\n\t\t\t} else if (isNaN(b)) {\r\n\t\t\t\temptyAlign = 1;\r\n\t\t\t} else {\r\n\t\t\t\t//compare valid values\r\n\t\t\t\treturn a - b;\r\n\t\t\t}\r\n\r\n\t\t\t//fix empty values in position\r\n\t\t\tif (alignEmptyValues === \"top\" && dir === \"desc\" || alignEmptyValues === \"bottom\" && dir === \"asc\") {\r\n\t\t\t\temptyAlign *= -1;\r\n\t\t\t}\r\n\r\n\t\t\treturn emptyAlign;\r\n\t\t},\r\n\r\n\t\t//sort strings\r\n\t\tstring: function string(a, b, aRow, bRow, column, dir, params) {\r\n\t\t\tvar alignEmptyValues = params.alignEmptyValues;\r\n\t\t\tvar emptyAlign = 0;\r\n\t\t\tvar locale;\r\n\r\n\t\t\t//handle empty values\r\n\t\t\tif (!a) {\r\n\t\t\t\temptyAlign = !b ? 0 : -1;\r\n\t\t\t} else if (!b) {\r\n\t\t\t\temptyAlign = 1;\r\n\t\t\t} else {\r\n\t\t\t\t//compare valid values\r\n\t\t\t\tswitch (_typeof(params.locale)) {\r\n\t\t\t\t\tcase \"boolean\":\r\n\t\t\t\t\t\tif (params.locale) {\r\n\t\t\t\t\t\t\tlocale = this.table.modules.localize.getLocale();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"string\":\r\n\t\t\t\t\t\tlocale = params.locale;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn String(a).toLowerCase().localeCompare(String(b).toLowerCase(), locale);\r\n\t\t\t}\r\n\r\n\t\t\t//fix empty values in position\r\n\t\t\tif (alignEmptyValues === \"top\" && dir === \"desc\" || alignEmptyValues === \"bottom\" && dir === \"asc\") {\r\n\t\t\t\temptyAlign *= -1;\r\n\t\t\t}\r\n\r\n\t\t\treturn emptyAlign;\r\n\t\t},\r\n\r\n\t\t//sort date\r\n\t\tdate: function date(a, b, aRow, bRow, column, dir, params) {\r\n\t\t\tif (!params.format) {\r\n\t\t\t\tparams.format = \"DD/MM/YYYY\";\r\n\t\t\t}\r\n\r\n\t\t\treturn this.sorters.datetime.call(this, a, b, aRow, bRow, column, dir, params);\r\n\t\t},\r\n\r\n\t\t//sort HH:mm formatted times\r\n\t\ttime: function time(a, b, aRow, bRow, column, dir, params) {\r\n\t\t\tif (!params.format) {\r\n\t\t\t\tparams.format = \"HH:mm\";\r\n\t\t\t}\r\n\r\n\t\t\treturn this.sorters.datetime.call(this, a, b, aRow, bRow, column, dir, params);\r\n\t\t},\r\n\r\n\t\t//sort datetime\r\n\t\tdatetime: function datetime(a, b, aRow, bRow, column, dir, params) {\r\n\t\t\tvar format = params.format || \"DD/MM/YYYY HH:mm:ss\",\r\n\t\t\t    alignEmptyValues = params.alignEmptyValues,\r\n\t\t\t    emptyAlign = 0;\r\n\r\n\t\t\tif (typeof moment != \"undefined\") {\r\n\t\t\t\ta = moment(a, format);\r\n\t\t\t\tb = moment(b, format);\r\n\r\n\t\t\t\tif (!a.isValid()) {\r\n\t\t\t\t\temptyAlign = !b.isValid() ? 0 : -1;\r\n\t\t\t\t} else if (!b.isValid()) {\r\n\t\t\t\t\temptyAlign = 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//compare valid values\r\n\t\t\t\t\treturn a - b;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//fix empty values in position\r\n\t\t\t\tif (alignEmptyValues === \"top\" && dir === \"desc\" || alignEmptyValues === \"bottom\" && dir === \"asc\") {\r\n\t\t\t\t\temptyAlign *= -1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn emptyAlign;\r\n\t\t\t} else {\r\n\t\t\t\tconsole.error(\"Sort Error - 'datetime' sorter is dependant on moment.js\");\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t//sort booleans\r\n\t\tboolean: function boolean(a, b, aRow, bRow, column, dir, params) {\r\n\t\t\tvar el1 = a === true || a === \"true\" || a === \"True\" || a === 1 ? 1 : 0;\r\n\t\t\tvar el2 = b === true || b === \"true\" || b === \"True\" || b === 1 ? 1 : 0;\r\n\r\n\t\t\treturn el1 - el2;\r\n\t\t},\r\n\r\n\t\t//sort if element contains any data\r\n\t\tarray: function array(a, b, aRow, bRow, column, dir, params) {\r\n\t\t\tvar el1 = 0;\r\n\t\t\tvar el2 = 0;\r\n\t\t\tvar type = params.type || \"length\";\r\n\t\t\tvar alignEmptyValues = params.alignEmptyValues;\r\n\t\t\tvar emptyAlign = 0;\r\n\r\n\t\t\tfunction calc(value) {\r\n\r\n\t\t\t\tswitch (type) {\r\n\t\t\t\t\tcase \"length\":\r\n\t\t\t\t\t\treturn value.length;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"sum\":\r\n\t\t\t\t\t\treturn value.reduce(function (c, d) {\r\n\t\t\t\t\t\t\treturn c + d;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"max\":\r\n\t\t\t\t\t\treturn Math.max.apply(null, value);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"min\":\r\n\t\t\t\t\t\treturn Math.min.apply(null, value);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"avg\":\r\n\t\t\t\t\t\treturn value.reduce(function (c, d) {\r\n\t\t\t\t\t\t\treturn c + d;\r\n\t\t\t\t\t\t}) / value.length;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//handle non array values\r\n\t\t\tif (!Array.isArray(a)) {\r\n\t\t\t\talignEmptyValues = !Array.isArray(b) ? 0 : -1;\r\n\t\t\t} else if (!Array.isArray(b)) {\r\n\t\t\t\talignEmptyValues = 1;\r\n\t\t\t} else {\r\n\r\n\t\t\t\t//compare valid values\r\n\t\t\t\tel1 = a ? calc(a) : 0;\r\n\t\t\t\tel2 = b ? calc(b) : 0;\r\n\r\n\t\t\t\treturn el1 - el2;\r\n\t\t\t}\r\n\r\n\t\t\t//fix empty values in position\r\n\t\t\tif (alignEmptyValues === \"top\" && dir === \"desc\" || alignEmptyValues === \"bottom\" && dir === \"asc\") {\r\n\t\t\t\temptyAlign *= -1;\r\n\t\t\t}\r\n\r\n\t\t\treturn emptyAlign;\r\n\t\t},\r\n\r\n\t\t//sort if element contains any data\r\n\t\texists: function exists(a, b, aRow, bRow, column, dir, params) {\r\n\t\t\tvar el1 = typeof a == \"undefined\" ? 0 : 1;\r\n\t\t\tvar el2 = typeof b == \"undefined\" ? 0 : 1;\r\n\r\n\t\t\treturn el1 - el2;\r\n\t\t},\r\n\r\n\t\t//sort alpha numeric strings\r\n\t\talphanum: function alphanum(as, bs, aRow, bRow, column, dir, params) {\r\n\t\t\tvar a,\r\n\t\t\t    b,\r\n\t\t\t    a1,\r\n\t\t\t    b1,\r\n\t\t\t    i = 0,\r\n\t\t\t    L,\r\n\t\t\t    rx = /(\\d+)|(\\D+)/g,\r\n\t\t\t    rd = /\\d/;\r\n\t\t\tvar alignEmptyValues = params.alignEmptyValues;\r\n\t\t\tvar emptyAlign = 0;\r\n\r\n\t\t\t//handle empty values\r\n\t\t\tif (!as && as !== 0) {\r\n\t\t\t\temptyAlign = !bs && bs !== 0 ? 0 : -1;\r\n\t\t\t} else if (!bs && bs !== 0) {\r\n\t\t\t\temptyAlign = 1;\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (isFinite(as) && isFinite(bs)) return as - bs;\r\n\t\t\t\ta = String(as).toLowerCase();\r\n\t\t\t\tb = String(bs).toLowerCase();\r\n\t\t\t\tif (a === b) return 0;\r\n\t\t\t\tif (!(rd.test(a) && rd.test(b))) return a > b ? 1 : -1;\r\n\t\t\t\ta = a.match(rx);\r\n\t\t\t\tb = b.match(rx);\r\n\t\t\t\tL = a.length > b.length ? b.length : a.length;\r\n\t\t\t\twhile (i < L) {\r\n\t\t\t\t\ta1 = a[i];\r\n\t\t\t\t\tb1 = b[i++];\r\n\t\t\t\t\tif (a1 !== b1) {\r\n\t\t\t\t\t\tif (isFinite(a1) && isFinite(b1)) {\r\n\t\t\t\t\t\t\tif (a1.charAt(0) === \"0\") a1 = \".\" + a1;\r\n\t\t\t\t\t\t\tif (b1.charAt(0) === \"0\") b1 = \".\" + b1;\r\n\t\t\t\t\t\t\treturn a1 - b1;\r\n\t\t\t\t\t\t} else return a1 > b1 ? 1 : -1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn a.length > b.length;\r\n\t\t\t}\r\n\r\n\t\t\t//fix empty values in position\r\n\t\t\tif (alignEmptyValues === \"top\" && dir === \"desc\" || alignEmptyValues === \"bottom\" && dir === \"asc\") {\r\n\t\t\t\temptyAlign *= -1;\r\n\t\t\t}\r\n\r\n\t\t\treturn emptyAlign;\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"sort\", Sort);\r\n\r\n\tvar Validate = function Validate(table) {\r\n\t\tthis.table = table;\r\n\t\tthis.invalidCells = [];\r\n\t};\r\n\r\n\t//validate\r\n\tValidate.prototype.initializeColumn = function (column) {\r\n\t\tvar self = this,\r\n\t\t    config = [],\r\n\t\t    validator;\r\n\r\n\t\tif (column.definition.validator) {\r\n\r\n\t\t\tif (Array.isArray(column.definition.validator)) {\r\n\t\t\t\tcolumn.definition.validator.forEach(function (item) {\r\n\t\t\t\t\tvalidator = self._extractValidator(item);\r\n\r\n\t\t\t\t\tif (validator) {\r\n\t\t\t\t\t\tconfig.push(validator);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tvalidator = this._extractValidator(column.definition.validator);\r\n\r\n\t\t\t\tif (validator) {\r\n\t\t\t\t\tconfig.push(validator);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tcolumn.modules.validate = config.length ? config : false;\r\n\t\t}\r\n\t};\r\n\r\n\tValidate.prototype._extractValidator = function (value) {\r\n\t\tvar type, params, pos;\r\n\r\n\t\tswitch (typeof value === 'undefined' ? 'undefined' : _typeof(value)) {\r\n\t\t\tcase \"string\":\r\n\t\t\t\tpos = value.indexOf(':');\r\n\r\n\t\t\t\tif (pos > -1) {\r\n\t\t\t\t\ttype = value.substring(0, pos);\r\n\t\t\t\t\tparams = value.substring(pos + 1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttype = value;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn this._buildValidator(type, params);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"function\":\r\n\t\t\t\treturn this._buildValidator(value);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"object\":\r\n\t\t\t\treturn this._buildValidator(value.type, value.parameters);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\tValidate.prototype._buildValidator = function (type, params) {\r\n\r\n\t\tvar func = typeof type == \"function\" ? type : this.validators[type];\r\n\r\n\t\tif (!func) {\r\n\t\t\tconsole.warn(\"Validator Setup Error - No matching validator found:\", type);\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\treturn {\r\n\t\t\t\ttype: typeof type == \"function\" ? \"function\" : type,\r\n\t\t\t\tfunc: func,\r\n\t\t\t\tparams: params\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n\r\n\tValidate.prototype.validate = function (validators, cell, value) {\r\n\t\tvar self = this,\r\n\t\t    valid = [],\r\n\t\t    invalidIndex = this.invalidCells.indexOf(cell);\r\n\r\n\t\tif (validators) {\r\n\t\t\tvalidators.forEach(function (item) {\r\n\t\t\t\tif (!item.func.call(self, cell.getComponent(), value, item.params)) {\r\n\t\t\t\t\tvalid.push({\r\n\t\t\t\t\t\ttype: item.type,\r\n\t\t\t\t\t\tparameters: item.params\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tvalid = valid.length ? valid : true;\r\n\r\n\t\tif (!cell.modules.validate) {\r\n\t\t\tcell.modules.validate = {};\r\n\t\t}\r\n\r\n\t\tif (valid === true) {\r\n\t\t\tcell.modules.validate.invalid = false;\r\n\t\t\tcell.getElement().classList.remove(\"tabulator-validation-fail\");\r\n\r\n\t\t\tif (invalidIndex > -1) {\r\n\t\t\t\tthis.invalidCells.splice(invalidIndex, 1);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tcell.modules.validate.invalid = true;\r\n\r\n\t\t\tif (this.table.options.validationMode !== \"manual\") {\r\n\t\t\t\tcell.getElement().classList.add(\"tabulator-validation-fail\");\r\n\t\t\t}\r\n\r\n\t\t\tif (invalidIndex == -1) {\r\n\t\t\t\tthis.invalidCells.push(cell);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn valid;\r\n\t};\r\n\r\n\tValidate.prototype.getInvalidCells = function () {\r\n\t\tvar output = [];\r\n\r\n\t\tthis.invalidCells.forEach(function (cell) {\r\n\t\t\toutput.push(cell.getComponent());\r\n\t\t});\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\tValidate.prototype.clearValidation = function (cell) {\r\n\t\tvar invalidIndex;\r\n\r\n\t\tif (cell.modules.validate && cell.modules.validate.invalid) {\r\n\r\n\t\t\tcell.getElement().classList.remove(\"tabulator-validation-fail\");\r\n\t\t\tcell.modules.validate.invalid = false;\r\n\r\n\t\t\tinvalidIndex = this.invalidCells.indexOf(cell);\r\n\r\n\t\t\tif (invalidIndex > -1) {\r\n\t\t\t\tthis.invalidCells.splice(invalidIndex, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tValidate.prototype.validators = {\r\n\r\n\t\t//is integer\r\n\t\tinteger: function integer(cell, value, parameters) {\r\n\t\t\tif (value === \"\" || value === null || typeof value === \"undefined\") {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tvalue = Number(value);\r\n\t\t\treturn typeof value === 'number' && isFinite(value) && Math.floor(value) === value;\r\n\t\t},\r\n\r\n\t\t//is float\r\n\t\tfloat: function float(cell, value, parameters) {\r\n\t\t\tif (value === \"\" || value === null || typeof value === \"undefined\") {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tvalue = Number(value);\r\n\t\t\treturn typeof value === 'number' && isFinite(value) && value % 1 !== 0;\r\n\t\t},\r\n\r\n\t\t//must be a number\r\n\t\tnumeric: function numeric(cell, value, parameters) {\r\n\t\t\tif (value === \"\" || value === null || typeof value === \"undefined\") {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn !isNaN(value);\r\n\t\t},\r\n\r\n\t\t//must be a string\r\n\t\tstring: function string(cell, value, parameters) {\r\n\t\t\tif (value === \"\" || value === null || typeof value === \"undefined\") {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn isNaN(value);\r\n\t\t},\r\n\r\n\t\t//maximum value\r\n\t\tmax: function max(cell, value, parameters) {\r\n\t\t\tif (value === \"\" || value === null || typeof value === \"undefined\") {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn parseFloat(value) <= parameters;\r\n\t\t},\r\n\r\n\t\t//minimum value\r\n\t\tmin: function min(cell, value, parameters) {\r\n\t\t\tif (value === \"\" || value === null || typeof value === \"undefined\") {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn parseFloat(value) >= parameters;\r\n\t\t},\r\n\r\n\t\t//starts with  value\r\n\t\tstarts: function starts(cell, value, parameters) {\r\n\t\t\tif (value === \"\" || value === null || typeof value === \"undefined\") {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn String(value).toLowerCase().startsWith(String(parameters).toLowerCase());\r\n\t\t},\r\n\r\n\t\t//ends with  value\r\n\t\tends: function ends(cell, value, parameters) {\r\n\t\t\tif (value === \"\" || value === null || typeof value === \"undefined\") {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn String(value).toLowerCase().endsWith(String(parameters).toLowerCase());\r\n\t\t},\r\n\r\n\t\t//minimum string length\r\n\t\tminLength: function minLength(cell, value, parameters) {\r\n\t\t\tif (value === \"\" || value === null || typeof value === \"undefined\") {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn String(value).length >= parameters;\r\n\t\t},\r\n\r\n\t\t//maximum string length\r\n\t\tmaxLength: function maxLength(cell, value, parameters) {\r\n\t\t\tif (value === \"\" || value === null || typeof value === \"undefined\") {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn String(value).length <= parameters;\r\n\t\t},\r\n\r\n\t\t//in provided value list\r\n\t\tin: function _in(cell, value, parameters) {\r\n\t\t\tif (value === \"\" || value === null || typeof value === \"undefined\") {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tif (typeof parameters == \"string\") {\r\n\t\t\t\tparameters = parameters.split(\"|\");\r\n\t\t\t}\r\n\r\n\t\t\treturn value === \"\" || parameters.indexOf(value) > -1;\r\n\t\t},\r\n\r\n\t\t//must match provided regex\r\n\t\tregex: function regex(cell, value, parameters) {\r\n\t\t\tif (value === \"\" || value === null || typeof value === \"undefined\") {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tvar reg = new RegExp(parameters);\r\n\r\n\t\t\treturn reg.test(value);\r\n\t\t},\r\n\r\n\t\t//value must be unique in this column\r\n\t\tunique: function unique(cell, value, parameters) {\r\n\t\t\tif (value === \"\" || value === null || typeof value === \"undefined\") {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tvar unique = true;\r\n\r\n\t\t\tvar cellData = cell.getData();\r\n\t\t\tvar column = cell.getColumn()._getSelf();\r\n\r\n\t\t\tthis.table.rowManager.rows.forEach(function (row) {\r\n\t\t\t\tvar data = row.getData();\r\n\r\n\t\t\t\tif (data !== cellData) {\r\n\t\t\t\t\tif (value == column.getFieldValue(data)) {\r\n\t\t\t\t\t\tunique = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn unique;\r\n\t\t},\r\n\r\n\t\t//must have a value\r\n\t\trequired: function required(cell, value, parameters) {\r\n\t\t\treturn value !== \"\" && value !== null && typeof value !== \"undefined\";\r\n\t\t}\r\n\t};\r\n\r\n\tTabulator.prototype.registerModule(\"validate\", Validate);\r\n\r\n\treturn Tabulator;\r\n});"],"file":"tabulator.min.js"}