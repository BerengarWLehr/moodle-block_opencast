define(["jquery"],function(a){window.presenterIntervalHandle=null;window.presentationIntervalHandle=null;window.presenterRun=!1;window.presentationRun=!1;function b(){if(!window.presentationRun&&!window.presenterRun){clearInterval(window.presentationIntervalHandle);clearInterval(window.presenterIntervalHandle);a("[name=\"submitbutton\"]").removeAttr("disabled")}}function c(){a("div[data-fieldtype=\"autocomplete\"]").each(function(b,c){var d=a(c).find("input");if(!d.hasClass("form-control")){d.addClass("form-control")}})}function d(b){var c=a("input[name=\"title\"]").val();if(!c&&b){a("input[name=\"title\"]").val(b)}}function f(b){var c="";if(b.length){var d=b.find(".filepicker-filename > a");c=d.length?a(d[0]).text():""}return c}return{init:function init(){a("#termsofuse").hide();a("#termsofuse_toggle").on("click",function(b){a("#termsofuse").toggle();b.preventDefault()});a(".local_chunkupload input[type=\"file\"]").on("change",function(b){setTimeout(function(){var c=a(b.currentTarget).siblings("label.chunkupload-label").find(".chunkupload-filename");if(c.length){d(a(c[0]).text())}},500)});a(".filepickerhidden").on("change",function(b){setTimeout(function(){var c=a(b.currentTarget).parent().find(".filepicker-filelist"),e=f(c);d(e)},500)});a(".filepicker-filelist").on("drop",function(c){var e=c.currentTarget,g=a(e).parent().siblings(".filepickerhidden").attr("name");a("[name=\"submitbutton\"]").attr("disabled","disabled");if("video_presenter"==g){a(e).addClass("presenter-uploading");window.presenterIntervalHandle=setInterval(function(){window.presenterRun=!0;if(!a(".presenter-uploading").hasClass("dndupload-inprogress")){window.presenterRun=!1;b()}},500)}else{a(e).addClass("presentation-uploading");window.presenterIntervalHandle=setInterval(function(){window.presentationRun=!0;if(!a(".presentation-uploading").hasClass("dndupload-inprogress")){window.presentationRun=!1;b()}},500)}setTimeout(function(){var a=f(e);d(a)},500)});setTimeout(function(){c();a(".moreless-actions").on("click",function(){c()})},1e3)}}});
//# sourceMappingURL=block_form_handler.min.js.map
