define ("block_opencast/block_workflow_settings",["jquery","core/modal_factory","core/modal_events","core/str","core/url","core/ajax","core/notification"],function(a,b,c,d,f,g,h){var i=function(c){a("button[data-class=\"config_workflow\"]").on("click",function(d){d.preventDefault();var e=a(d.currentTarget).data("id");b.create({type:b.types.DEFAULT,title:c[0],body:"<iframe id=\"config-frame\" class=\"w-100 mh-100 border-0\" sandbox=\"allow-forms allow-scripts\" src=\""+f.relativeUrl("blocks/opencast/serveworkflowconfigpanel.php",{workflowid:e})+"\"</iframe>"}).then(function(a){a.show()})})},j=function(d){a("button[data-class=\"del_workflow\"]").on("click",function(f){f.preventDefault();var e=a(f.currentTarget).data("id"),i=a(f.currentTarget).data("defid");b.create({type:b.types.SAVE_CANCEL,title:d[1],body:d[2].replace("%WORKFLOW%",i)}).then(function(b){b.setSaveButtonText(d[3]);b.getRoot().on(c.save,function(){g.call([{methodname:"block_opencast_delete_workflow",args:{id:e},done:function done(b){if(b.success){a("#workflow_"+i).remove();a("#fitem_id_delete_"+e).remove()}else{h.alert(d[4],d[5])}},fail:function fail(){h.alert(d[4],d[5])}}])});b.show()})})};return{init:function init(){d.get_strings([{key:"configworkflow_modal_title",component:"block_opencast"},{key:"workflow_delete",component:"block_opencast"},{key:"workflow_delete_confirm",component:"block_opencast"},{key:"delete"},{key:"error"},{key:"workflow_delete_error",component:"block_opencast"}]).then(function(a){i(a);j(a)});a("button[data-class=\"del_workflow\"]").addClass("btn-danger");window.addEventListener("message",function(b){if("null"!==b.origin){return}a("#config-frame").height(b.data)})}}});
//# sourceMappingURL=block_workflow_settings.min.js.map
