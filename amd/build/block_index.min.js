define ("block_opencast/block_index",["jquery","core/modal_factory","core/modal_events","core/str","core/url"],function(a,b,c,d,f){return{init:function init(g){d.get_strings([{key:"reportproblem_modal_title",component:"block_opencast"},{key:"reportproblem_modal_body",component:"block_opencast"},{key:"reportproblem_modal_placeholder",component:"block_opencast"},{key:"reportproblem_modal_required",component:"block_opencast"},{key:"reportproblem_modal_submit",component:"block_opencast"}]).then(function(d){a(".report-problem").on("click",function(h){h.preventDefault();var e=a(h.currentTarget);b.create({type:b.types.SAVE_CANCEL,title:d[0],body:"<form id=\"reportProblemForm\" method=\"post\" action=\""+f.relativeUrl("blocks/opencast/reportproblem.php",{courseid:g,videoid:e.data("id")})+"\"><div class=\"form-group\"><label for=\"inputMessage\">"+d[1]+"</label><textarea class=\"form-control\" id=\"inputMessage\" name=\"inputMessage\" rows=\"4\" placeholder=\""+d[2]+"\"></textarea>  <div class=\"invalid-feedback d-none\" id=\"messageValidation\">"+d[3]+"</div></div></form>"}).then(function(b){b.setSaveButtonText(d[4]);var e=b.getRoot();e.on(c.save,function(b){if(a("#inputMessage").val()){a("#reportProblemForm").submit()}else{a("#inputMessage").addClass("is-invalid");a("#messageValidation").removeClass("d-none")}b.preventDefault()});b.show()})})})}}});
//# sourceMappingURL=block_index.min.js.map
